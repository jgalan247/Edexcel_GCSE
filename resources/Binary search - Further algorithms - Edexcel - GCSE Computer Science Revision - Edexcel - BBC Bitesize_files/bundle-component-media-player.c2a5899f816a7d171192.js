"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8915],{26478:(e,t,r)=>{r.d(t,{A:()=>Se});var a=r(83051),n=r(91785),i=r(27813),l=r(41738),o=r(63696),u=r(38894),s=r(10737),d=r(55522),c=r(75729),p=r(62540),v=(0,a.default)("div",{target:"eaj4kwa0",label:"LogoIconWrapper"})("width:30%;display:flex;color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";opacity:0.2;"),f=e=>{var{shouldUseHoldingImagePlaceholder:t,holdingImageUrl:r,holdingImageAltText:a}=e;return t&&r?(0,p.jsx)(c.A,{"data-testid":"with-holding-image-placeholder",src:r,alt:a}):(0,p.jsx)(v,{"data-testid":"bbc-logo-wrapper",children:(0,p.jsx)(d.A,{type:"logo:bbc"})})};const y={default:{NO_JS_REASON:"This video can not be played",NO_JS_MESSAGE:"To play this video you need to enable JavaScript in your browser."},cy:{NO_JS_REASON:"Methu chwarae'r fideo",NO_JS_MESSAGE:"I wylio'r fideo yma, mae'n rhaid galluogi JavaScript yn y porwr."},gd:{NO_JS_REASON:"Cha ghabh am bhideo seo cluiche",NO_JS_MESSAGE:"Feumar cead a thoirt do JavaScript sa bhrabhsair agad 'son am bhideo fhaicinn."}};var m=e=>{if(e){var t=e.trim();return t.startsWith("var(")?t.substring(4,t.length-1):t}},b=r(11216),g=r(42389),h=r(2097),P=e=>{var{idType:t}=e;return"serviceID"===t||void 0},O=e=>e?"allowed":void 0,w=(e,t)=>{var r=e.items[0];if(r){var{id:a,idType:n="vpid",live:i,holdingImageUrl:l,holdingImage:o,title:u,duration:s,durationFormatted:d,kind:c,guidance:p,isEmbeddingAllowed:v,isAdvertisingAllowed:f,authToken:y}=r,m=[{[n]:a,kind:c,live:i,duration:s,jwtToken:y}];return t&&f&&m.unshift({kind:"advert"}),{title:u,holdingImageURL:l,holdingImage:o,guidance:p,date:d,embedRights:O(v),items:m,simulcast:P(r),holdingImageVerticalBlur:!0}}},E=e=>{var{analytics:t}=e;return t&&t.page?t.page.name:void 0},j=e=>{var{pid:t,items:r,analytics:a}=e;if(a){var{page:{destination:n,producer:i,additionalProperties:l}}=a,o=null==l?void 0:l.playlist_name;return 0===r.length?{destination:n,producer:i,playlistName:o}:{clipPID:t,destination:n,producer:i,playlistName:o}}};function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=["bbc_android","bbc_apple"],T=r(40550);const C=()=>T.A&&window.location.hostname;var D=(0,a.default)("div",{target:"e89qgea0",label:"Error"})({name:"19997jf",styles:"display:flex;justify-content:center;align-items:center;padding:32px"});function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var F=(e,t,r)=>{var a,n,i=null!==(a=null===(n=e.subtitles)||void 0===n?void 0:n.defaultOn)&&void 0!==a?a:t,l=i?{subtitles:{defaultOn:i}}:void 0;return R(R(R({},e),l),{},{locale:R({lang:r},e.locale)})};function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B=e=>{var t,{playerSettings:r,forcePlaceholder:a,subtitlesDefaultOn:n,language:i,containerRef:l,hasGlobalAdsEnabled:u}=e,s=(t=(0,g.Ry)()["global-smp-stage"]?"//emp.stage.bbci.co.uk/emp/bump-4/bump-4":"//emp.bbci.co.uk/emp/bump-4/bump-4",(0,b.A)(t)),[d,c]=(0,o.useState)(),v=(()=>{var[e,t]=(0,o.useState)();return(0,o.useEffect)((()=>{"localhost"===C()&&t((0,p.jsx)(D,{children:"MediaPlayer is not available on localhost. Try localhost.bbc.com"}))}),[]),e})(),f=(0,o.useEffectEvent)((()=>{if(s&&!v&&!a&&!d&&null!==u){var e=(e=>{var{media:t,uiOptions:r,hasGlobalAdsEnabled:a,shouldDelayEmbed:n,noAutomaticNextQueued:i,useBackgroundPlayer:l,preloadSettings:o,intentNotRequired:u,enablePhantomPlayer:s}=e,{appName:d,appType:c}=(e=>{var t,r=(0,h.Ri)("ckpf_app");return r&&x.includes(r)?{appName:r,appType:"mobile-web"}:r?{appName:r,appType:"mobile-app"}:{appName:null==e?void 0:e.smpAppName,appType:null!==(t=null==e?void 0:e.smpAppType)&&void 0!==t?t:"responsive"}})(t);return A(A({product:l?"background":"generic",enableToucan:t.isToucanEnabled||!1,playlistObject:w(t,a),ui:r,statsObject:j(t),counterName:E(t),externalEmbedCode:t.externalEmbedUrl?'<iframe width="400" height="500" frameborder="0" src="{url}"></iframe>':void 0,externalEmbedUrl:t.externalEmbedUrl,appName:d,appType:c,mediator:t.mediator,noAutomaticNextQueued:i,delayEmbed:n,webcastData:t.webcastData,supportFakeFullscreen:!0,intentNotRequired:u},s?{phantomPlayer:!0}:{}),o)})(_(_({},r),{},{uiOptions:F(r.uiOptions,n,i),hasGlobalAdsEnabled:u})),t=s.player(l.current,e);c(t)}}));return(0,o.useEffect)((()=>{f()}),[s,v,a,u]),{player:d,localhostError:v}},L=r(60010);function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function q(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var J=r(49565),K=r(99070),H=r(46853);function Q(e,t,r,a,n,i,l){try{var o=e[i](l),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(a,n)}function V(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var i=e.apply(t,r);function l(e){Q(i,a,n,l,o,"next",e)}function o(e){Q(i,a,n,l,o,"throw",e)}l(void 0)}))}}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){X(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $=(e,t)=>e.map((e=>({playlist:w(e,t),counterName:E(e),statsObject:j(e)})));function Z(e,t,r,a,n,i,l){try{var o=e[i](l),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(a,n)}var Y=function(){var e,t=(e=function*(){var e,t;return null!==(e=window.dotcom)&&void 0!==e&&e.ads||(yield new Promise((e=>setTimeout(e,200)))),yield null===(t=window.dotcom)||void 0===t||null===(t=t.ads)||void 0===t?void 0:t.enabled()},function(){var t=this,r=arguments;return new Promise((function(a,n){var i=e.apply(t,r);function l(e){Z(i,a,n,l,o,"next",e)}function o(e){Z(i,a,n,l,o,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}();function ee(e,t,r,a,n,i,l){try{var o=e[i](l),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(a,n)}function te(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var i=e.apply(t,r);function l(e){ee(i,a,n,l,o,"next",e)}function o(e){ee(i,a,n,l,o,"throw",e)}l(void 0)}))}}var re=e=>{var{player:t,hasGlobalAdsEnabled:r}=e,[a,n]=(0,o.useState)(null);return(0,o.useEffect)((()=>{if(t&&r){var e=function(){var e=te((function*(){var e=yield window.dotcom.ads.getAdTag();n(e),t.dispatchEvent("bbc.smp.plugins.ads.event.updateAdTag",{adTag:e})}));return function(){return e.apply(this,arguments)}}();e(),t.bind("playlistLoaded",e)}}),[t,r]),{adTag:a}},ae=r(54404),ne={events:{},sentCount:0,receivedCount:0,lastAppUrl:null,iframe:null,ready:!1,debug:!1,processingQueue:!1,sendQueue:[],messages:{}},ie=()=>{if(ne.sendQueue.length>0){var[e,t]=ne.sendQueue.shift();if(ne.ready){var r=((e,t,r)=>{var a="bridge://m.bbc.co.uk/sport?n=".concat(t,"&name=").concat(encodeURIComponent(e));return r&&(a+="&params=".concat(encodeURIComponent(JSON.stringify(r)))),a})(e,ne.sentCount,t);ne.lastAppUrl=r,ne.iframe.src=r,ne.sentCount+=1}setTimeout((()=>{ie()}),0)}else ne.processingQueue=!1};function le(e,t){ne.sendQueue.push([e,t]),ne.processingQueue||(ne.processingQueue=!0,ie())}function oe(e,t,r){r?function(e,t){if(ne.ready){var r=ne.messages[e];r&&r(t)}}(e,t):le(e,t)}var ue=(e,t)=>{ne.messages[e]=t},se=()=>{le("app:cast:status:request")};var de=r(25987),ce=r(49348);function pe(e,t,r,a,n,i,l){try{var o=e[i](l),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(a,n)}var ve,fe={playing:"started",pause:"paused",playlistEnded:"ended"},ye=Object.keys(fe),me=function(){var e,t=(e=function*(e){var{uasClient:t,smpEventName:r,currentTime:a,hostname:n,activityData:i,mediaKind:l}=e;if(ye.includes(r)&&"trailer"!==l&&(e=>(null==e?void 0:e.resourceDomain)&&(null==e?void 0:e.resourceId)&&(null==e?void 0:e.resourceType)&&(null==e?void 0:e.actionContext)&&(null==e?void 0:e.url))(i)&&(0,J.A)()&&(0,H.XS)()){var o=(0,de.A)().withAction(fe[r]).withResourceDomain(i.resourceDomain).withResourceId(i.resourceId).withResourceType(i.resourceType).withActionContext("".concat(i.actionContext,"#").concat(Math.floor(a))).withUrl("https://".concat(n).concat(i.url)).build();try{yield t.post(o)}catch(e){console.error(e)}}},function(){var t=this,r=arguments;return new Promise((function(a,n){var i=e.apply(t,r);function l(e){pe(i,a,n,l,o,"next",e)}function o(e){pe(i,a,n,l,o,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}(),be=["initialised","continuousPlay.play","continuousPlay.play.requested","continuousPlayCountdownStarted","playing","pause","ended","fullscreenEnter","fullscreenExit","playlistEnded","playlistStopped","mediaItemChanged","enterFakeFullscreen","exitFakeFullscreen","uiControlBarShown","uiControlBarHidden","timeupdate","userPlay","statsNavigation"],ge=r(18264);function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){Oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oe(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var we=(0,a.default)("div",{target:"e1h75hkw2",label:"MediaPlayerWrapper"})(""),Ee=(0,a.default)("div",{target:"e1h75hkw1",label:"MediaContainer"})((e=>{var{fixedHeight:t}=e;return 0!==t&&"height: ".concat(t,";")}),";padding-bottom:",(e=>{var{aspectRatioPadding:t,fixedHeight:r}=e;return 0===r?"".concat(t,"%"):"0px"}),";position:relative;width:100%;color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";background-color:",(e=>{var{theme:t}=e;return t.colourPalette.midground}),";html.no-js &{display:none;}",(e=>{var t,r,{isInFakeFullscreen:a}=e;return a&&(0,n.AH)(ve||(t=["\n      z-index: 9999;\n    "],r||(r=t.slice(0)),ve=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(r)}}))))}),";"),je=(0,a.default)("div",{target:"e1h75hkw0",label:"MediaInner"})({name:"hku1gd",styles:"position:absolute;width:100%;height:100%;display:flex;align-items:center;justify-content:center"});const Se=e=>{var t,r,a,n,{media:d,uiOptions:c={},onwardJourneyOptions:v={},height:b=0,onStateChanged:h,onMediaChanged:P,getNextPreviousMedia:O,shouldAutoplay:S,orientation:A="landscape",shouldDelayEmbed:k=!1,shouldPauseMedia:x=!1,forcePlaceholder:T=!1,noAutomaticNextQueued:D=!1,activityData:I,shouldFullscreen:R,enableFullScreenPlugin:N,setVideoOverlayContainer:F,enableVideoOverlayPlugin:U,enableOTTAdvertsPlugin:_,enableStattoPlugin:M,enableAppBridge:Q,subtitlesDefaultOn:W,preload:X,useBackgroundPlayer:Z=!1,playerControllerRef:ee,shouldUseHoldingImagePlaceholder:ie=!1,enablePhantomPlayer:de=!1}=e,pe=(0,o.useRef)(),ve=(0,l.Dn)(),fe=(e=>{var t=(0,g.Ry)();return(0,o.useMemo)((()=>{var r=((e,t)=>e["global-media-preload-high"]?"high":e["global-media-preload-medium"]?"medium":e["global-media-preload-low"]?"low":t||void 0)(t,e);if(r)return{allowPreload:!0,preload:r}}),[t,e])})(X),ye=(0,o.useRef)(d.currentlyPlayingKey),he=(null===(t=d.items[0])||void 0===t||null===(t=t.holdingImage)||void 0===t?void 0:t.url.replace("$recipe","320xn").replace("{width}","320"))||(null===(r=d.items[0])||void 0===r||null===(r=r.holdingImageUrl)||void 0===r?void 0:r.replace("$recipe","320xn").replace("{width}","320")),Oe=(null===(a=d.items[0])||void 0===a?void 0:a.holdingImageAltText)||"",Se=(0,s.Oo)(),Ae=(0,i.u)(),ke=null===(n=d.items[0])||void 0===n?void 0:n.live,xe=(0,o.useMemo)((()=>{var e=Ae.updateTheme({colourScheme:"dark"});return Pe(Pe({},c),((e,t,r)=>e?{cssColour:m(t.colourPalette.states.live),cssForeColour:m(t.colourPalette.states.onLive),colour:r.colourPalette.states.live,foreColour:r.colourPalette.states.onLive}:{cssColour:m(t.colourPalette.mediaPlayer.interaction),cssForeColour:m(t.colourPalette.mediaPlayer.onInteraction),colour:r.colourPalette.mediaPlayer.interaction,foreColour:r.colourPalette.mediaPlayer.onInteraction})(ke,Ae,e))}),[ke,c,Ae]),Te=100*("portrait"===A?16/9:9/16),Ce=y[ve]||y.default,{hasGlobalAdsEnabled:De}=(e=>{var{media:t}=e,[r,a]=(0,o.useState)((()=>!!(e=>!!e.isAdvertisingEnabled)(t)&&null)),n=(0,o.useEffectEvent)(te((function*(){if(null===r){var e=yield Y(t);a(e)}})));return(0,o.useEffect)((()=>{n()}),[]),{hasGlobalAdsEnabled:r}})({media:d}),{player:Ie,localhostError:Re}=B({playerSettings:{media:d,uiOptions:xe,shouldDelayEmbed:k,noAutomaticNextQueued:D,enableFullScreenPlugin:N,enableAppBridge:Q,useBackgroundPlayer:Z,preloadSettings:fe,intentNotRequired:Se,enablePhantomPlayer:de},forcePlaceholder:T,subtitlesDefaultOn:W,language:ve,containerRef:pe,hasGlobalAdsEnabled:De});(e=>{var{player:t,media:r,activeMediaKeyRef:a,activityData:n,onMediaChanged:i,onStateChanged:l}=e,u=(e=>{var t=(0,o.useRef)(null),r=Boolean(e),a=(0,o.useEffectEvent)((()=>{if(!t.current){var r=(null==e?void 0:e.environment)||"live",a=null==e?void 0:e.apiKey;t.current=((e,t,r)=>e&&t&&r?(0,ce.A)({apiKey:r,environment:e,activityType:"plays",isDotCom:t.endsWith(".com"),tokenRefreshToggle:!0}):null)(r,C(),a)}}));return(0,o.useEffect)((()=>{r&&a()}),[r]),t})(n),s=(0,o.useEffectEvent)((e=>{var o,{name:s,data:d}=e,c="continuousPlay.play"===s,p=-1===(null==d?void 0:d.index);if(!c||!p){var v,f;n&&me({uasClient:u.current,smpEventName:s,currentTime:null==t||null===(v=t.player)||void 0===v?void 0:v.currentTime(),hostname:C(),activityData:n,mediaKind:null==t||null===(f=t.mediaItem())||void 0===f?void 0:f.kind});var y=void 0!==(null==d?void 0:d.index),m=(null==r||null===(o=r.continuousPlay)||void 0===o||null===(o=o.mediaList)||void 0===o?void 0:o.length)>1;c&&y&&m&&(a.current=r.continuousPlay.mediaList[d.index].key,i&&i({index:d.index})),l&&l({name:s,data:d})}}));(0,o.useEffect)((()=>{if(t){var e=be.reduce(((e,r)=>(e[r]=e=>s({name:r,data:e}),t.bind(r,e[r]),e)),{});return()=>{be.forEach((r=>{null==t||t.unbind(r,e[r])}))}}}),[t])})({player:Ie,media:d,activeMediaKeyRef:ye,activityData:I,onMediaChanged:P,onStateChanged:h}),(e=>{var{player:t}=e;(0,o.useEffect)((()=>{if(t){var e=!1,r=()=>{e||(e=!0,window.performance.mark("media-player-ready-to-play"))},a=()=>{window.performance.mark("media-player-initialised")};return t.bind("showCta",r),t.bind("initialised",a),()=>{null==t||t.unbind("initialised",a),null==t||t.unbind("showCta",r)}}}),[t])})({player:Ie}),(e=>{var{player:t,enableVideoOverlayPlugin:r,setVideoOverlayContainer:a}=e,n=(0,o.useEffectEvent)((e=>{e.loadPlugin({html:L,playerOnly:!0},{setPluginContainer:a})}));(0,o.useEffect)((()=>{t&&r&&n(t)}),[t,r])})({player:Ie,enableVideoOverlayPlugin:U,setVideoOverlayContainer:F}),(e=>{var t,{player:r,media:a,onwardJourneyOptions:n,hasGlobalAdsEnabled:i}=e,l=(0,o.useRef)(!1),u=null==a||null===(t=a.continuousPlay)||void 0===t?void 0:t.mediaList,s=(null==u?void 0:u.length)>1,d=(0,o.useEffectEvent)((()=>{r&&u&&s&&!l.current&&null!==n&&(r.loadPlugin({html:"name:onwardJourney.js"},{name:"smp.plugin.continuousplay.playlistSetChanged",data:z({items:$(u,i)},n)}),l.current=!0)}));(0,o.useEffect)((()=>{d()}),[r,s]);var c=(0,o.useEffectEvent)((()=>{var e=null==a?void 0:a.isToucanEnabled;r&&u&&!e&&r.setData({name:"smp.plugin.continuousplay.playlistSetChanged",data:z({items:$(u,!1)},n)})}));(0,o.useEffect)((()=>{c()}),[r,u])})({player:Ie,media:d,onwardJourneyOptions:v,hasGlobalAdsEnabled:De}),(e=>{var{player:t,media:r,enableStattoPlugin:a}=e,n=(0,o.useRef)(!1),i=(0,g.Ry)()["live-statto-smp-use-test-plugin"]?"https://static.files.bbci.co.uk/statto-smp-plugin/toucan/test/plugin.js":"https://static.files.bbci.co.uk/statto-smp-plugin/toucan/latest/plugin.js";(0,o.useEffect)((()=>{t&&i&&null!=r&&r.isToucanEnabled&&a&&!n.current&&(t.loadPlugin(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({html:i},{module:!0,playerOnly:!0})),n.current=!0)}),[t,null==r?void 0:r.isToucanEnabled,i,a])})({player:Ie,media:d,enableStattoPlugin:M}),(e=>{var{player:t,enableOTTAdvertsPlugin:r}=e,a=(0,g.Ry)(),n=a["sfv-ott-adverts-plugin-test"]?"https://static.files.bbci.co.uk/marketing-technology/test/smp/plugins/ott-adverts/latest/release/ott-adverts-plugin.js":"https://static.files.bbci.co.uk/marketing-technology/live/smp/plugins/ott-adverts/latest/release/ott-adverts-plugin.js",i=!!a["sign-in-availability"],{env:l}=(0,s.i3)(),u=(0,o.useCallback)(V((function*(){var e="live"===l?"live":"test",t=C(),r=t&&t.endsWith(".com");if((0,J.A)())return(0,K.Z)({environment:e,isDotCom:r})})),[l]);(0,o.useEffect)((()=>{t&&r&&n&&t.loadPlugin({html:n},{platform:"internal-web",ensureTokens:u,isSignedIn:J.A,isPersonalisationEnabled:H.XS,signInAvailability:i})}),[t,r,n,i,u])})({player:Ie,enableOTTAdvertsPlugin:_}),(e=>{var{player:t,media:r,hasGlobalAdsEnabled:a}=e;(e=>{var{media:t,hasGlobalAdsEnabled:r}=e,a=(e=>{var t=e.items.find((e=>e.adCampaignKeyword));return t?t.adCampaignKeyword:null})(t);(0,o.useEffect)((()=>{r&&window.dotcom.setConfig("adCampaign",a)}),[a,r])})({media:r,hasGlobalAdsEnabled:a}),(e=>{var{player:t,hasGlobalAdsEnabled:r}=e,{adTag:a}=re({player:t,hasGlobalAdsEnabled:r}),n=Boolean(a),i=(0,o.useRef)(!1),l=(0,o.useEffectEvent)((()=>{!i.current&&r&&(t.loadPlugin({html:"name:dfpAds.js"},{name:"AdsPluginParameters",data:{adTag:a}}),i.current=!0)}));(0,o.useEffect)((()=>{t&&n&&l()}),[t,n])})({player:t,hasGlobalAdsEnabled:a})})({player:Ie,media:d,hasGlobalAdsEnabled:De}),function(e){var{player:t,enableFullScreenPlugin:r,shouldFullscreen:a}=e;(0,o.useEffect)((()=>{t&&r&&t.loadPlugin({html:ae})}),[t,r]),(0,o.useEffect)((()=>{t&&a&&t.dispatchEvent("fullScreenPlugin.launchFullscreen")}),[a,t])}({player:Ie,shouldFullscreen:R,enableFullScreenPlugin:N});var{isInFakeFullscreen:Ne}=function(e){var{player:t}=e,[r,a]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{if(t){var e=()=>a(!0),r=()=>a(!1);return t.bind("enterFakeFullscreen",e),t.bind("exitFakeFullscreen",r),()=>{t.unbind("enterFakeFullscreen",e),t.unbind("exitFakeFullscreen",r)}}}),[t]),(0,o.useEffect)((()=>{var e=e=>e.preventDefault();return r&&window.addEventListener("touchmove",e,{passive:!1}),()=>{window.removeEventListener("touchmove",e,{passive:!1})}}),[r]),{isInFakeFullscreen:r}}({player:Ie});(e=>{var{player:t}=e;(0,o.useEffect)((()=>{t&&t.load()}),[t])})({player:Ie}),(e=>{var{player:t,playerControllerRef:r}=e;(0,o.useImperativeHandle)(r,(()=>({next(){null==t||t.next()},previous(){null==t||t.previous()},pause(){null==t||t.pause()}})),[t])})({player:Ie,playerControllerRef:ee}),(e=>{var{player:t,getNextPreviousMedia:r}=e,a=(0,o.useEffectEvent)((e=>{if(r){var{playlist:a}=e,{previousMedia:n,nextMedia:i}=r(a);i&&t.queuePlaylist(w(i,!1)),n&&t.setPreviousPlaylist(w(n,!1)),t.updateUiConfig({controls:{alwaysEnableNextButton:Boolean(i),alwaysEnablePreviousButton:Boolean(n)}})}}));(0,o.useEffect)((()=>{if(t)return t.bind("playlistLoaded",a),()=>{null==t||t.unbind("playlistLoaded",a)}}),[t])})({player:Ie,getNextPreviousMedia:O}),(e=>{var{player:t,media:r,shouldAutoplay:a,activeMediaKeyRef:n,hasGlobalAdsEnabled:i}=e,l=(0,o.useEffectEvent)((()=>{n.current!==r.currentlyPlayingKey&&(t.loadPlaylist(w(r,i),{autoplay:a,counterName:E(r),statsObject:j(r),externalEmbedUrl:r.externalEmbedUrl,webcastData:r.webcastData}),n.current=r.currentlyPlayingKey)}));(0,o.useEffect)((()=>{t&&l()}),[t,r.currentlyPlayingKey]),(e=>{var{player:t,externalEmbedUrl:r}=e;(0,o.useEffect)((()=>{if(t){var{externalEmbedUrl:e}=t.settings();r&&r!==e&&t.settings({externalEmbedUrl:r})}}),[t,r])})({player:t,externalEmbedUrl:r.externalEmbedUrl})})({player:Ie,media:d,shouldAutoplay:S,activeMediaKeyRef:ye,hasGlobalAdsEnabled:De}),function(e){var{player:t,enableAppBridge:r}=e;(0,o.useEffect)((()=>{r&&function(){if(ne.send=oe,window.appBridge=ne,window.onesport={bridge:ne,bridgeHandshake:()=>{}},!ne.ready){ne.ready=!0;var e=document.createElement("iframe");e.src="about:blank",e.style.display="none",document.body.appendChild(e),ne.iframe=e,le("handshake")}}()}),[r]),(0,o.useEffect)((()=>{if(t&&r){var e=!1,a=null,n=()=>{var r=t.mediaItem()||{},a={pid:r.versionID,type:r.type,live:r.isLive,duration:r.duration};e=!0,le("app:media:play",a),se()},i=()=>{le("app:media:pause"),e=!1},l=()=>{var e,r=t.playlist(),n=null!==(e=r.posterImg)&&void 0!==e?e:r.holdingImageURL,i=null==n?void 0:n.replace("{recipe}","512x512"),l={title:r.title,posterURL:i};a=l,le("app:media:playlist",l)},o=()=>{le("app:media:playback-progress",{duration:t.duration(),currentTime:t.currentTime()})};return t.bind("playing",n),t.bind("pause",i),t.bind("mediaItemChanged",l),t.bind("timeupdate",o),ue("app:media:request:play",(()=>{t.play()})),ue("app:media:request:pause",(()=>{t.pause()})),ue("app:media:request:seekforward",(()=>{t.currentTime(t.currentTime()+10)})),ue("app:media:request:seekbackward",(()=>{t.currentTime(t.currentTime()-10)})),ue("app:media:request:seekto",(e=>{null!=e&&e.positionSecs&&t.currentTime(e.positionSecs)})),ue("app:cast:status",(r=>{var n=!0===r.isConnected||"true"===r.isConnected,i=t.mediaItem(),l=i&&r.mediaId!==i.vpid;n&&e&&l&&(t.stop(),(()=>{var e=t.mediaItem();le("app:cast:play",{mediaId:e.vpid,mediaType:e.isLive?"live":"vod",title:a.title,imageUrl:a.posterURL,pageUrl:window.location.href,statsId:"sport"})})())})),se(),()=>{null==t||t.unbind("playing",n),null==t||t.unbind("pause",i),null==t||t.unbind("mediaItemChanged",l),null==t||t.unbind("timeupdate",o),ue("app:media:request:play",null),ue("app:media:request:pause",null),ue("app:media:request:seekforward",null),ue("app:media:request:seekbackward",null),ue("app:media:request:seekto",null),ue("app:cast:status",null)}}}),[t,r])}({player:Ie,enableAppBridge:Q}),(e=>{var{player:t,uiOptions:r,useBackgroundPlayer:a}=e,[n,i]=(0,o.useState)(r);(0,o.useEffect)((()=>{t&&!a&&(ge(n,r)||(i(r),t.updateUiConfig(r)))}),[r,a,t,n])})({player:Ie,uiOptions:xe,useBackgroundPlayer:Z}),(e=>{var{error:t,player:r,useBackgroundPlayer:a,shouldPauseMedia:n}=e,i=(0,o.useRef)(n);(0,o.useEffect)((()=>{!t&&r&&(n?r.pause():i.current&&a&&r.play(),i.current=n)}),[r,t,n,a])})({player:Ie,useBackgroundPlayer:Z,shouldPauseMedia:x});var[Fe]=(e=>{var{player:t,useBackgroundPlayer:r}=e,[a,n]=(0,o.useState)(!0);return t&&r?[e=>{e.preventDefault(),a?(t.pause(),n(!1)):(t.play(),n(!0))}]:[null]})({player:Ie,useBackgroundPlayer:Z});return(0,p.jsxs)(we,{"data-chromatic":"ignore",children:[(0,p.jsx)(Ee,{fixedHeight:b,isInFakeFullscreen:Ne,"data-testid":"media-player-container-".concat(A),aspectRatioPadding:Te,onClick:Fe,children:(0,p.jsx)(je,{ref:pe,children:Re||(0,p.jsx)(f,{shouldUseHoldingImagePlaceholder:ie,holdingImageUrl:he,holdingImageAltText:Oe})})}),(0,p.jsx)("noscript",{children:(0,p.jsx)(u.A,{reason:Ce.NO_JS_REASON,message:Ce.NO_JS_MESSAGE,headingLevel:"2",collapseAtMobile:!0})})]})}}}]);