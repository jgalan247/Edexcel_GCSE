"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5857],{27508:(e,t,r)=>{r.d(t,{A:()=>X});var n,o,i,a=r(63696),l=r(83051),s=r(61223),c=r(95584),u=r(74437),d=r(63548),m=r(98804),p=r(26508),g=r(59226),f=r(99087),h=r(91785),v=r(35289),C=r(468),b=r(16061),x=r(27336),y=r(20048),j=r(34576),w=r(62540),A=e=>{var{withMonochromeControls:t,children:r}=e;return t?(0,w.jsx)(j.A,{on:"background",children:r}):r};function P(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var I={base:{min:v.E6},small:{min:v.jq},medium:{min:v._G},large:{min:v.R4},xl:{min:v.Yo},xxl:{min:v.f}},k=(0,C.A)(124),O="(pointer: fine), (min-width: ".concat(v.js,")"),S=(0,l.default)("div",{target:"e1mhatdq6",label:"CarouselWrapper"})({name:"nhejpy",styles:"container-type:inline-size"}),_=(0,l.default)("div",{target:"e1mhatdq5",label:"CarouselContainer"})("position:relative;--carousel-promo-peek:0.333;--carousel-left-padding:",(e=>{var{isCompact:t}=e;return t?0:u.SPACING_2}),";--carousel-right-padding:",u.SPACING_2,";--carousel-top-padding:",u.SPACING_2,";--carousel-bottom-padding:",u.SPACING_2,";--carousel-promo-spacing:",u.SPACING_2,";@container (min-width: ",v.cK,"){--carousel-promo-spacing:",u.SPACING_4,";}@supports not (container-type: inline-size){@media (min-width: ",v.cK,"){--carousel-promo-spacing:",u.SPACING_4,";}}@media ",O,"{--carousel-right-padding:",k,";--carousel-promo-peek:0;}",(e=>{var{isCompact:t}=e;return!t&&(0,h.AH)(n||(n=P(["\n      @media (min-width: ",") {\n        --carousel-left-padding: ",";\n        --carousel-right-padding: ",";\n      }\n\n      /*\n        The controls media query is duplicated to prevent it from being overridden by other spacing rules.\n        It must be placed before larger breakpoint queries (e.g., GROUP_5 and GROUP_6) to ensure consistent behavior across screen sizes.\n      */\n      @media "," {\n        --carousel-right-padding: ",";\n        --carousel-promo-peek: 0;\n      }\n\n      @media (min-width: ",") {\n        --carousel-left-padding: calc((100% - ",") / 2 + ",");\n        --carousel-right-padding: calc((100% - ",") / 2 + ",");\n      }\n      @media (min-width: ",") {\n        --carousel-left-padding: calc((100% - ",") / 2 + ",");\n        --carousel-right-padding: calc((100% - ",") / 2 + ",");\n      }\n    "])),v.jN,u.SPACING_4,u.SPACING_4,O,k,v.c$,v.c$,u.SPACING_4,v.c$,k,v.Xb,v.Xb,u.SPACING_4,v.Xb,k)}),";"),B=(0,l.default)("div",{target:"e1mhatdq4",label:"CarouselLeftOverlay"})("position:absolute;top:0;bottom:0;left:0;z-index:",b.o.PROMO_CAROUSEL_CURTAIN,";display:flex;pointer-events:none;width:var(--carousel-left-padding);@media ",O,"{html:not(.no-js) &{pointer-events:initial;background-color:",(e=>{var{theme:t}=e;return t.colourPalette.backgroundTranslucent}),";}}"),R=(0,l.default)("div",{target:"e1mhatdq3",label:"CarouselRightOverlay"})("position:absolute;top:0;bottom:0;right:0;z-index:",b.o.PROMO_CAROUSEL_CURTAIN,";align-items:center;display:flex;pointer-events:none;width:calc(var(--carousel-right-padding) + 1px);@media ",O,"{html:not(.no-js) &{pointer-events:initial;background-color:",(e=>{var{theme:t}=e;return t.colourPalette.backgroundTranslucent}),";}}"),E=(0,l.default)("div",{target:"e1mhatdq2",label:"CarouselControls"})("display:none;gap:",u.SPACING_1,";padding-left:",u.SPACING_4,";@media ",O,"{html:not(.no-js) &{display:flex;}}"),N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"media";return Object.entries(e).filter((e=>{var[t]=e;return I[t]})).map((e=>{var[r,n]=e;return"container"===t?"\n          @container (min-width: ".concat((0,C.A)(I[r].min),") {\n            grid-auto-columns: calc(100% / (").concat(n," + var(--carousel-promo-peek)) - var(--carousel-promo-spacing));\n          }\n    "):"\n          @media (min-width: ".concat((0,C.A)(I[r].min),") {\n            grid-auto-columns: calc(100% / (").concat(n," + var(--carousel-promo-peek)) - var(--carousel-promo-spacing));\n          }\n        ")})).join(" ")},L=(0,l.default)("ul",{target:"e1mhatdq1",label:"CarouselContent"})("display:grid;grid-gap:var(--carousel-promo-spacing);grid-template-rows:1fr;grid-auto-flow:column;overflow-x:scroll;scroll-padding-left:var(--carousel-left-padding);scroll-behavior:",(e=>{var{shouldApplyScrollAnimation:t}=e;return"".concat(t?"smooth":"auto")}),";padding:var(--carousel-top-padding) var(--carousel-right-padding) var(--carousel-bottom-padding) var(--carousel-left-padding);@media (prefers-reduced-motion){scroll-behavior:auto;}@media not (prefers-reduced-motion){@media ",O,"{html:not(.no-js) &{scroll-snap-type:x proximity;}}}html:not(.no-js) &{scrollbar-width:none;-ms-overflow-style:none;&::-webkit-scrollbar{display:none;}}",(e=>{var{columnsByBreakpoint:t,legacyBrowserBreakpoints:r,isCompact:n}=e;return n?(0,h.AH)(o||(o=P(["\n          @supports (container-type: inline-size) {\n            ",";\n          }\n          @supports not (container-type: inline-size) {\n            ",";\n          }\n        "])),N(t,"container"),N(r,"media")):(0,h.AH)(i||(i=P(["\n          ",";\n        "])),N(t,"media"))}),";"),G=(0,l.default)("li",{target:"e1mhatdq0",label:"CarouselItem"})({name:"1vwdw94",styles:"scroll-snap-align:start;&[inert]{opacity:0.999;}"}),T=e=>{var{children:t,isCompact:r,columnsByBreakpoint:n,currentIndex:o,setCurrentIndex:i,lastIndex:l,setLastIndex:s,withMonochromeControls:c,activePromoIndex:u,activePromoRef:d,legacyBrowserBreakpoints:m}=e,p=(0,a.useMemo)((()=>Array.isArray(t)?t:[t]),[t]),[g,f]=(0,a.useState)(0),[h,v]=(0,a.useState)(0),[C,b]=(0,a.useState)(!0),j=(0,y.A)(O),P=0===o,I=l+1===p.length,k=(0,a.useRef)(),N=(0,a.useRef)(),T=(0,a.useRef)(),D=(0,a.useRef)([]);(e=>{var{carouselItemElements:t,carouselContentElement:r,leftCurtain:n,rightCurtain:o,setLastIndex:i,setCurrentIndex:l}=e;(0,a.useEffect)((()=>{var e,a=()=>{var e=n.current.getBoundingClientRect().right,r=o.current.getBoundingClientRect().left,a=null,s=null,c=t.filter(Boolean);for(var[u,d]of c.entries()){var m=d.getBoundingClientRect();if(m.right-r-1>.9)break;var p=m.left-e;null===a&&p>-.9&&(a=u),s=u}l(a),i(s)},s=()=>{e||(e=setTimeout((()=>{a(),e=null}),100))};return a(),r&&r.addEventListener("scroll",s),window.addEventListener("resize",a),()=>{null==r||r.removeEventListener("scroll",s),window.removeEventListener("resize",a)}}),[r,t,n,o,l,i])})({carouselItemElements:D.current,carouselContentElement:k.current,setLastIndex:s,setCurrentIndex:i,leftCurtain:N,rightCurtain:T}),(e=>{var{carouselItemElements:t,carouselContentElement:r,scrollToIndex:n,scrollCount:o,leftCurtain:i,currentIndex:l}=e;(0,a.useEffect)((()=>{var e=t[n];if(e&&n!==l){var o=e.getBoundingClientRect().left,a=i.current.getBoundingClientRect().right;r.scrollLeft+=o-a}}),[n,o,t,i,r])})({carouselItemElements:D.current,carouselContentElement:k.current,scrollToIndex:g,scrollCount:h,leftCurtain:N,currentIndex:o});var z=e=>{f(e),v((e=>e+1))},q=P?"Scroll to previous item":"Scroll to previous item, ".concat(o," of ").concat(p.length),U=I?"Scroll to next item":"Scroll to next item, ".concat(l+2," of ").concat(p.length);return(0,a.useEffect)((()=>{u>=0&&(b(!1),z(u))}),[u]),(0,a.useEffect)((()=>{u>=o&&u<=l&&!C&&(null==d||d.focus(),b(!0))}),[u,o,d,l,C]),(0,w.jsx)(S,{children:(0,w.jsxs)(_,{role:"group",isCompact:r,children:[(0,w.jsx)(B,{ref:N}),(0,w.jsx)(R,{ref:T,children:(0,w.jsx)(A,{withMonochromeControls:c,children:(0,w.jsxs)(E,{children:[(0,w.jsx)(x.A,{emphasis:"high",iconType:"arrows:chevron-left",iconOnly:!0,disabled:P,onClick:()=>{f(o-1),v((e=>e+1))},"data-testid":"carousel-previous-button",children:q}),(0,w.jsx)(x.A,{emphasis:"high",iconType:"arrows:chevron-right",iconOnly:!0,disabled:I,onClick:()=>{f(o+1),v((e=>e+1))},"data-testid":"carousel-next-button",children:U})]})})}),(0,w.jsx)(L,{ref:k,columnsByBreakpoint:n,legacyBrowserBreakpoints:m,isCompact:r,areControlsVisible:j,role:"list",shouldApplyScrollAnimation:C,children:p.map(((e,t)=>{var r=t>l||t<o,n=r&&j;return(0,w.jsx)(G,{"data-testid":"carousel-item",ref:e=>D.current[t]=e,inert:n,onFocus:()=>{r&&z(o+(t-l))},onClick:e=>{r&&e.preventDefault()},children:e},t)}))})]})})};function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var U=(0,l.default)("div",{target:"e1nufmfc1",label:"StyledHeadingLinkWrapper"})("padding:",u.SPACING_4," 0 ",u.SPACING_2," 0;"),M=(0,l.default)("div",{target:"e1nufmfc0",label:"PromoCarouselContainer"})("background-color:",(e=>{var{theme:t}=e;return t.colourPalette.background}),";contain:content;padding-bottom:",u.SPACING_2,";"),H={base:2,medium:3,large:4,xxl:6},K={base:2,medium:3,large:4,xxl:6};const X=e=>{var{title:t,titleUrl:r,subtitle:n,promos:o,tracking:i,isCompact:l,disableDwellTracking:u=!1,withContainedPromos:h=!0,columnsByBreakpoint:v=H,withMonochromeControls:C=!1,experimentTracking:b={},promoExperimentTracking:x=[],activePromoIndex:y,legacyBrowserBreakpoints:j=K,withPromoHeadings:A=!1}=e,[P,I]=(0,a.useState)(0),[k,O]=(0,a.useState)(o.length-1),S=(0,a.useRef)([]),_=t&&(0,w.jsxs)(w.Fragment,{children:[r&&(0,w.jsx)(c.C,z(z({tracking:(0,d.D9)(z(z({groupType:"promo carousel"},i),{},{entityName:"item",itemType:"topic link",url:r,itemPosition:0,headline:t,groupItemCount:o.length+1}))},(0,m.l)(b)),{},{children:e=>{var{trackRef:o}=e;return(0,w.jsx)(U,{children:(0,w.jsx)(p.A,{title:t,titleUrl:r,subtitle:n,spacing:2,trackRef:o})})}})),!r&&(0,w.jsx)(U,{children:(0,w.jsx)(p.A,{title:t,subtitle:n,spacing:2})})]});return(0,w.jsxs)(M,{children:[l?_:(0,w.jsx)(s.A,{children:_}),(0,w.jsx)(T,{isCompact:l,columnsByBreakpoint:v,currentIndex:P,setCurrentIndex:I,lastIndex:k,setLastIndex:O,withMonochromeControls:C,activePromoIndex:y,activePromoRef:S.current[y],legacyBrowserBreakpoints:j,children:o.map(((e,t)=>{var n,a=null==i||null===(n=i.promos)||void 0===n?void 0:n[t],l=t>=P&&t<=k,s=l&&!u,p=(0,f.P)({promo:e}),v=(0,d.D9)(z(z(z(z({},p),a),{},{groupType:"promo carousel"},i),{},{itemPosition:r?t+1:t,groupItemCount:r?o.length+1:o.length})),C=x[t],{experimentation:y}=(0,m.l)(C||b);return(0,w.jsx)(c.C,{trackDwell:s,trackView:l,tracking:v,experimentation:y,children:e=>{var{trackRef:r}=e;return(0,w.jsx)(g.A,z(z({trackRef:r,activePromoRef:e=>S.current[t]=e},p),{},{isContained:h,size:"medium",isInCollection:!0,overrideAspectRatio:!0,headingLevel:A?3:null}),"".concat(p.headline).concat(p.url))}},t)}))})]})}}}]);