"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6644],{4244:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var o=r(63696),n=r(27508),i=r(28644),a={"en-GB":{under13:"More",default:"View more"},cy:{under13:"Mwy",default:"Gweld mwy"},ga:{under13:"Tuilleadh",default:"Tuilleadh"},gd:{under13:"Tuilleadh",default:"Faic tuilleadh"}};var s=r(54686),l=r(62540),u=["data","error","path","setSignInPrompt","withContainedPromos","withShortFormPromos","enableDotcomAds","adSlotType","forceFullSizeAd","withMonochromeControls","useCarousel","noOfVisibleCarouselItems","withIndexPromos","experimentTracking","withPromoHeadings","subtitle","titleUrl","backgroundImage","theme"];const c=e=>{var{data:t={},error:r,path:c,setSignInPrompt:m,withContainedPromos:p=!0,withShortFormPromos:d=!0,enableDotcomAds:f=!1,adSlotType:g="mpu",forceFullSizeAd:h=!1,withMonochromeControls:b=!1,useCarousel:v=!1,noOfVisibleCarouselItems:y={base:1,small:2,medium:3,large:4},withIndexPromos:w=!1,experimentTracking:P={},withPromoHeadings:O=!1,subtitle:S,titleUrl:I,backgroundImage:j,theme:x}=e,k=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,u);if(r)throw new Error("simple-promo-collection error: ".concat(r));var{title:D,titleColour:E,promos:T=[],tracking:A,hasMotion:C,lazyLoadImages:U,pageHome:W,language:_="en-GB"}=t.promos?t:k,F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-GB";switch(e){case"newsround":case"cbbc":case"bitesize":case"cbeebies":return a[t].under13;default:return a[t].default}}(W,((e,t)=>e&&e.startsWith("/alba")?"ga":e&&e.startsWith("/cymru")?"cy":t)(c,_)),L=T.length>=s.mO,M=v&&T.length>=s.rS,[z,B]=(0,o.useState)(T);return(0,o.useEffect)((()=>{B(T)}),[T]),!L||v&&!M?null:M?(0,l.jsx)(n.A,{title:D,subtitle:S,promos:z,tracking:A,experimentTracking:P,withContainedPromos:p,columnsByBreakpoint:y,withPromoHeadings:O,withMonochromeControls:b}):(0,l.jsx)(i.A,{withContainedPromos:p,withShortFormPromos:d,withIndexPromos:w,enableDotcomAds:f,adSlotType:g,forceFullSizeAd:h,backgroundImage:j,theme:x,title:D,subtitle:S,titleUrl:I,titleColour:E,promos:z,tracking:A,experimentTracking:P,hasMotion:C,home:W,lazyLoadImages:U,ctaLinkText:F,withPromoHeadings:O,setSignInPrompt:m})}},13699:(e,t,r)=>{r.r(t),r.d(t,{continueWatchingData:()=>p,defaultData:()=>E});var o=r(88949);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r,o,n,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(o,n)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){s(i,o,n,a,l,"next",e)}function l(e){s(i,o,n,a,l,"throw",e)}a(void 0)}))}}var u={cbbc:"urn:bbc:tipo:list:c5db1aca-dd01-46b5-a866-6e33877cc723",cbeebies:"urn:bbc:tipo:list:450c39b0-86de-41de-b8bd-437addd25d0d"},c=function(){var e=l((function*(e){var{data:{content:t}}=yield e("continue-consumption",{activity:"watching",limit:4},{personalisationEnabled:!0});return t}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=l((function*(e,t,r){var o=null!=r&&r.brandId?"urn:bbc:pips:pid:".concat(r.brandId):u[t];if(!o)return null;var{data:{summaries:n}}=yield e("content-summaries",{urn:o});return n[0]}));return function(t,r,o){return e.apply(this,arguments)}}();const p=function(){var e=l((function*(e,t){var{title:r,titleUrl:n,tracking:a,language:s,home:l,isUk:u,backgroundImage:p,shouldShowFallbackPromo:d}=e,{fablRequest:f,requestUserInfo:{isSignedIn:g,hasAllowedPersonalisation:h,ageBracket:b}}=t;if(!g||!h||"u13"!==b)return{promos:[]};var v=yield c(f);if(!v||!v.length)return{promos:[]};if(v.length>=1&&v.length<=2&&d){var y=yield m(f,l,v[v.length-1]);if(!y)return{promos:[]};v.push(y)}var w={enableDescription:!0,lazyLoadImages:!0,pageHome:l,language:s,isUk:u};return{promos:v.map((e=>i({},(0,o.Ux)(i(i({},e),{},{descriptions:e.continueDescription?[e.continueDescription]:e.descriptions}),w)))),title:r,titleUrl:n,tracking:a,backgroundImage:p}}));return function(t,r){return e.apply(this,arguments)}}();var d=r(12180),f=r(35289),g=r(86581),h=r(55184),b=r(29159),v=r(49348),y=r(54686);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e,t,r,o,n,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(o,n)}function I(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function a(e){S(i,o,n,a,s,"next",e)}function s(e){S(i,o,n,a,s,"throw",e)}a(void 0)}))}}var j=[{viewportWidth:f.E6,maxImageWidth:184},{viewportWidth:f.jq,maxImageWidth:276},{viewportWidth:f._G,maxImageWidth:279},{viewportWidth:f.R4,maxImageWidth:309},{viewportWidth:f.Yo,maxImageWidth:315},{viewportWidth:f.f,maxImageWidth:405}],x=function(){var e=I((function*(e,t,r,o,n,i){var a={followUrn:t,daysSinceFirstPublished:n,includeOptimoPosts:i};r?a.pageSize=r:a.exactNumber=o;try{var{data:{summaries:s}}=yield e("follow-suggestions",a,{personalisationEnabled:!0,timeout:y.Ao});return s}catch(e){return d.pq("simple-promo-collection fetcher - error fetching follow-suggestions: ".concat(e)),[]}}));return function(t,r,o,n,i,a){return e.apply(this,arguments)}}(),k=e=>{var t;return"summary_overwrite"===(null===(t=e.descriptions)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.source)},D=(e,t,r,o,n)=>{if(!(e&&r<o))throw new Error("Not enough items / content-summaries responses - got ".concat(t,", expected ").concat(o," or more"));d.R8("Insufficient content error intentionally suppressed for urn ".concat(n))};const E=function(){var e=I((function*(e,t){var{urn:r,title:n,tracking:i,lazyLoadImages:a,enablePromoTimestamps:s=!0,enableAttributionLinks:l=!0,promoLimit:u,language:c,enablePromoDescriptions:m,enablePromoDescriptionIfOvertyped:p,home:f,isUk:w,promoAttributionsToSuppress:O,daysSinceFirstPublished:S=y.vg,followPageSize:I,followExactNumber:E=y._x,originPage:T,mediumTitle:A,withShortFormPromos:C=!1,withIndexPromos:U=!1,includeOptimoPosts:W=!1,useCarousel:_=!1,promoTypeOverrides:F,suppressCurationIntentErrors:L,suppressMediaTypeIndicators:M,personalisedEnv:z,setSignInPrompt:B}=e;if(!r)throw new Error("Missing urn");var{fablRequest:H,isPersonalised:q,isClientSideFetch:R}=t,N=u||(_?y.J2:y.gg),G=null==r?void 0:r.startsWith("urn:bbc:follow:");try{var V,J;if(G&&!q)return{promos:[]};if(G&&q){if(!(V=yield x(H,r,I,E,S,W)).length)return{promos:[]}}else({data:{summaries:V,metadata:{expectedSummariesCount:J}={}}}=yield H("content-summaries",{urn:r}));if(!_&&V.length<y.mO)return D(L,V.length,J,y.mO,r),{promos:[]};if(_&&V.length<y.rS)return D(L,V.length,J,y.rS,r),null;var K=V.slice(0,((e,t)=>t?Math.min(e,y.J2):Math.min(e,y.gg))(N,_)).map((e=>{var{flags:t}=e;return G?(e=>Boolean(null==e?void 0:e.isConsumableInPlace))(t)?e:(0,g.h)(e):s?e:(0,g.h)(e)})).map(((e,t)=>(0,o.Ux)(e,{imageWidths:j,useAbbreviatedTimestamp:!0,language:c,enableDescription:m||p&&k(e),pageHome:f,isUk:w,suppressAttributionsUrl:!(G||l),attributionsToSuppress:O,originPage:T,mediumTitle:A,title:n,withShortFormPromos:C,withIndexPromos:U,promoTypeOverride:F&&F[t],suppressMediaTypeIndicators:M}))).map((e=>(0,h.b)(e,a))).map((e=>P(P({},e),(0,o.IV)(e)))),Y=P(P({},i),G&&{groupEngineStats:{engineID:["mql.follow-v1"],engineType:["follow"]}}),Q=K;if(U&&R){var X,Z=!1,$=(0,b.jN)(z),ee=(0,v.A)({apiKey:$,environment:z,activityType:"follows",tokenRefreshToggle:!0,timeout:3e3,ignoreBrowserCache:!0});try{var te=yield(0,b._7)({fablRequest:H,isPersonalised:q},V);if(!(X=null==te?void 0:te.supportedUserActions))throw new Error("Failed to fetch follow data from personalised user actions")}catch(e){Z=!0,d.R8("".concat(e,". Failed to fetch follow data from personalised user actions for urn(s): ").concat(V.map((e=>e.urn)).join(", ")))}Q=K.map((e=>{var t=Z?{hasError:!0}:(0,b.w)(e,X,ee),r=Z?"enabled":(0,b.ir)(t);return P(P({},e),{},{env:z,followData:t,followStatus:r,setSignInPrompt:B})}))}var re=Q.some((e=>"index"===e.promoType));return{title:n,promos:re?Q.slice(0,y.PE):Q,lazyLoadImages:a,tracking:Y,pageHome:f,language:c,useCarousel:_}}catch(e){throw new Error("simple-promo-collection fetcher error (urn: ".concat(r,", title: ").concat(n,"): ").concat(e))}}));return function(t,r){return e.apply(this,arguments)}}()},54686:(e,t,r)=>{r.d(t,{Ao:()=>l,J2:()=>s,PE:()=>i,_x:()=>c,gg:()=>n,mO:()=>o,rS:()=>a,vg:()=>u});var o=2,n=5,i=4,a=6,s=15,l=2e3,u=7,c=4}}]);