"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3309],{33282:(e,t,a)=>{a.d(t,{A:()=>Le});var n=a(63696),i=a(83051),r=a(27813),o=a(34576),d=a(54498),c=a(27442),s=a(60911),l=a(95584),g=a(18735),u=a(16061),m=a(20641),b=a(11545),h=a(74437),p=a(468),f=a(35289),y=a(41738),v=a(12879),I=a(64374);const A=JSON.parse('{"HX":{"en-GB":{"heading":"One account connects all of the BBC","subheading":"Signing in is quick and easy","maybeLater":"Maybe later","close":"Close"},"cy":{"heading":"Un cyfrif yn cysylltu’r BBC i gyd","subheading":"Mae mewngofnodi yn syml a chyflym","maybeLater":"Efallai nes ymlaen","close":"Cau"},"ga":{"heading":"Nasctar iomlán an BBC le haon chuntas amháin","subheading":"Is furasta agus is gasta síniú isteach","maybeLater":"Ar ball, b’fhéidir","close":"Druid"},"gd":{"heading":"Tha aon chunntas a\' ceangal am BBC gu lèir","subheading":"Tha logadh a-steach luath is furasta","maybeLater":"\'S dòcha aig àm eile","close":"Dùin"}},"VD":{"en-GB":{"heading":"You need to sign in or create an account to watch, listen and join in","subheading":"Signing in is quick and easy","maybeLater":"Maybe later","close":"Close"},"cy":{"heading":"Mae angen mewngofnodi neu greu cyfrif er mwyn gwylio, gwrando a chyfrannu","subheading":"Mae mewngofnodi yn syml a chyflym","maybeLater":"Efallai nes ymlaen","close":"Cau"},"ga":{"heading":"Ní mór duit síniú isteach nó cuntas a chruthú le hamharc, le héisteacht agus le páirt a ghlacadh","subheading":"Is furasta agus is gasta síniú isteach","maybeLater":"Ar ball, b’fhéidir","close":"Druid"},"gd":{"heading":"Feumaidh tu logadh a-steach no cunntas a chruthachadh airson coimhead, èisteachd is pàirt a ghabhail","subheading":"Tha logadh a-steach luath is furasta","maybeLater":"\'S dòcha aig àm eile","close":"Dùin"}},"Oh":{"en-GB":{"heading":"Sign in to save","description":[{"type":"paragraph","model":{"text":"Add subjects, save guides and continue where you left off with your BBC account.","blocks":[{"type":"fragment","model":{"text":"Add subjects, save guides and continue where you left off with your BBC account.","attributes":[]}}]}}],"maybeLater":"Maybe later","close":"Close"},"cy":{"heading":"Mewngofnoda er mwyn arbed dy ddewisiadau","description":[{"type":"paragraph","model":{"text":"Mae dy gyfrif BBC yn dy alluogi di i ychwanegu pynciau, arbed canllawiau a pharhau i weithio ar gynnwys rwyt ti wedi ei ddechrau.","blocks":[{"type":"fragment","model":{"text":"Mae dy gyfrif BBC yn dy alluogi di i ychwanegu pynciau, arbed canllawiau a pharhau i weithio ar gynnwys rwyt ti wedi ei ddechrau.","attributes":[]}}]}}],"maybeLater":"Efallai nes ymlaen","close":"Cau"},"ga":{"heading":"Sínigh isteach le sábhail","description":[{"type":"paragraph","model":{"text":"Cuir ábhair leis, sábháil treoracha agus lean ort ón áit ar stad tú le do chuntas BBC.","blocks":[{"type":"fragment","model":{"text":"Cuir ábhair leis, sábháil treoracha agus lean ort ón áit ar stad tú le do chuntas BBC.","attributes":[]}}]}}],"maybeLater":"Ar ball, b’fhéidir","close":"Druid"},"gd":{"heading":"Soidhnig a-steach gus sàbhaladh","description":[{"type":"paragraph","model":{"text":"Cuir ris cuspairean, sàbhail iùil agus lean ort far na dh\'fhàg thu led chunntas BBC.","blocks":[{"type":"fragment","model":{"text":"Cuir ris cuspairean, sàbhail iùil agus lean ort far na dh\'fhàg thu led chunntas BBC.","attributes":[]}}]}}],"maybeLater":"\'S dòcha aig àm eile","close":"Dùin"}},"wI":{"en-GB":{"heading":"Get the news, your way","subheading":"Sign in for podcasts, documentaries and analysis","maybeLater":"Maybe later","close":"Close"},"cy":{"heading":"Derbynwch y newyddion, eich ffordd chi","subheading":"Mewngofnodwch am bodlediadau, rhaglenni dogfen a dadansoddiad.","maybeLater":"Efallai nes ymlaen","close":"Cau"}}}');var w=a(63548);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){E(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var P=(0,a(8146).A)(),S={groupName:"SignInPrompt",groupType:"webcore-prompt",groupItemCount:"3"},_=x(x({},S),{},{itemName:"dismiss",itemType:"button",headline:"Maybe later",itemPosition:2,entityName:"item"}),N=x(x({},S),{},{itemName:"register",itemType:"link",headline:"Register",url:void 0,itemPosition:1,entityName:"item"}),k=x(x({},S),{},{itemName:"sign in",itemType:"button",headline:"Sign in",url:void 0,itemPosition:0,entityName:"item"}),B=x(x({},S),{},{sequenceId:P,entityName:"group"}),G=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,w.D9)(x(x(x(x({},e),n&&{headline:n}),t&&{groupName:"SignInPrompt-".concat(t)}),a&&{groupEngineStats:{engineType:["experimentation"],engineID:["optimizely.".concat(a.experimentId,".").concat(a.variantId)]}}))};function j(e,t,a){return G(x(x({},k),{},{url:e}),t,a)}function O(e,t,a){return G(x(x({},N),{},{url:e}),t,a)}function D(e,t){return G(B,e,t)}var L=a(41812),T=a(22304),F=a(22632),R=a(3827),M=a(32422),H=a(51518),z=a(4297),K=a(58020),U=a(90799),V=a(65392),X=a(4600),$=a(54851),q=a(34838),J=a(4526),Y=a(99385),Q=a(74196),W=a(27236),Z=a(83311),ee=a(12598),te=a(15566),ae=a(77241),ne=a(46112),ie=a(21352),re=a(60019),oe=a(98442),de=a(98842),ce=a(68869),se=a(81216),le=a(29352),ge=a(70931),ue=a(26118),me=a(2654),be=a(9353),he=a(6228),pe=a(65412),fe=a(98191),ye=(e,t)=>"background-image: url(".concat(t,");\n  background-image: image-set(").concat(e.map(((e,t)=>"url(".concat(e,") ").concat(t+1,"x"))).toString(),");"),ve={bitesize:{desktopContextImage:ye([se,le,ge],se),tabletContextImage:ye([ue,me,be],ue),mobileContextImage:ye([he,pe,fe],he)},bbc:{desktopContextImage:ye([V,X,$],V),tabletContextImage:ye([q,J,Y],q),mobileContextImage:ye([Q,W,Z],Q)},news:{desktopContextImage:ye([ee,te,ae],ee),tabletContextImage:ye([ne,ie,re],ne),mobileContextImage:ye([oe,de,ce],L)},sport:{desktopContextImage:ye([T,F,R],T),tabletContextImage:ye([M,H,z],M),mobileContextImage:ye([L,K,U],L)}},Ie={bbc:{mobile:"linear-gradient(45deg, #01052E 10%, #030A45 40%, #012D79 70%, #124C94 90%)",tablet:"linear-gradient(45deg, #01052E 10%, #030A45 40%, #012D79 70%, #124C94 90%)",desktop:"linear-gradient(45deg, #01052E 10%, #030A45 40%, #012D79 70%, #124C94 100%)"},bitesize:{mobile:"linear-gradient(45deg,  #1F0648 30%, #34107C 60%, #4619A7 80%, #4E1BB6 100%)",tablet:"linear-gradient(45deg,  #1F0648 30%, #34107C 60%, #4619A7 80%, #4E1BB6 100%)",desktop:"linear-gradient(45deg,  #1F0648 25%, #34107C 60%, #4619A7 85%, #4E1BB6 100%)"},cbbc:{mobile:"linear-gradient(45deg, #140277 10%, #1B068F 30%, #4023E0 70%, #5234F5 100%)",tablet:"linear-gradient(45deg, #140277 10%, #1B068F 30%, #4023E0 70%, #5234F5 100%)",desktop:"linear-gradient(45deg, #140277 10%, #1B068F 30%, #4023E0 70%, #5234F5 100%)"},cbeebies:{mobile:"linear-gradient(45deg,  #05376D 10%, #003A79 40%, #0261C9 70%, #1079EB 100%)",tablet:"linear-gradient(45deg,  #05376D 10%, #003A79 40%, #0261C9 70%, #1079EB 100%)",desktop:"linear-gradient(45deg,  #05376D 10%, #003A79 40%, #0261C9 70%, #1079EB 100%)"},iplayer:{mobile:"linear-gradient(45deg, #390437 30%, #76024E 60%, #A6016A 80%, #B6016E 100%)",tablet:"linear-gradient(40deg, #390437 30%, #76024E 60%, #A6016A 80%, #B6016E 100%)",desktop:"linear-gradient(45deg, #390437 10%, #76024E 40%, #A6016A 70%, #B6016E 95%)"},news:{mobile:"linear-gradient(45deg, #3F020B 30%, #6E0213 60%, #A20119 80%, #AF011A 100%)",tablet:"linear-gradient(45deg, #3F020B 30%, #6E0213 60%, #A20119 80%, #AF011A 100%)",desktop:"linear-gradient(45deg, #3F020B 30%, #6E0213 60%, #A20119 85%, #AF011A 100%)"},sport:{mobile:"linear-gradient(45deg, #1E1E16 30%, #45423B 60%, #606259 80%, #6A6A63 100%)",tablet:"linear-gradient(40deg, #1E1E16 30%, #45423B 60%, #606259 80%, #6A6A63 100%)",desktop:"linear-gradient(45deg, #1E1E16 25%, #45423B 60%, #606259 85%, #6A6A63 100%)"},sounds:{mobile:"linear-gradient(45deg, #4F0600 30%, #841603 60%, #BD2901 80%, #D22F01 100%)",tablet:"linear-gradient(40deg, #4F0600 30%, #841603 60%, #BD2901 80%, #D22F01 100%)",desktop:"linear-gradient(45deg, #4F0600 25%, #841603 60%, #BD2901 85%, #D22F01 100%)"},weather:{mobile:"linear-gradient(45deg, #01184B 30%, #024383 60%, #0063B4 80%, #0171C5 100%)",tablet:"linear-gradient(45deg, #01184B 30%, #024383 60%, #0063B4 80%, #0171C5 100%)",desktop:"linear-gradient(45deg, #01184B 30%, #024383 60%, #0063B4 85%, #0171C5 100%)"}},Ae=a(98270);var we=a(62540);function Ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(a),!0).forEach((function(t){Ee(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ee(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Pe="#202224",Se=(0,i.default)("div",{target:"eugnsri7",label:"Overlay"})("background:rgba(0, 0, 0, 0.85);width:100%;height:100%;position:fixed;top:0;left:0;z-index:",u.o.SIGN_IN_PROMPT,";overflow:auto;"),_e=(0,i.default)("div",{target:"eugnsri6",label:"Modal"})(m.tc," ",b.cx," ",b.K1," color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";max-width:calc(100% - ",h.SPACING_2,");",(e=>{var{isImageEnabled:t}=e;return t&&"height:auto"}),";width:",(e=>{var{isImageEnabled:t}=e;return t?(0,p.A)(288):(0,p.A)(447)}),";display:flex;flex-direction:column;align-items:center;left:50%;top:50%;position:absolute;transform:translate(-50%, -50%);background:",(e=>{var{useProductNeutralGradient:t,gradientBackground:a}=e;return t?a.mobile:Pe}),";@media (max-width: ",f.cK,") and (max-height: ",(0,p.A)(500),"){justify-content:center;max-height:95vh;}@media (min-width: ",f.cK,"){width:",(0,p.A)(510),";background:",(e=>{var{useProductNeutralGradient:t,gradientBackground:a}=e;return t?a.tablet:Pe}),";justify-content:center;@media (max-width: ",f.js,") and (max-height: ",(0,p.A)(670),"){justify-content:center;max-height:95vh;}}@media (min-width: ",f.js,"){width:",(e=>{var{isImageEnabled:t}=e;return t?(0,p.A)(652):(0,p.A)(624)}),";",(e=>{var{isImageEnabled:t}=e;return!t&&"max-height:322px"}),";",(e=>{var{isImageEnabled:t}=e;return t&&"aspect-ratio: 16/9"}),";background:",(e=>{var{useProductNeutralGradient:t,gradientBackground:a}=e;return t?a.desktop:Pe}),";align-items:start;justify-content:center;flex-direction:row-reverse;}@media (min-width: ",f.c$,"){width:",(e=>{var{isImageEnabled:t}=e;return t?(0,p.A)(792):(0,p.A)(624)}),";",(e=>{var{isImageEnabled:t}=e;return!t&&"max-height:322px"}),";",(e=>{var{isImageEnabled:t}=e;return t&&"aspect-ratio: 16/9"}),";align-items:start;justify-content:center;flex-direction:row-reverse;}@media (min-width: ",f.Xb,"){width:",(e=>{var{isImageEnabled:t}=e;return t?(0,p.A)(932):(0,p.A)(624)}),";",(e=>{var{isImageEnabled:t}=e;return!t&&"max-height:322px"}),";",(e=>{var{isImageEnabled:t}=e;return t&&"aspect-ratio: 16/9"}),";}"),Ne=(0,i.default)("div",{target:"eugnsri5",label:"ContextImage"})("width:",(0,p.A)(276),";height:",(0,p.A)(200),";max-width:100%;margin-top:",(0,p.A)(-15),";background-size:contain;background-repeat:no-repeat;background-position:center bottom;",(e=>{var{images:t}=e;return null==t?void 0:t.mobileContextImage}),";@media (max-width: ",f.cK,") and (max-height: ",(0,p.A)(500),"){display:none;}@media (min-width: ",f.cK,"){",(e=>{var{images:t}=e;return null==t?void 0:t.tabletContextImage}),";height:",(0,p.A)(284),";width:",(0,p.A)(510),";margin-top:",(0,p.A)(-65),";@media (max-width: ",f.js,") and (max-height: ",(0,p.A)(670),"){display:none;}}@media (min-width: ",f.js,"){",(e=>{var{images:t}=e;return t.desktopContextImage}),";width:",(0,p.A)(326),";height:",(0,p.A)(367),";margin:0;}@media (min-width: ",f.c$,"){",(e=>{var{images:t}=e;return t.desktopContextImage}),";width:",(0,p.A)(396),";height:",(0,p.A)(446),";margin:0;}@media (min-width: ",f.Xb,"){",(e=>{var{images:t}=e;return t.desktopContextImage}),";width:",(0,p.A)(466),";height:",(0,p.A)(524),";}"),ke=(0,i.default)("div",{target:"eugnsri4",label:"Content"})("box-sizing:border-box;padding:",(e=>{var{isImageEnabled:t}=e;return t?"".concat(h.SPACING_5," ").concat(h.SPACING_4):"".concat(h.SPACING_6," ").concat(h.SPACING_6)}),";width:100%;text-align:center;display:flex;flex-direction:column;",(e=>{var{isImageEnabled:t}=e;return!t&&"align-items: center"}),";@media (min-width: ",f.cK,"){padding:",(e=>{var{isImageEnabled:t}=e;return t?"".concat(h.SPACING_6," ").concat(h.SPACING_10):"".concat(h.SPACING_6," ").concat(h.SPACING_6)}),";}@media (min-width: ",f.js,"){padding:",(e=>{var{isImageEnabled:t}=e;return t?"".concat(h.SPACING_10," ").concat(h.SPACING_4," ").concat(h.SPACING_7," ").concat(h.SPACING_8):"".concat(h.SPACING_7)}),";text-align:",(e=>{var{isImageEnabled:t}=e;return t?"left":"center"}),";width:",(e=>{var{isImageEnabled:t}=e;return t?(0,p.A)(326):"100%"}),";height:100%;justify-content:center;}@media (min-width: ",f.c$,"){padding:",(e=>{var{isImageEnabled:t}=e;return t?"".concat(h.SPACING_10," ").concat(h.SPACING_6," ").concat(h.SPACING_7," ").concat(h.SPACING_9):"".concat(h.SPACING_7)}),";text-align:",(e=>{var{isImageEnabled:t}=e;return t?"left":"center"}),";width:",(e=>{var{isImageEnabled:t}=e;return t?(0,p.A)(396):"100%"}),";}@media (min-width: ",f.Xb,"){padding:",(e=>{var{isImageEnabled:t}=e;return t?"".concat(h.SPACING_14," ").concat(h.SPACING_7," ").concat(h.SPACING_10," ").concat(h.SPACING_10):"".concat(h.SPACING_7)}),";width:",(e=>{var{isImageEnabled:t}=e;return t?(0,p.A)(466):"100%"}),";}"),Be=(0,i.default)("div",{target:"eugnsri3",label:"SubHeadingSpacingContainer"})("margin-top:",h.SPACING_4,";margin-bottom:",h.SPACING_7,";@media (min-width: ",f.cK,"){margin-bottom:",h.SPACING_7,";margin-top:",h.SPACING_4,";}"),Ge=(0,i.default)("div",{target:"eugnsri2",label:"HeadingSpacingContainer"})((e=>{var{isSubHeadingEnabled:t,isImageEnabled:a}=e;return!t&&"\n    margin-bottom: ".concat(a?h.SPACING_4:h.SPACING_6,";\n    @media (min-width: ").concat(f.js,") {\n      margin-bottom: ").concat(h.SPACING_7,";\n    }\n  ")}),";"),je=(0,i.default)("button",{target:"eugnsri1",label:"Dismiss"})(m.tc," padding-bottom:",h.SPACING_1,";margin:",h.SPACING_7," auto 0 auto;",b.cx," cursor:pointer;width:auto;color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";border-bottom:1px solid currentcolor;transition:0.5s;@supports (text-underline-offset: 0.25em){border-bottom:none;text-decoration:underline currentcolor;text-decoration-thickness:1px;text-decoration-skip-ink:none;text-underline-offset:0.25em;}:hover,:focus,:active{color:",(e=>{var{theme:t}=e;return t.colourPalette.hyperlink}),";border-bottom-width:2px;@supports (text-underline-offset: 0.25em){border-bottom:none;text-decoration:underline currentcolor;text-decoration-thickness:2px;}}:focus{outline:none;box-shadow:0 0 0 2px ",(e=>{var{theme:t}=e;return t.colourPalette.states.focusInner}),",0 0 0 4px ",(e=>{var{theme:t}=e;return t.colourPalette.states.focusOuter}),";}@media (min-width: ",f.cK,"){margin:",(e=>{var{isImageEnabled:t}=e;return t?" ".concat(h.SPACING_7," auto 0 auto"):"".concat(h.SPACING_7," 0 0 0")}),";}@media (min-width: ",f.js,"){text-align:left;margin:",(e=>{var{isImageEnabled:t}=e;return t?" ".concat(h.SPACING_7," ").concat(h.SPACING_10," 0 0"):"".concat(h.SPACING_7," 0 0 0")}),";}@media (min-width: ",f.c$,"){",(e=>{var{isSubHeadingEnabled:t,isImageEnabled:a}=e;return"margin: ".concat(t?a?"".concat(h.SPACING_12," ").concat(h.SPACING_10," 0 0"):"".concat(h.SPACING_7," 0 0 0"):a?"".concat(h.SPACING_13," ").concat(h.SPACING_10," 0 0"):"".concat(h.SPACING_7," 0 0 0"),";")}),";}@media (min-width: ",f.Xb,"){",(e=>{var{isSubHeadingEnabled:t,isImageEnabled:a}=e;return"margin: ".concat(t?a?"".concat(h.SPACING_12," ").concat(h.SPACING_10," 0 0"):"".concat(h.SPACING_7," 0 0 0"):a?"".concat(h.SPACING_13," ").concat(h.SPACING_10," 0 0"):"".concat(h.SPACING_7," 0 0 0"),";")}),";}"),Oe=(0,i.default)("div",{target:"eugnsri0",label:"DescriptionContainer"})(b.K1," ",(e=>{var{service:t}=e;return"bitesize"===t&&"\n    margin-top: ".concat(h.SPACING_4,";\n    margin-bottom: ").concat(h.SPACING_6,";\n  ")}),";"),De=(e,t)=>t[e]||t["en-GB"];const Le=e=>{var t,{onDismiss:a,registerUrl:i,signInUrl:u,isDismissable:m=!0,isImageEnabled:b=!0,isSubHeadingEnabled:h=!0,useProductNeutralGradient:p=!0,useLiveText:f=!1,dismissCallToActionTranslationKey:w,trackingProductName:C,experimentation:x,signInTrackView:E=!1,registerTrackView:P=!1,service:S="bbc",title:N,subTitle:k,customImages:B}=e;(0,n.useEffect)((()=>{var{scrollTop:e}=document.documentElement,t=()=>{document.documentElement.scrollTop=e};return window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}}),[]);var L,T,F=(0,y.Dn)(),R=((e,t,a)=>"bitesize"===a?A.Oh[e]||A.Oh["en-GB"]:t?A.VD[e]||A.VD["en-GB"]:"news"===a?A.wI[e]||A.wI["en-GB"]:A.HX[e]||A.HX["en-GB"])(F,f,S),M=N&&De(F,N),H=k&&De(F,k),{containerRef:z,firstElementRef:K,lastElementRef:U}=(()=>{var e=(0,n.useRef)(null),t=(0,n.useRef)(null),a=(0,n.useRef)(null);return(0,n.useEffect)((()=>{var n=document.activeElement,i=null,r=n=>{try{(n=>{e.current.contains(n.target)&&n.target!==e.current?i=n.target:i===t.current?a.current.focus():t.current.focus()})(n)}catch(e){}};return window.addEventListener("focus",r,!0),t.current.focus(),()=>{window.removeEventListener("focus",r,!0),n.focus()}}),[]),{containerRef:e,firstElementRef:t,lastElementRef:a}})(),V=B?(e=>{var{mobile:t,tablet:a,desktop:n}=e;return{mobileContextImage:ye(t,t[0]),tabletContextImage:ye(a,a[0]),desktopContextImage:ye(n,n[0])}})(B):(e=>["bitesize","news"].includes(e)?ve[e]:ve.bbc)(S),X=!!B||["bitesize","news"].includes(S),$=((e,t)=>{var a=e||["bitesize","news"].includes(t)?(e=>{switch(e){case"news":return"mixedInformative";case"cbbc":return"mixedSemiRounded";case"cbeebies":return"mixedRounded";case"bitesize":return"sansPlayful";default:return"sansSimple"}})(t):"sansSimple";return(0,Ae.O4)({corePalette:"darkAlternative",servicePalette:"serviceNeutralDark",fontPalette:a})})(X,S),q=(e=>Ie[e]?Ie[e]:Ie.bbc)(X?S:"bbc"),{heading:J,subheading:Y,description:Q}=R,W=Q,Z=m,ee=null!==(t=R[w])&&void 0!==t?t:R.maybeLater,te=()=>{null!=x&&x.variantId&&(0,g.n)("dismiss_cta_clicks"),m&&((0,s.O)(function(e,t,a){return G(_,e,a,t)}(C,ee,x),null,"select"),a())};return L={Escape:te},(0,n.useEffect)((()=>{var e=e=>{var{key:t}=e;L[t]&&L[t]()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[L]),(0,we.jsx)(r.a,{theme:$,children:(0,we.jsx)(o.A,{on:"dark-image",children:(0,we.jsx)(Se,{onClick:(T=te,e=>{e.target===e.currentTarget&&T(e)}),"data-testid":"test-overlay",children:(0,we.jsx)(l.C,xe(xe({tracking:D(C,x),trackClicks:!1},null!=x&&x.variantId?{experimentation:{view:{name:"sign_in_prompt_displays"}}}:{}),{},{children:e=>{var{trackRef:t}=e;return(0,we.jsxs)(_e,{role:"dialog","aria-labelledby":"modal-heading","aria-modal":"true",ref:t,useProductNeutralGradient:p,isImageEnabled:b,images:V,gradientBackground:q,children:[b?(0,we.jsx)(Ne,{images:V,service:S}):void 0,(0,we.jsxs)(ke,{ref:z,isImageEnabled:b,images:V,gradientBackground:q,service:S,children:[(0,we.jsx)(Ge,{isImageEnabled:b,isSubHeadingEnabled:h,children:(0,we.jsx)(d.A,{id:"modal-heading",level:"2",fontScale:"headlineSmall",type:"headline",children:M||J})}),h&&Y&&(0,we.jsx)(Be,{"data-testid":"sub-heading",isImageEnabled:b,children:(0,we.jsxs)(c.A,{children:[" ",H||Y]})}),W&&(0,we.jsx)(Oe,{service:S,children:(0,we.jsx)(I.A,{blocks:Q})}),(0,we.jsx)(v.A,xe(xe({signInTrackView:E,registerTrackView:P,registerTracking:O(i,C,x),registerUrl:i,signInElementRef:K,signInTracking:j(u,C,x),signInUrl:u,layout:b?"hero":"one-line"},null!=x&&x.variantId?{signInExperimentation:{click:{name:"sign_in_cta_clicks"}}}:{}),null!=x&&x.variantId?{registerExperimentation:{click:{name:"register_cta_clicks"}}}:{})),Z&&(0,we.jsx)(je,{isSubHeadingEnabled:h,ref:U,onClick:te,isImageEnabled:b,children:ee})]})]})}}))})})})}}}]);