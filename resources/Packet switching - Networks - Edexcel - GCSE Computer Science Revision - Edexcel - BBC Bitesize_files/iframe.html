<!DOCTYPE html>
<!-- saved from url=(0049)https://emp.bbc.co.uk/emp/SMPj/2.61.3/iframe.html -->
<html class="ReithSans-loaded"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252"><script type="text/javascript">

window.validDomains = "bbc.co.uk,bbc.com,bbcconnectedstudio.co.uk,metabroadcast.com,bbcnewshq.com,twofourstaging.net,codeandtheory.net,thespace.org,plateau.com,bbcstore.com,microbit.co.uk,bbcarchdev.net,acropolis.org.uk,audiencesportal.co.uk,thirteenlostyears.co.uk,bbc-massive.com,britbox.com,bbcomtraining.co.uk,bbcrewind.co.uk,gomolearning.com,newslabs.co,bbcnewslabs.co.uk,bbccreative.co.uk,api.bbci.co.uk,csod.com,bbcmediaactionilearn.com,bbcnitechops.co.uk,bbcnireland.co.uk,bbcverticals.com,gomocentral.com,riddle.com,bbcrussian.com,bbcnewsawards.co.uk,era.org.uk,labs.bbc,bbctest01.uk,bbcx.uicentric.net,bbcx-internal.com,bbc-storyworks.com".split(",");
window.validWholeDomains = "bbcmediaaction1.sharepoint.com,ne-scorm.365.systems,ne-lms.365.systems,bbcnews.uat.awardsengine.com,era.brightminded.com,era.org.uk,bbcrewind.co.uk".split(",");

// Browser capability tests e.g. for Windows Phone 8 Internet Explorer
if (typeof window.JSON !== 'object') {
    document.write('<script type="text/javascript" src="json.js"></scr'+'ipt>');
}
try {
    Object.defineProperty(this, "test", {} );
} catch(e) {
    // Redirect
    window.location.href="UnsupportedError.html";
}
</script>
<style type="text/css">
.audioButton.p_audioui_intervalButton{color:#fff;fill:#fff;height:48px;overflow:visible;width:48px}.p_audioui_intervalButton .p_audioui_iconNumber,.p_audioui_intervalButton svg{-webkit-transition:-webkit-transform .1s linear;transition:-webkit-transform .1s linear;transition:transform .1s linear;transition:transform .1s linear,-webkit-transform .1s linear}.nonPointerFocus .p_audioui_intervalButton:not([disabled]).focused .p_audioui_iconNumber,.nonPointerFocus .p_audioui_intervalButton:not([disabled]).focused svg,.p_audioui_intervalButton:not([disabled]).hovering .p_audioui_iconNumber,.p_audioui_intervalButton:not([disabled]).hovering svg{-webkit-transform:scale(1.2);transform:scale(1.2)}.nonPointerFocus .p_audioui_intervalButton:not([disabled]).focused.pressed .p_audioui_iconNumber,.nonPointerFocus .p_audioui_intervalButton:not([disabled]).focused.pressed svg,.p_audioui_intervalButton:not([disabled]).hovering.pressed .p_audioui_iconNumber,.p_audioui_intervalButton:not([disabled]).hovering.pressed svg{-webkit-transform:scale(1);transform:scale(1)}.p_audioui_intervalButton:not([disabled]).touched .p_audioui_iconNumber,.p_audioui_intervalButton:not([disabled]).touched svg{-webkit-transform:scale(.8);transform:scale(.8)}.p_audioui_iconNumber{font-size:14px;line-height:14px;top:20px}.p_audioui_iconNumber,.p_audioui_popNumber{left:0;position:absolute;right:0;text-align:center}.p_audioui_popNumber{font-size:16px;line-height:16px;opacity:0;pointer-events:none;top:-20px}.p_audioui_popNumber.p_up{top:-27px}@media (prefers-reduced-motion:reduce){.p_audioui_popNumber{display:none}}.rotated .p_audioui_popNumber.p_up{-webkit-transition:top .4s linear;transition:top .4s linear}:not(.rotated) .p_audioui_popNumber.p_up{-webkit-transition:top .4s linear,opacity .25s linear;transition:top .4s linear,opacity .25s linear}:not(.rotated) .p_audioui_popNumber{-webkit-transition:opacity .25s linear;transition:opacity .25s linear}.p_audioui_intervalButton .p_audioui_intervalArrow{-webkit-transform:rotate(0);transform:rotate(0);-webkit-transform-origin:24px 26px;transform-origin:24px 26px;-webkit-transition:-webkit-transform .25s linear;transition:-webkit-transform .25s linear;transition:transform .25s linear;transition:transform .25s linear,-webkit-transform .25s linear}.p_audioui_intervalButton.rotated .p_audioui_intervalArrow{-webkit-transition:-webkit-transform .15s linear;transition:-webkit-transform .15s linear;transition:transform .15s linear;transition:transform .15s linear,-webkit-transform .15s linear}.p_audioui_intervalButton.rotated #p_audioui_backInterval_backArrow{-webkit-transform:rotate(-70deg);transform:rotate(-70deg)}.p_audioui_intervalButton.rotated #p_audioui_forwardInterval_forwardArrow{-webkit-transform:rotate(70deg);transform:rotate(70deg)}@media (-ms-high-contrast:active){#p_audioui_forwardInterval{color:windowText!important;fill:windowText!important;-ms-high-contrast-adjust:none}#p_audioui_forwardInterval[disabled]{color:grayText!important;fill:grayText!important}#p_audioui_forwardInterval[disabled] .p_audioButton_buttonInner{opacity:1!important}#p_audioui_forwardInterval:not([disabled]).hovering,#p_audioui_forwardInterval:not([disabled]).pressed,.nonPointerFocus #p_audioui_forwardInterval:not([disabled]).focused{color:highlightText!important;fill:highlightText!important}#p_audioui_forwardInterval:not([disabled]).hovering svg,#p_audioui_forwardInterval:not([disabled]).pressed svg,.nonPointerFocus #p_audioui_forwardInterval:not([disabled]).focused svg{background-color:highlight!important}#p_audioui_backInterval{color:windowText!important;fill:windowText!important;-ms-high-contrast-adjust:none}#p_audioui_backInterval[disabled]{color:grayText!important;fill:grayText!important}#p_audioui_backInterval[disabled] .p_audioButton_buttonInner{opacity:1!important}#p_audioui_backInterval:not([disabled]).hovering,#p_audioui_backInterval:not([disabled]).pressed,.nonPointerFocus #p_audioui_backInterval:not([disabled]).focused{color:highlightText!important;fill:highlightText!important}#p_audioui_backInterval:not([disabled]).hovering svg,#p_audioui_backInterval:not([disabled]).pressed svg,.nonPointerFocus #p_audioui_backInterval:not([disabled]).focused svg{background-color:highlight!important}}.audioButton.p_audioui_jumpButton{height:48px;-webkit-transform:translateZ(0);transform:translateZ(0);width:48px}.audioButton.p_audioui_jumpButton .p_audioButton_buttonInner{-webkit-transition:-webkit-transform .1s linear;transition:-webkit-transform .1s linear;transition:transform .1s linear;transition:transform .1s linear,-webkit-transform .1s linear}.nonPointerFocus .p_audioui_jumpButton:not([disabled]).focused .p_audioButton_buttonInner,.p_audioui_jumpButton:not([disabled]).hovering .p_audioButton_buttonInner{-webkit-transform:scale(1.17);transform:scale(1.17)}.nonPointerFocus .p_audioui_jumpButton:not([disabled]).focused.pressed .p_audioButton_buttonInner,.p_audioui_jumpButton:not([disabled]).hovering.pressed .p_audioButton_buttonInner{-webkit-transform:scale(1);transform:scale(1)}.p_audioui_jumpButton:not([disabled]).touched .p_audioButton_buttonInner{-webkit-transform:scale(.8);transform:scale(.8)}#p_audioui_backToStartButton_text{font-size:10px;line-height:10px;position:absolute;right:17px;top:22px}#p_audioui_toLiveButton_text{font-size:10px;left:17px;line-height:10px;position:absolute;top:22px}@media (-ms-high-contrast:active){#p_audioui_toLiveButton{color:windowText!important;fill:windowText!important;-ms-high-contrast-adjust:none}#p_audioui_toLiveButton[disabled]{color:grayText!important;fill:grayText!important}#p_audioui_toLiveButton[disabled] .p_audioButton_buttonInner{opacity:1!important}#p_audioui_toLiveButton:not([disabled]).hovering,#p_audioui_toLiveButton:not([disabled]).pressed,.nonPointerFocus #p_audioui_toLiveButton:not([disabled]).focused{color:highlightText!important;fill:highlightText!important}#p_audioui_toLiveButton:not([disabled]).hovering .p_audioButton_buttonInner,#p_audioui_toLiveButton:not([disabled]).pressed .p_audioButton_buttonInner,.nonPointerFocus #p_audioui_toLiveButton:not([disabled]).focused .p_audioButton_buttonInner{background-color:highlight!important}#p_audioui_backToStartButton{color:windowText!important;fill:windowText!important;-ms-high-contrast-adjust:none}#p_audioui_backToStartButton[disabled]{color:grayText!important;fill:grayText!important}#p_audioui_backToStartButton[disabled] .p_audioButton_buttonInner{opacity:1!important}#p_audioui_backToStartButton:not([disabled]).hovering,#p_audioui_backToStartButton:not([disabled]).pressed,.nonPointerFocus #p_audioui_backToStartButton:not([disabled]).focused{color:highlightText!important;fill:highlightText!important}#p_audioui_backToStartButton:not([disabled]).hovering .p_audioButton_buttonInner,#p_audioui_backToStartButton:not([disabled]).pressed .p_audioButton_buttonInner,.nonPointerFocus #p_audioui_backToStartButton:not([disabled]).focused .p_audioButton_buttonInner{background-color:highlight!important}}#p_audioui_playpause{height:68px;width:68px}#p_audioui_playpause svg{overflow:visible;position:unset;-webkit-transition:-webkit-transform .1s linear;transition:-webkit-transform .1s linear;transition:transform .1s linear;transition:transform .1s linear,-webkit-transform .1s linear}#p_audioui_playpause:not([disabled]).hovering svg,.nonPointerFocus #p_audioui_playpause:not([disabled]).focused svg{-webkit-transform:scale(1.1);transform:scale(1.1)}#p_audioui_playpause:not([disabled]).hovering.pressed svg,.nonPointerFocus #p_audioui_playpause:not([disabled]).focused.pressed svg{-webkit-transform:scale(1);transform:scale(1)}#p_audioui_playpause:not([disabled]).touched svg{-webkit-transform:scale(.9);transform:scale(.9)}#p_audioui_playpause_circle{fill:none;stroke:#fff;stroke-width:3}#p_audioui_playpause_circle,#p_audioui_playpause_highlightCircle,.p_fadingRing{-webkit-transition:opacity .1s linear;transition:opacity .1s linear}#p_audioui_playpause_highlightCircle{opacity:0}#p_audioui_playpause.hovering #p_audioui_playpause_highlightCircle,#p_audioui_playpause.pressed #p_audioui_playpause_highlightCircle,.nonPointerFocus #p_audioui_playpause.focused #p_audioui_playpause_highlightCircle{opacity:1}#p_audioui_playpause_pauseIcon,#p_audioui_playpause_playIcon{-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:34px 34px;transform-origin:34px 34px;-webkit-transition:-webkit-transform .1s ease-out;transition:-webkit-transform .1s ease-out;transition:transform .1s ease-out;transition:transform .1s ease-out,-webkit-transform .1s ease-out}#p_audioui_playpause_pauseIcon{opacity:0}@media (-ms-high-contrast:active){#p_audioui_playpause_highlightCircle{fill:highlight!important}#p_audioui_playpause{fill:windowText!important;-ms-high-contrast-adjust:none}#p_audioui_playpause_circle{stroke:windowText!important}#p_audioui_playpause.hovering #p_audioui_playpause_centralIcons,#p_audioui_playpause.hovering .p_fadingRing,#p_audioui_playpause.pressed #p_audioui_playpause_centralIcons,#p_audioui_playpause.pressed .p_fadingRing,.nonPointerFocus #p_audioui_playpause.focused #p_audioui_playpause_centralIcons,.nonPointerFocus #p_audioui_playpause.focused .p_fadingRing{fill:highlightText!important}#p_audioui_playpause .p_fadingRing{fill:windowText!important}}.audioUI #p_audioui_leftTimeDisplay,.audioUI #p_audioui_rightTimeDisplay{font-size:.75em;line-height:1;pointer-events:none;-webkit-transition:opacity 1s linear;transition:opacity 1s linear}.audioUI #p_audioui_rightTimeDisplay span,.audioUI #p_audioui_rightTimeDisplay svg{display:inline;-webkit-transition:opacity 1s linear;transition:opacity 1s linear;vertical-align:middle}.audioUI #p_audioui_rightTimeDisplay svg{padding-right:3px;position:unset;-webkit-transform:translateZ(0);transform:translateZ(0)}.p_audioui_liveIconCentre{animation:pulsate 1.7s ease 3}@media (prefers-reduced-motion:reduce){.p_audioui_liveIconCentre{animation:none!important}}@keyframes pulsate{0%{opacity:1}50%{opacity:.3}to{opacity:1}}@media (-ms-high-contrast:active){#p_audioui_rightTimeDisplay svg{fill:windowText!important}}.audioUI #p_audioui_container{bottom:0;position:absolute;width:100%;z-index:160}.audioUI .p_playerSeekBarHolder{bottom:98px;position:absolute}.audioUI .p_threeRows .p_playerSeekBarHolder{bottom:150px}svg{left:0;position:absolute;top:0}#p_pluginContainer svg{left:unset;position:unset;top:unset}.audioButton{background-color:transparent;border:0;cursor:pointer;margin:0;opacity:1;outline:0;overflow:visible;padding:0;-webkit-transition:opacity 1s linear;transition:opacity 1s linear;-webkit-tap-highlight-color:transparent}.audioButton .p_audioButton_buttonInner{height:100%;position:relative;width:100%}.audioButton[disabled]{cursor:default;pointer-events:none}.audioButton[disabled] .p_audioButton_buttonInner{opacity:.45}.audioButton.hidden,.audioButton.removed{cursor:default;opacity:0!important;pointer-events:none}.audioUI #p_audioui_coreControls{bottom:16px;left:50%;position:absolute}.audioUI .p_threeRows #p_audioui_coreControls{bottom:64px}.audioUI #p_audioui_playpause{bottom:0;left:-34px;position:absolute}@media (max-width:100px){.audioUI #p_audioui_coreControls{left:0;margin-left:50%;width:100%}.audioUI #p_audioui_playpause{bottom:0;left:-34px;position:absolute}}.audioUI #p_audioui_ctaDuration{bottom:26px;font-size:15px;left:50px;line-height:15px;opacity:1;pointer-events:none;position:absolute;-webkit-transition:opacity 1s linear;transition:opacity 1s linear;width:150px}.audioUI #p_audioui_ctaDuration.hidden,.audioUI #p_audioui_ctaDuration.removed{opacity:0;transition-duration:0s}.audioUI #p_audioui_backInterval{bottom:10px;position:absolute;right:62px}.audioUI #p_audioui_forwardInterval{bottom:10px;left:62px;position:absolute}.audioUI #p_audioui_previousButton{bottom:10px;position:absolute;right:123px}.audioUI #p_audioui_nextButton{bottom:10px;left:123px;position:absolute}.audioUI #p_audioui_backToStartButton{bottom:10px;position:absolute;right:123px}.audioUI #p_audioui_toLiveButton{bottom:10px;left:123px;position:absolute}.audioUI .p_volumeControls{bottom:26px;left:8px}.audioUI #p_audioui_rightRegionControls{bottom:27px;position:absolute;right:0}.audioUI .p_threeRows #p_audioui_rightRegionControls{bottom:10px;right:calc(50% - 174px)}.audioUI #p_audioui_playQueueButton,.audioUI #p_audioui_playbackSettingsButton{float:right}.audioUI #p_audioui_popOutPlayerButton{float:right;margin-right:12px}@media (max-width:799px){.audioUI #p_audioui_popOutPlayerButton{display:none}}.audioUI #p_audioui_leftTimeDisplay{bottom:108px;left:16px;margin-bottom:-1em;position:absolute}.audioUI #p_audioui_rightTimeDisplay{bottom:108px;margin-bottom:-1em;position:absolute;right:16px}.audioUI .p_threeRows #p_audioui_leftTimeDisplay,.audioUI .p_threeRows #p_audioui_rightTimeDisplay{bottom:160px}@media (max-height:120px){.p_audioui_leftTimeDisplay,.p_audioui_rightTimeDisplay,.p_playerSeekBarHolder{display:none}.audioUI #p_audioui_coreControls{bottom:4px;height:100%}.audioUI #p_audioui_playpause svg{height:48px;width:48px}}@media (max-width:250px){.audioUI #p_audioui_backInterval,.audioUI #p_audioui_backToStartButton,.audioUI #p_audioui_forwardInterval,.audioUI #p_audioui_nextButton,.audioUI #p_audioui_previousButton,.audioUI #p_audioui_toLiveButton{display:none}}@media (max-width:374px){.audioUI .p_threeRows #p_audioui_rightRegionControls{right:calc(50% - 152px)}.audioUI #p_audioui_backInterval{right:52px}.audioUI #p_audioui_forwardInterval{left:52px}.audioUI #p_audioui_previousButton{right:105px}.audioUI #p_audioui_nextButton{left:105px}.audioUI #p_audioui_backToStartButton{right:105px}.audioUI #p_audioui_toLiveButton{left:105px}}@media (max-width:399px){.audioUI #p_audioui_leftTimeDisplay{left:10px}.audioUI #p_audioui_rightTimeDisplay{right:10px}}@media (-ms-high-contrast:active){body.audioUI{background-color:window!important}}.audioUI #p_speedIndicator{height:2px}.audioUI #p_speedContainer{background-color:transparent}.audioUI #p_speedContainer .p_speedBox{background-color:#000}.audioUI #p_speedContainer .p_speedLabel{border-bottom:1px solid #a4a4a4;font-size:16px;height:44px;line-height:44px;padding-left:0;padding-top:2px;text-align:center}.audioUI .p_speedSettingButton div{line-height:44px}.audioUI #p_speedContainer .p_downArrow{border-top:7px solid #000}#p_audioui_speedButton{float:right}.audioUI #p_speedContainer .p_downArrow{right:58px}.audioUI #p_speedContainer{right:5px}.p_errorWrapper{height:100%;left:0;position:absolute;top:0;width:100%;z-index:150}.p_errorDialog{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(51,51,51,.85);color:#fff;font-size:18px;height:100%;line-height:24px;text-align:center;text-decoration:none;vertical-align:middle;width:100%}.p_smallErrorVersion .p_errorDialog{background:#333;display:block}@media (min-width:320px) and (max-width:599px){.p_errorDialog{font-size:16px;line-height:22px}}@media (max-width:319px){.p_errorDialog{font-size:15px;line-height:20px}}.p_errorBackground{background-color:transparent;padding:20px;text-align:center;vertical-align:middle;width:245px}.p_smallErrorVersion .p_errorBackground{background:none;height:100%;left:0;padding:0;position:absolute;text-align:left;width:100%}@media (max-width:266px){.p_errorBackground{box-sizing:border-box;padding:0 8px;width:100%}}.p_iconHolder.alertIconHolder{background-image:url(https://emp.bbc.co.uk/emp/assets/2.2.6/alert.png);background-position:50%;background-repeat:no-repeat;background-size:25.15px 22px;height:22px}.svg .alertIconHolder{background-image:none}.p_smallErrorVersion .alertIconHolder{display:inline-block;float:left;height:100%;padding:0 8px;text-align:center;width:44px}@media (max-width:400px){.p_smallErrorVersion .p_fallbackDialog .alertIconHolder{display:none}}@media (max-width:266px){.alertIconHolder:not(.p_smallErrorVersion),.p_smallErrorVersion .p_errorRefreshDialog_a+.alertIconHolder{display:none}}@media (max-width:150px){.p_errorPrimary,.p_errorSecondary{visibility:hidden}.alertIconHolder{display:block!important;left:50%;margin-left:-25%}}.svg .p_alertIcon{height:22px;position:unset;width:25.15px}.p_smallErrorVersion.svg .p_alertIcon{height:22px;width:25.15px}.p_smallErrorVersion div[role=alert],.p_smallErrorVersion.svg .p_alertIcon{position:relative;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.p_smallErrorVersion div[role=alert]{display:block;overflow:hidden}.p_errorPrimary{display:inline-block;margin-top:16px}.p_smallErrorVersion .p_errorPrimary{display:block;margin:0}@media (max-width:266px){.p_errorPrimary{width:100%}}@media (max-width:400px){.p_smallErrorVersion .p_fallbackDialog .p_errorPrimary{padding:8px;text-align:center}}.p_errorPrimary a{color:#fff;font-weight:700}@media (max-width:400px){.p_smallErrorVersion.svg .p_refreshIcon{display:block!important;height:18px;padding:8px 0;width:18px}}.p_errorSecondary{color:#fff;display:block;margin-top:31px}.p_errorSecondary a{color:#fff}.p_none.p_errorSecondary,.p_smallErrorVersion .p_errorSecondary{display:none}.p_errorDialog_a{background-clip:padding-box;background-color:#191919;border:5px solid transparent;color:#fff;cursor:pointer;display:inline-block;height:34px;line-height:34px;margin-bottom:10px;margin-top:17px;-webkit-transition:background-color .4s ease-out;-moz-transition:background-color .4s ease-out;-o-transition:background-color .4s ease-out;transition:background-color .4s ease-out;width:227px}.p_flashNotAvailable .p_errorDialog_a{background-color:transparent;max-width:450px;width:100%}.p_flashNotAvailable .p_errorBackground{max-width:450px;width:100%}.p_smallErrorVersion .p_errorDialog_a{float:right;margin:0 8px 0 0;padding:0 8px;position:relative;text-align:center;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:auto}.offline .p_errorDialog_a{display:none}@media (max-width:400px){.p_smallErrorVersion .p_errorDialog_a{display:none}}@media (max-width:266px){.p_errorDialog_a{border:0;width:100%}}.p_errorRefreshDialog_a{background-image:url(https://emp.bbc.co.uk/emp/assets/2.2.6/refresh.png);background-position:50%;background-repeat:no-repeat;background-size:18px 18px}.svg .p_errorRefreshDialog_a{background-image:none}.p_smallErrorVersion .p_errorRefreshDialog_a{background-clip:padding-box;background-color:#191919;border:5px solid transparent;color:#fff;cursor:pointer;display:none;float:right;height:34px;line-height:34px;margin:0 8px 0 0;padding:0 8px;position:relative;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);-webkit-transition:background-color .4s ease-out;-moz-transition:background-color .4s ease-out;-o-transition:background-color .4s ease-out;transition:background-color .4s ease-out;width:18px}@media (max-width:400px){.p_smallErrorVersion .p_errorRefreshDialog_a{display:inline-block!important}.offline .p_errorRefreshDialog_a{display:none!important}}.p_fallbackButton{background:#191919;color:#fff;cursor:pointer;height:34px;line-height:34px;margin-top:19px;text-align:center;-webkit-transition:background-color .4s ease-out;-moz-transition:background-color .4s ease-out;-o-transition:background-color .4s ease-out;transition:background-color .4s ease-out;width:100%}.p_smallErrorVersion .p_fallbackDialog .p_fallbackButton{margin-top:12px;width:245px}@media (max-width:400px){.p_smallErrorVersion .p_fallbackDialog .p_fallbackButton{margin-left:auto;margin-right:auto}}.p_holding_image{display:none;height:100%;object-fit:cover;-o-object-fit:cover;position:absolute;width:100%}.fullscreen .p_holding_image{margin:0 auto;object-fit:contain;-o-object-fit:contain;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}#p_audioui_playQueueButton .p_audioButton_buttonInner div,#p_audioui_speedButton .p_audioButton_buttonInner div{font-size:16px;line-height:48px;vertical-align:middle}#p_audioui_playQueueButton svg{padding:14px}.p_indicatorLine{background-color:#fff;display:block;height:2px;left:4px;position:absolute;top:40px;width:40px}#p_audioui_playQueueButton,#p_audioui_playbackSettingsButton,#p_audioui_speedButton,#p_audioui_subtitleButton{height:48px;width:48px}#p_audioui_playQueueButton .p_audioButton_buttonInner,#p_audioui_playbackSettingsButton .p_audioButton_buttonInner,#p_audioui_speedButton .p_audioButton_buttonInner,.audioUI #p_speedContainer .p_speedSettingButton{-webkit-transition:-webkit-transform .1s linear;transition:-webkit-transform .1s linear;transition:transform .1s linear;transition:transform .1s linear,-webkit-transform .1s linear}#p_audioui_playQueueButton:not([disabled]).hovering .p_audioButton_buttonInner,#p_audioui_playbackSettingsButton:not([disabled]).hovering .p_audioButton_buttonInner,#p_audioui_speedButton:not([disabled]).hovering .p_audioButton_buttonInner,.audioUI #p_audioui_subtitleButton:not([disabled]).hovering,.audioUI .p_speedSettingButton:not([disabled]).hovering,.audioUI.nonPointerFocus #p_audioui_subtitleButton:not([disabled]).focused,.audioUI.nonPointerFocus .p_speedSettingButton:not([disabled]).focused,.nonPointerFocus #p_audioui_playQueueButton:not([disabled]).focused .p_audioButton_buttonInner,.nonPointerFocus #p_audioui_playbackSettingsButton:not([disabled]).focused .p_audioButton_buttonInner,.nonPointerFocus #p_audioui_speedButton:not([disabled]).focused .p_audioButton_buttonInner{-webkit-transform:scale(1.25);transform:scale(1.25)}#p_audioui_subtitleButton{float:right}#p_audioui_playbackSettingsButton:not([disabled]).hovering.pressed .p_audioButton_buttonInner,#p_audioui_speedButton:not([disabled]).hovering.pressed .p_audioButton_buttonInner,.audioUI #p_audioui_subtitleButton:not([disabled]).hovering.pressed,.audioUI .p_speedSettingButton:not([disabled]).hovering.pressed,.audioUI.nonPointerFocus #p_audioui_subtitleButton:not([disabled]).focused.pressed,.audioUI.nonPointerFocus .p_speedSettingButton:not([disabled]).focused.pressed,.nonPointerFocus #p_audioui_playbackSettingsButton:not([disabled]).focused.pressed .p_audioButton_buttonInner,.nonPointerFocus #p_audioui_speedButton:not([disabled]).focused.pressed .p_audioButton_buttonInner{-webkit-transform:scale(1);transform:scale(1)}#p_audioui_playbackSettingsButton:not([disabled]).touched .p_audioButton_buttonInner,#p_audioui_speedButton:not([disabled]).touched .p_audioButton_buttonInner,.audioUI .p_speedSettingButton:not([disabled]).touched{-webkit-transform:scale(.85);transform:scale(.85)}#p_audioui_playQueueButton.removed,#p_audioui_playbackSettingsButton.removed,#p_audioui_speedButton.removed,#p_audioui_subtitleButton.removed{display:none}@media (-ms-high-contrast:active){#p_audioui_playQueueButton,#p_audioui_playbackSettingsButton,#p_audioui_speedButton{fill:windowText!important;-ms-high-contrast-adjust:none}#p_audioui_playQueueButton:not([disabled]).hovering,#p_audioui_playQueueButton:not([disabled]).p_open,#p_audioui_playQueueButton:not([disabled]).pressed,#p_audioui_playbackSettingsButton:not([disabled]).hovering,#p_audioui_playbackSettingsButton:not([disabled]).p_open,#p_audioui_playbackSettingsButton:not([disabled]).pressed,#p_audioui_speedButton:not([disabled]).hovering,#p_audioui_speedButton:not([disabled]).p_open,#p_audioui_speedButton:not([disabled]).pressed,.nonPointerFocus #p_audioui_playQueueButton:not([disabled]):focus,.nonPointerFocus #p_audioui_playbackSettingsButton:not([disabled]):focus,.nonPointerFocus #p_audioui_speedButton:not([disabled]):focus{fill:highlightText!important}#p_audioui_playQueueButton:not([disabled]).hovering .p_audioButton_buttonInner,#p_audioui_playQueueButton:not([disabled]).p_open .p_audioButton_buttonInner,#p_audioui_playbackSettingsButton:not([disabled]).hovering .p_audioButton_buttonInner,#p_audioui_playbackSettingsButton:not([disabled]).p_open .p_audioButton_buttonInner,#p_audioui_playbackSettingsButton:not([disabled]).pressed .p_audioButton_buttonInner,#p_audioui_speedButton:not([disabled]).hovering .p_audioButton_buttonInner,#p_audioui_speedButton:not([disabled]).p_open .p_audioButton_buttonInner,#p_audioui_speedButton:not([disabled]).pressed .p_audioButton_buttonInner,.nonPointerFocus #p_audioui_playbackSettingsButton:not([disabled]):focus .p_audioButton_buttonInner,.nonPointerFocus #p_audioui_speedButton:not([disabled]):focus .p_audioButton_buttonInner{background-color:highlight!important}}.p_subtitlesContainer{display:block;height:100%;pointer-events:none;position:absolute;width:100%;z-index:9}.errorShowing .p_subtitlesContainer,.outOfControl .p_subtitlesContainer{display:none!important}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{border:0;font-size:100%;font:inherit;margin:0;padding:0;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}button::-moz-focus-inner{border:0}body,html{margin:0;overflow:hidden;padding:0;-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none;user-select:none}video::-webkit-media-controls-start-playback-button{-webkit-appearance:none;display:none!important}html{height:100%;width:100%}body{background-color:transparent;margin:0;padding:0}body.classicUI{background-color:#000}body.classicUI.transparent{background-color:transparent}.p_background{background-color:#000;bottom:0;left:0;position:fixed;right:0;top:0}.p_background.transparent{background-color:transparent}button{border-radius:0}button.p_button,button.p_controlBarButton,button.p_cta{font-size:1em;outline:none}.classicUI.cta .mediaContainer:hover{cursor:pointer}.transparent .mediaContainer{background-color:transparent!important;transform:translateZ(0)}.classicUI.cta.errorShowing .mediaContainer:hover,.errorShowing .mediaContainer:hover{cursor:default}.pluginBackgroundIncluded .p_accessibleHitArea{display:none}.pluginBackgroundIncluded.cta .p_accessibleHitArea{display:block}.p_accessibleHitArea{display:block;height:100%;position:absolute;top:0;width:100%;z-index:1}#p_alert{display:none;left:-2500px;overflow:hidden;position:absolute;width:1px}.p_posterEffectsContainer,.p_posterEffectsContainer img,.p_posterSlideEffectContainer{height:100%;position:absolute;top:0;width:100%;z-index:0}.p_oldSlideImage{z-index:0!important}.p_newSlideImage{z-index:1!important}.p_onScreen{left:0}.p_offScreenLeft{left:-100%}.p_offScreenRight{left:100%}.p_button{border:0;cursor:pointer;margin:0;padding:0}.p_posterEffectsContainer{bottom:0;left:0;position:absolute;right:0;top:0}.p_posterEffectsContainer img{height:100%;width:100%}.mediaContainer{background-color:inherit;background-position:49.99% 49.99%;background-repeat:no-repeat;background-size:contain;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}.mediaContainer audio,.mediaContainer video{background-color:transparent;height:100%;left:0;position:absolute;top:0;transform:translateZ(0);width:100%}.classicUI .mediaContainer audio,.classicUI .mediaContainer video{background-color:#000}body.classicUI.transparent .mediaContainer audio,body.classicUI.transparent .mediaContainer video{background-color:transparent}.displayCover:not(.fullscreen) .mediaContainer{background-size:cover}.videoPositionTop .mediaContainer{background-position:0 0}.videoPositionBottom .mediaContainer{background-position:0 100%}.displayCover:not(.fullscreen) .mediaContainer video{object-fit:cover}.videoPositionTop .mediaContainer video{object-position:0 0}.videoPositionBottom .mediaContainer video{object-position:0 100%}#debugMenu{background-color:rgba(0,0,0,.7);bottom:0;color:#fff;display:block;font-size:15px;left:0;padding:10px;position:fixed;right:0;top:0;z-index:10}.p_contextMenu{background-color:#fff;border:1px solid #333;border-radius:3px;margin:0;max-width:350px;padding:0;position:fixed;z-index:200}.p_contextMenu li:hover{background-color:#666;color:#fff}.p_contextMenu li{list-style:none}.p_contextMenuItem{color:#000;cursor:pointer;display:inline-block;font-size:12px;line-height:22px;margin:0 5px;overflow:hidden;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;width:calc(100% - 10px)}.p_contextMenu li:first-child{margin-top:5px}.p_contextMenu li:last-child{margin-bottom:5px}#p_remoteInput{background-color:rgba(0,0,0,.8);color:#fff;font-size:18px;font-weight:700;letter-spacing:3px;padding:8px 10px;position:absolute;right:40px;top:40px;width:37px;z-index:999}.p_iconHolder{height:100%;position:relative;width:100%}.p_iconHolder svg{height:inherit;width:inherit}.p_cta{background-color:rgba(0,0,0,.8);background-image:url(https://emp.bbc.co.uk/emp/assets/2.2.6/cta_play.png);background-position:50%;background-repeat:no-repeat;background-size:52px 52px;border:0;bottom:0;cursor:pointer;display:block;height:80px;left:0;position:absolute;text-decoration:none;-webkit-transition:background-color .4s ease-out;-moz-transition:background-color .4s ease-out;-o-transition:background-color .4s ease-out;transition:background-color .4s ease-out;width:99%;width:80px;z-index:150}.rtlCta .p_cta{left:calc(100% - 80px)}.p_cta.p_hasDuration{background-position:50% 38%}.svg .p_svg{fill:#fff}.svg .p_cta,.svg.minimode .p_cta{background-image:none}.svg .p_cta .p_ctaIcon{height:60px;left:10px;position:absolute;top:10px;width:60px}.svg .p_cta.p_hasDuration .p_ctaIcon{top:5px}.minimode .p_cta{background-size:35px 35px;height:60px;width:60px}.minimode.svg .p_cta .p_ctaIcon{height:40px;left:10px;top:10px;width:40px}.minimode.svg .p_cta.p_hasDuration .p_ctaIcon{top:4px}.minimode.audio .p_cta{background-size:22px 22px}.minimode.audio .p_cta.p_hasDuration{background-position:50% 34%}.p_ctaDuration{bottom:8px;color:#fff;font-size:.75rem;left:0;position:absolute;width:80px}.minimode .p_ctaDuration{bottom:6px;width:60px}.p_none{display:none}.minimode .p_cta{background-image:url(https://emp.bbc.co.uk/emp/assets/2.2.6/cta_play_minimode.png)}.audio .p_cta{background-image:url(https://emp.bbc.co.uk/emp/assets/2.2.6/cta_play_audio.png);background-size:28px 28px}.audio.svg .p_cta{background-image:none}.audio.svg .p_cta .p_ctaIcon{height:62px;left:9px;top:9px;width:62px}.audio.svg .p_cta.p_hasDuration .p_ctaIcon{top:4px}.minimode.audio.svg .p_cta .p_ctaIcon{height:45px;left:7px;top:9px;width:45px}.minimode.audio.svg .p_cta.p_hasDuration .p_ctaIcon{top:1px}@-webkit-keyframes spinner{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@-moz-keyframes spinner{0%{-moz-transform:rotate(0deg)}to{-moz-transform:rotate(1turn)}}@keyframes spinner{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.p_spinner{display:none;pointer-events:none;position:absolute;position:fixed;z-index:10}.p_spinner canvas{-webkit-animation-duration:1.1s;-moz-animation-duration:1.1s;animation-duration:1.1s;-webkit-animation-iteration-count:infinite;-moz-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:spinner;-moz-animation-name:spinner;animation-name:spinner;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear;animation-timing-function:linear}.minimode .p_spinner{display:none!important}.cta #p_pluginBackgroundContainer{display:none}#p_pluginBackgroundContainer{display:block;overflow:hidden;position:absolute;z-index:1}#p_pluginContainer{overflow:hidden;z-index:50}.p_playerControls{z-index:160}.p_gradientLayer,.p_playerControls{bottom:0;left:0;position:absolute;right:0}.p_gradientLayer{background:-moz-linear-gradient(top,transparent 0,rgba(0,0,0,.5) 40%,#000 100%);background:-webkit-linear-gradient(top,transparent,rgba(0,0,0,.5) 40%,#000);background:linear-gradient(180deg,transparent 0,rgba(0,0,0,.5) 40%,#000);height:148px;opacity:0;pointer-events:none;width:100%;z-index:8}.p_gradientBottomfiller{background-color:#000;bottom:0;pointer-events:none;position:absolute;width:100%;z-index:49}.cta .p_gradientBottomfiller,.cta .p_gradientLayer{visibility:hidden}.cta.fullscreen .p_gradientBottomfiller,.cta.fullscreen .p_gradientLayer{visibility:visible}.p_hasMarkers:not(.p_chapterOnly):not(.p_keyMomentOnly) .p_gradientLayer{height:176px}.noSeekingBar .p_gradientLayer{height:64px}.minimode .p_gradientLayer{background:#000;height:88px}.minimode.transparent .p_gradientBottomfiller,.minimode.transparent .p_gradientLayer{background:transparent}.minimode.noSeekingBar .p_gradientLayer{height:44px}.minimode:not(.p_keyMomentOnly).p_hasMarkers .p_gradientLayer{height:132px}.minimode .p_keyMoment{bottom:50px}.minimode.p_keyMomentOnly .p_keyMoment{bottom:6px}@media (max-width:1310px){.fullscreen .p_playerControls{left:3.5625%;margin:0;right:3.5625%;width:auto}}@media (min-width:1310px){.fullscreen .p_playerControls{left:50%;margin:0 0 0 -640px;width:1280px}}.fadedOut{opacity:0}.fadedIn{opacity:1}.fadedIn,.fadedOut{-webkit-transition:opacity .6s ease-out;-moz-transition:opacity .6s ease-out;-o-transition:opacity .6s ease-out;transition:opacity .6s ease-out}.controlsFadedOut .p_gradientBottomfiller,.controlsFadedOut .p_gradientLayer,.controlsFadedOut .p_playerControls,.controlsFadedOut .p_timeDisplay{opacity:0}.controlsFadedIn .p_gradientBottomfiller,.controlsFadedIn .p_gradientLayer,.controlsFadedIn .p_playerControls,.controlsFadedIn .p_timeDisplay{opacity:1}#p_compassContainer,.controlsFadedIn .p_gradientBottomfiller,.controlsFadedIn .p_gradientLayer,.controlsFadedIn .p_playerControls,.controlsFadedIn .p_timeDisplay,.controlsFadedOut .p_gradientBottomfiller,.controlsFadedOut .p_gradientLayer,.controlsFadedOut .p_playerControls,.controlsFadedOut .p_timeDisplay{-webkit-transition:opacity .6s ease-out;-moz-transition:opacity .6s ease-out;-o-transition:opacity .6s ease-out;transition:opacity .6s ease-out}.p_timeTipTriangle.p_keyMomentTipTriangle{border-top:5px solid #191919;left:2px}.p_timeDisplay{cursor:default;float:right;margin-right:12px;right:0;text-align:center;white-space:nowrap}.p_time{color:#fff;text-align:right}.p_time,.p_timeSeparator{display:inline-block;font-size:.75em;line-height:44px}.p_timeSeparator{color:#b3b3b3;padding-left:4px;padding-right:7px;width:2px}.p_duration{color:#b3b3b3;text-align:left}.transparent .p_duration,.transparent .p_timeSeparator{color:#fff}.p_playerControlBarHolder{height:44px;line-height:0;position:relative}.stopTouch .p_playerControls{pointer-events:none}.p_controlBarButton{background-color:transparent;background-position:50%;background-repeat:no-repeat;cursor:pointer;display:block;font-weight:700;height:44px;outline:0;position:absolute;text-align:center;text-decoration:none;-webkit-transition:opacity .4s ease-out;-moz-transition:opacity .4s ease-out;-o-transition:opacity .4s ease-out;transition:opacity .4s ease-out;width:44px;z-index:170}.p_controlBarButton:not(.p_buttonTouch){-webkit-transition:background-color .4s ease-out,opacity .4s ease-out;-moz-transition:background-color .4s ease-out,opacity .4s ease-out;-o-transition:background-color .4s ease-out,opacity .4s ease-out;transition:background-color .4s ease-out,opacity .4s ease-out}.p_selected_indicator{height:4px;position:absolute;width:40px}.p_timeDisplay.p_covered{opacity:0}.nonPointerFocus .p_controlBarButton_on:focus .p_selected_indicator,.p_controlBarButton_on:hover .p_selected_indicator,.p_settingsPanelOpen .p_selected_indicator{opacity:.4}.p_controlSeekBarThumb{height:38px;position:absolute;width:38px;z-index:170}.p_playButton{background-image:url(https://emp.bbc.co.uk/emp/assets/2.2.6/play.png);left:0}.svg .p_playButton{background-image:none}.svg .p_playButton .p_playIcon{height:31px;left:5px;position:absolute;top:7px;width:31px}.p_pauseButton{background-image:url(https://emp.bbc.co.uk/emp/assets/2.2.6/pause.png);left:0}.svg .p_pauseButton{background-image:none}.svg .p_pauseButton .p_pauseIcon{height:28px;left:7px;position:absolute;top:8px;width:28px}.p_fullscreenButton{background-image:url(https://emp.bbc.co.uk/emp/assets/2.2.6/fullscreen.png)}.p_fullscreenButtonReturn{background-image:url(https://emp.bbc.co.uk/emp/assets/2.2.6/fullscreen-exit.png);background-position:50%;background-repeat:no-repeat;background-size:22px 22px;right:0}.p_castOverlay{background-color:rgba(51,51,51,.8);height:100%;left:0;margin:0;overflow:hidden;padding:0;position:absolute;right:0;top:0;z-index:9}.p_castOverlay .p_castIcon{bottom:0;height:100px;left:0;margin:auto;position:absolute;right:0;top:0;width:100px}.fullscreen .p_messageDiv{top:35%}.CCisCasting .p_castOverlay.shiftCentralControls .p_castIcon{margin:5px}.p_messageDiv{position:absolute;text-align:center;top:22%;width:100%}.p_castMessage{color:#fff;font-size:1.25em;font-weight:700}.CCisCasting .p_castOverlay.shiftCentralControls .p_castMessage,.CCisCasting .p_castOverlay.shiftCentralControls .p_deviceMessage{display:inline}.CCisCasting .p_castOverlay.shiftCentralControls .p_deviceMessage:before{content:" - "}.p_deviceMessage{color:#a4a4a4;font-size:1em;padding:8px 0 4px}@media (min-width:600px){.CCisCasting .p_castOverlay.shiftCentralControls .p_messageDiv{display:inline;left:105px;text-align:left;top:40px}}.CCisCasting .p_castOverlay.shiftCentralControls .p_messageDiv div{display:inline-block}.rippleEffect:active{background-color:hsla(0,0%,64%,.5);border-radius:50%;-webkit-transition:background .2s;transition:background .2s}@media (max-width:600px){.p_castOverlay .p_castIcon{bottom:calc(100% - 50px);height:44px;left:10px;margin:0;right:calc(100% - 100px);top:7px;width:44px}.CCisCasting .p_castIcon{margin:5px}.CCisAttemptingToCast .p_castOverlay .p_castIcon,.CCisConnecting .p_castOverlay .p_castIcon{left:30px;top:13px}.p_castMessage,.p_deviceMessage{display:inline}.fullscreen .p_messageDiv,.p_messageDiv{display:inline;font-size:12px;left:65px;text-align:left;top:25px}.CCisAttemptingToCast .p_messageDiv,.CCisConnecting .p_messageDiv{left:80px}.p_deviceMessage:before{content:" - "}.p_messageDiv div{display:inline-block}}.svg .p_fullscreenButton,.svg .p_fullscreenButtonReturn{background-image:none}.nofullscreen .p_fullscreenButton,.nofullscreen .p_fullscreenButtonReturn{display:none}.p_subtitleButton{background-image:url(https://emp.bbc.co.uk/emp/assets/2.2.6/accessibility.png)}.svg .p_subtitleButton{background-image:none}.svg .p_subtitleButton .p_subtitlesIcon{height:32px;left:6px;position:absolute;top:6px;width:32px}.chromecast .p_chromecastButton{background-image:url(https://emp.bbc.co.uk/emp/assets/2.2.6/chromecast.png)}.svg .p_chromecastButton,.svg .p_picInPicButton{background-image:none}.svg .p_picInPicButton{padding-left:11px;padding-top:13px}.p_embedButton{background-image:url(https://emp.bbc.co.uk/emp/assets/2.2.6/embed.png)}.svg .p_embedButton{background-image:none}.svg .p_embedButton .p_embedIcon{height:39px;left:2px;position:absolute;top:3px;width:39px}.p_padlock{background-color:#d13c2c;background-image:url(https://emp.bbc.co.uk/emp/assets/2.2.6/padlock_locked.png);background-position:50%;background-repeat:no-repeat;cursor:pointer;height:30px;margin-top:-15px;position:absolute;right:0;top:50%;width:30px}.rtlCta .p_padlock{left:0}.svg .p_padlock,.svg .p_padlock_unlocked{background-image:none}.svg .p_padlock .p_padlock-lockedIcon{left:6px;position:absolute;top:9px}.p_padlock_unlocked{background-image:url(https://emp.bbc.co.uk/emp/assets/2.2.6/padlock_unlocked.png)}.svg .p_padlock .p_padlock-unlockedIcon{left:6px;position:absolute;top:9px}.p_guidance{display:table;height:80px;margin-top:-40px;max-width:70%;padding-right:40px;position:absolute;z-index:1}.rtlCta .p_guidance{padding-right:25px}.p_guidanceHolder{position:relative}.rtlCta .p_guidanceHolder{text-align:right}.svg .p_guidance .p_iconHolder{left:-6px;position:absolute;top:-9px}.rtlCta .p_guidance .p_guidanceContainer .p_iconHolder{left:100%}.svg .p_guidanceIcon.p_svg{display:block}.p_guidanceIcon.p_svg{display:none}.svg .p_guidanceIcon{fill:#e51854;height:30px;width:30px}.minimode .p_guidance{height:60px}.p_guidance.p_ctaGuidance{background-color:rgba(0,0,0,.7);bottom:0}:not(.rtlCta).cta .p_guidance.p_ctaGuidance{left:80px}.minimode .p_guidance.p_ctaGuidance{left:60px}.rtlCta .p_guidance.p_ctaGuidance{margin-right:80px;right:0}.p_guidance.p_continuous{background-color:rgba(209,60,44,.7);height:30px;margin:8px;top:0;width:70%}.svg .p_guidance-alertIcon{fill:#f5b100;left:3px;position:absolute;top:0}.svg .p_fullscreen-returnIcon{height:22px;position:relative;top:50%;transform:translateY(-50%);-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);width:22px}@media (max-width:480px){.p_guidance{max-width:180px;min-width:180px}.p_guidance.p_continuous{max-width:360px;min-width:240px}}.p_guidanceContainer{color:#fff;display:table-cell;font-size:.75em;font-weight:700;line-height:15px;padding:8px;vertical-align:middle}.p_guidanceFallback{background-color:#e51854;border-radius:50%;display:inline-block;height:15px;margin:auto;position:absolute;width:15px}.svg .p_guidanceFallback{display:none}.p_guidanceFallbackText{left:3px;position:relative}.guidanceClose{background-color:#d13c2c;background-image:url(https://emp.bbc.co.uk/emp/assets/2.2.6/cross.png);background-position:50%;background-repeat:no-repeat;cursor:pointer;height:30px;margin-top:-15px;position:absolute;right:1px;top:50%;width:30px}.svg .guidanceClose{background-image:none}.svg .guidanceClose .p_crossIcon{height:28px;left:7px;position:absolute;top:10px;width:28px}.p_guidanceText{margin-left:20px;position:relative}.rtlCta .rtlPadlock .p_guidanceText{margin-left:50px}.p_subtitleButton{display:none}.subtitles .p_subtitleButton{display:block}.p_chromecastButton,.p_picInPicButton{display:none}.chromecast .p_chromecastButton,.picInPic .p_picInPicButton{display:block}.p_embedButton{display:none}.embed .p_embedButton{display:block}.p_controlBarFiller{height:44px;left:90px;position:absolute;text-align:center;width:90px}.p_noVolume .p_controlBarFiller{left:45px}.p_hiddenElement{left:-999em;position:absolute;top:0}.p_button>.p_selected_background{background-color:#000;display:none;height:4px;left:2px;position:absolute;top:38px;width:40px}.p_button.p_controlBarButton_on>.p_selected_background{display:block}.p_chapterMarkersHolder{bottom:88px;display:none;height:73px;left:0;line-height:0;position:absolute;width:100%;z-index:160}.p_hasMarkers .p_chapterMarkersHolder{display:block}.p_playerControls.p_keyMomentOnly .p_chapterMarkersHolder{height:26px}.fullscreen .p_playerControls.p_chapterOnly .p_chapterMarkersHolder{top:-88px}.fullscreen .p_playerControls.p_keyMomentOnly .p_chapterMarkersHolder{top:-70px}.p_playerControls.p_noControlBar .p_chapterMarkersHolder{bottom:44px}.p_chapterMarker{background:#000;bottom:0;color:#fff;cursor:pointer;font-size:.75em;height:34px;left:16px;line-height:16px;overflow:hidden;padding-left:0;padding-right:0;position:absolute;text-align:left;text-overflow:ellipsis;z-index:170}.p_chapterMarker:focus{outline:none}.p_chapterTip{background-color:#fff;border-left-width:0;border-right-width:0;bottom:44px;color:#191919;cursor:pointer;display:none;font-size:.75em;font-weight:700;line-height:16px;margin-left:0;margin-right:0;max-width:144px;padding:12px 8px;position:absolute;width:auto;z-index:170}.p_chapterMarkerText{line-height:34px;padding-left:5px}.p_keyMoment.default{background:#191919;height:17px;margin-left:-7px;width:15px}.p_keyMoment{cursor:pointer;position:absolute}.p_keyMoment.p_highlighted.default{background-color:#fff}.p_keyMoment.p_highlighted.default .p_keyMomentSquare{background-color:#191919}.p_keyMoment:focus{outline:none}.p_keyMomentOnly .p_keyMoment{bottom:0}.p_keyMomentSquare{background:#fff;bottom:6px;cursor:pointer;height:5px;left:5px;position:absolute;width:5px;z-index:161}.p_volumeControlsFiller{height:44px;left:264px;position:absolute;z-index:200}.p_covered{opacity:0}.p_iconHolder{-webkit-transition:opacity .4s ease-out;-moz-transition:opacity .4s ease-out;-o-transition:opacity .4s ease-out;transition:opacity .4s ease-out}.focusEnabled .p_padlock:focus,.focusEnabled .p_padlock_unlocked:focus,.p_padlock:hover,.p_padlock_unlocked:hover{background-color:#ff4739}.p_paragraph,.p_playerControlBarHolder{-webkit-text-size-adjust:none}@-moz-document url-prefix(){.p_audioIcon,.p_fullscreen-enterIcon,.p_muteIcon{height:44px;position:absolute;top:0;width:44px}.p_audioIcon,.p_muteIcon{left:1px}.p_fullscreen-enterIcon{left:0;top:0}.svg .p_cta .p_ctaIcon{left:9px}.svg .p_padlock .p_padlock-lockedIcon,.svg .p_padlock .p_padlock-unlockedIcon{height:30px;width:30px}.p_closed-captionsIcon{height:44px;top:-1px;width:44px}.minimode.svg .p_cta .p_ctaIcon{left:9px}.svg .p_embedButton .p_embedIcon{left:2px;top:2px}}.p_ctaGuidance.p_guidance.p_warningCta .p_guidanceIcon,.p_warning.p_guidance.p_continuous .p_guidanceIcon{color:#000;fill:#fff}.p_warning.p_guidance.p_continuous{background-color:rgba(51,51,51,.85)}.p_warning.p_guidance.p_continuous .guidanceClose{background-color:#404040}.p_warning .p_guidanceFallback,.p_warningCta .p_guidanceFallback{background-color:#fff;color:#000}@media only screen and (orientation:portrait) and (height:528px),only screen and (orientation:portrait) and (height:628px) and (-webkit-device-pixel-ratio:2) and (-webkit-min-device-pixel-ratio:2),only screen and (orientation:portrait) and (height:696px){.fullscreen.iPhoneIos10 .p_playerControls,.fullscreen.iPhoneIos11orGreater .p_playerControls{padding-bottom:65px}}@media only screen and (orientation:portrait) and (min-height:640px) and (-webkit-device-pixel-ratio:3){.fullscreen.iPhoneIos11orGreater .p_playerControls{padding-bottom:95px}}@media only screen and (orientation:landscape) and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3){.fullscreen.iPhoneIos11orGreater .p_playerControls{bottom:20px;left:90px;right:90px}.fullscreen.iPhoneIos11orGreater #p_pluginContainer{height:calc(100% - constant(safe-area-inset-bottom) - constant(safe-area-inset-top))!important;height:calc(100% - env(safe-area-inset-bottom) - env(safe-area-inset-top))!important;left:calc(constant(safe-area-inset-left) + 25px)!important;left:calc(env(safe-area-inset-left) + 25px)!important;position:relative;top:constant(safe-area-inset-top)!important;top:env(safe-area-inset-top)!important;width:calc(100% - constant(safe-area-inset-right) - constant(safe-area-inset-left) - 50px)!important;width:calc(100% - env(safe-area-inset-right) - env(safe-area-inset-left) - 50px)!important}.fullscreen.iPhoneIos11orGreater.threeSixty #p_pluginContainer{pointer-events:none}}#p_threeSixtyCanvas{height:100%;left:0;position:absolute;top:0;-ms-touch-action:none;touch-action:none;width:100%;z-index:2}#p_compassContainer{background:transparent;border:0;height:134px;left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:134px;z-index:160}@media (max-width:500px){#p_compassContainer{display:none}}#p_subtitleSettingsContainer{bottom:44px;color:#fff;display:none;height:96px;position:absolute;width:224px;z-index:200;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#p_subtitleSettingsContainer .p_subtitleSettingsMask{bottom:0;height:96px;left:-22.5px;position:absolute;width:268px}#p_subtitleSettingsContainer .p_subtitleSettingsBox{background-color:#191919;bottom:7px;height:89px;position:absolute;right:0;width:224px}#p_subtitleSettingsContainer .p_subsToggleLabel{font-size:14px;line-height:44px;margin-left:16px;position:absolute}#p_subtitleSettingsContainer .p_subsToggle{position:absolute;right:0}#p_subtitleSettingsContainer .p_subsToggle .p_toggleText{display:none}#p_subtitleSettingsContainer .p_sizingButtonsContainer{bottom:0;height:44px;position:absolute;width:100%}#p_subtitleSettingsContainer .p_subtitleSizeButton{background:none;color:#fff;display:block;float:left;height:44px;margin-right:1px;outline:0;width:44px}#p_subtitleSettingsContainer .p_subtitleSizeButton[disabled]{color:#a4a4a4}#p_subtitleSettingsContainer .p_subtitleSizeButton div{box-sizing:border-box;height:100%;text-align:center;width:100%}#p_subtitleSettingsContainer .p_subtitleSizeButton:last-child{margin-right:0}#p_subtitleSettingsContainer #p_subtitleSizeButton_useSmallestFontSize div{font-size:9px;line-height:9px;padding-top:15px}#p_subtitleSettingsContainer #p_subtitleSizeButton_useSmallFontSize div{font-size:11px;line-height:11px;padding-top:13px}#p_subtitleSettingsContainer #p_subtitleSizeButton_useMediumFontSize div{font-size:14px;line-height:14px;padding-top:10px}#p_subtitleSettingsContainer #p_subtitleSizeButton_useLargeFontSize div{font-size:17px;line-height:17px;padding-top:8px}#p_subtitleSettingsContainer #p_subtitleSizeButton_useLargestFontSize div{font-size:20px;line-height:20px;padding-top:5px}#p_subtitleSizeIndicator{background-color:#a4a4a4;bottom:8px;height:4px;left:5px;position:absolute;-webkit-transition:left .2s ease-out;transition:left .2s ease-out;width:34px}.p_subsOn #p_subtitleSizeIndicator{background-color:#fff}#p_subtitleSettingsContainer .p_downArrow{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #191919;bottom:0;height:0;position:absolute;right:15px;width:0}@media (max-height:154px){#p_subtitleSettingsContainer{height:52px}#p_subtitleSizeIndicator{display:none;visibility:hidden}#p_subtitleSettingsContainer .p_sizingButtonsContainer{display:none}#p_subtitleSettingsContainer .p_subtitleSettingsBox{height:45px}}#p_speedContainer{bottom:44px;color:#fff;display:none;height:96px;margin-right:5px;position:absolute;right:45px;width:270px;z-index:200;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#p_speedContainer .p_speedMask{bottom:0;height:96px;left:-22.5px;position:absolute;width:270px}#p_speedContainer .p_speedBox{background-color:#191919;bottom:7px;height:89px;position:absolute;right:0;width:270px}#p_speedContainer .p_speedLabel{font-size:16px;line-height:44px;padding-left:12px;padding-top:2px;position:absolute;text-align:left;width:270px}#p_speedContainer .p_sizingButtonsContainer{bottom:0;height:44px;position:absolute;width:100%}.p_speedSettingButton{background:none;color:#fff;display:block;float:left;height:44px;margin-right:1px;outline:0;width:44px}.p_speedSettingButton div{box-sizing:border-box;font-size:14px;height:100%;line-height:36px;text-align:center;width:100%}.p_speedSettingButton:last-child{margin-right:0}#p_speedIndicator{background-color:#fff;bottom:8px;height:4px;left:95px;position:absolute;-webkit-transition:left .2s ease-out;transition:left .2s ease-out;width:34px}#p_speedContainer .p_downArrow{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #191919;bottom:0;height:0;position:absolute;right:10px;width:0}@media (max-height:154px){#p_speedContainer{height:52px}#p_speedIndicator{display:none;visibility:hidden}#p_speedContainer .p_speedLabel{display:none}#p_speedContainer .p_speedBox{height:45px}}.p_toggle{display:block;height:44px;outline:0;position:relative;width:87px}.p_toggleText{font-size:10px;line-height:10px;position:absolute;right:58px;top:17px}.p_toggleSlot{background-color:#a4a4a4;border:1px solid #a4a4a4;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;box-sizing:border-box;cursor:pointer;height:24px;margin:0;padding:0;position:absolute;right:12px;top:10px;width:40px}.p_toggleOn .p_toggleSlot{background-color:#000;border-color:#fff}.p_toggleSlider{background-color:#000;-webkit-border-radius:9px;-moz-border-radius:9px;border-radius:9px;display:block;height:18px;left:2px;position:absolute;top:2px;-webkit-transition:left .2s linear;transition:left .2s linear;width:18px}.p_toggleSlider .p_tick{border:solid #000;border-width:0 2px 2px 0;height:8px;left:7px;opacity:0;position:absolute;top:3px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);width:3px}.p_toggleOn .p_toggleSlider{left:18px}.p_toggleOn .p_toggleSlider .p_tick{opacity:1}@font-face{font-display:swap;font-family:ReithSans;src:url(https://static.files.bbci.co.uk/fonts/reith/2.512/BBCReithSans_W_Rg.woff2) format("woff2"),url(https://static.files.bbci.co.uk/fonts/reith/2.512/BBCReithSans_W_Rg.woff) format("woff")}@font-face{font-display:swap;font-family:ReithSans;font-weight:700;src:url(https://static.files.bbci.co.uk/fonts/reith/2.512/BBCReithSans_W_Bd.woff2) format("woff2"),url(https://static.files.bbci.co.uk/fonts/reith/2.512/BBCReithSans_W_Bd.woff) format("woff")}@font-face{font-display:swap;font-family:"ReithSerif";src:url(https://static.files.bbci.co.uk/fonts/reith/2.512/BBCReithSerif_W_Rg.woff2) format("woff2"),url(https://static.files.bbci.co.uk/fonts/reith/2.512/BBCReithSerif_W_Rg.woff) format("woff")}.font-family-sans{font-family:Arial,Helvetica,freesans,sans-serif;line-height:normal}.ReithSans-loaded .font-family-sans,.ReithSans-loaded .font-family-sans button{font-family:ReithSans,Arial,Helvetica,freesans,sans-serif;line-height:1.3}.font-family-serif{font-family:Times New Roman,serif}.ReithSerif-loaded .font-family-serif{font-family:ReithSerif,Times New Roman,serif}.font-feature-salt{font-feature-settings:"salt"}.p_parentalGuidancePopup{color:#fff;font-size:22px;left:50%;line-height:normal;margin-left:-195px;margin-top:-175px;position:fixed;text-align:left;top:50%;vertical-align:middle;width:390px;z-index:2147483600}.p_parentalGuidanceBackground{background-color:#333;filter:alpha(opacity=85);height:5000px;left:5000px;opacity:.85;position:fixed;top:-500px;width:5000px;z-index:2147483600}#guidanceContainer{padding-left:26px;padding-right:26px;text-align:center}#pgHeaderTitle{height:42px;margin-top:35px;position:relative}#pgHeader{font-size:26px}#guidanceBody{position:relative;width:100%}#guidanceFooter{bottom:0;display:table;height:42px;text-align:center;width:100%}#pgExit{cursor:pointer;height:18px;position:absolute;right:12px;top:12px;width:18px}.p_speedButton{background-image:none;display:none}.speed .p_speedButton{display:block}.p_playbackSettingsButton{background:url(https://emp.bbc.co.uk/emp/assets/2.2.6/playback_settings.png) no-repeat;display:none}.playbackSettings .p_playbackSettingsButton{display:block}.svg .p_playbackSettingsButton{background-image:none}.p_dontCloseSettingsPanel svg{pointer-events:none}#p_playbackSettingsContainer{bottom:44px;color:#fff;display:none;line-height:1.2;position:absolute;width:256px;z-index:200;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#p_playbackSettingsMask{bottom:24px;height:88px;position:absolute;right:-22px;width:44px}#p_playbackSettingsBox{background-color:#191919;bottom:7px;box-sizing:border-box;padding:12px 0 16px 12px;position:absolute;right:0;width:100%}#p_playbackSettingsHeading{font-size:16px;margin-bottom:12px;padding-top:8px}.p_settingsRow{min-height:44px;position:relative}.p_settingsTextBox{margin-right:55px}#p_qualityRow .p_settingsTextBox{padding:0 0 0 2px}.p_settingsTitle{font-size:14px;margin-bottom:4px}#p_qualitySubtitleUnavailable,.p_settingsSubtitle{color:#a4a4a4;font-size:13px}#p_autoplayRow{display:none}#p_autoplayTitle{padding-top:14px}#p_autoplayToggle{position:absolute;right:0;top:0;width:55px}#p_autoplayToggle .p_toggleText{display:none}#p_autoplayToggle .p_toggleSlot{right:11px}#p_playbackSettingsContainer .p_downArrow{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #191919;bottom:0;height:0;position:absolute;right:15px;width:0}@media (max-height:295px){#p_playbackSettingsContainer.p_qualityPageOpen,#p_qualityRow{display:none!important}}.preferHls #p_qualityRow{display:none!important}#p_qualityRow{cursor:pointer;display:none;margin-top:15px;outline:none}#p_qualityRow.p_qualitySettingUnavailable{pointer-events:none}#p_qualitySubtitleUnavailable,.p_qualitySettingUnavailable #p_qualitySubtitle{display:none}.p_qualitySettingUnavailable #p_qualitySubtitleUnavailable{display:block}#p_qualityRow .p_settingsTitle{display:inline-block}.p_qualitySettingUnavailable .p_chevronBorder{border-color:transparent transparent transparent #a4a4a4!important}.p_qualityPanelRow{border-bottom:1px solid grey;cursor:pointer;height:48px;line-height:48px;margin-right:12px;outline:none}#p_qualityListWrap{display:none}#p_qualityPanelHighRow.p_qualityPanelRow{border-bottom:0;height:75px}.p_qualityPanelRowHeading{font-size:14px;height:48px;padding:0 2px}.p_qualityPanelRowSubtitle{color:#a4a4a4;font-size:13px;line-height:16px;margin-top:-12px;padding:0 2px;width:200px}.p_qualityTick{background-color:#191919;border:solid #fff;border-width:0 3px 3px 0;height:12px;left:216px;opacity:0;position:relative;top:-32px;-webkit-transform:rotate(40deg);-ms-transform:rotate(40deg);transform:rotate(40deg);width:6px}.p_qualitySettingOn .p_qualityTick{opacity:1}#p_chevronPlaceholder{background:transparent;border:0;display:inline-block;float:right;left:218px;outline:none;position:absolute;top:5px}.p_chevronBorder{border-color:transparent transparent transparent #fff;border-style:solid;border-width:6px 0 6px 10px;height:0;line-height:0px;width:0}.p_chevronInside{border-color:transparent transparent transparent #191919;border-style:solid;border-width:8px 0 8px 16px;height:0;left:-20px;line-height:0px;position:relative;top:-8px;width:0}.p_buttonText{color:#fff;font-size:17px;font-weight:400}.nofullscreen #p_playbackSettingsContainer,.nofullscreen #p_speedContainer,.nofullscreen #p_subtitleSettingsContainer,.nofullscreen .p_chromecastButton,.nofullscreen .p_embedButton,.nofullscreen .p_picInPicButton,.nofullscreen .p_playbackSettingsButton,.nofullscreen .p_speedButton,.nofullscreen .p_subtitleButton,.p_fullscreenButton{right:0}#p_playbackSettingsContainer,#p_subtitleSettingsContainer,.nofullscreen.chromecast .p_embedButton,.nofullscreen.picInPic .p_chromecastButton,.nofullscreen.playbackSettings .p_chromecastButton,.nofullscreen.playbackSettings .p_embedButton,.nofullscreen.playbackSettings .p_picInPicButton,.nofullscreen.playbackSettings .p_speedButton,.nofullscreen.speed .p_chromecastButton,.nofullscreen.speed .p_embedButton,.nofullscreen.speed .p_embedButton
.nofullscreen.picInPic .p_embedButton,.nofullscreen.speed .p_picInPicButton,.nofullscreen.subtitles #p_playbackSettingsContainer,.nofullscreen.subtitles .p_chromecastButton,.nofullscreen.subtitles .p_embedButton,.nofullscreen.subtitles .p_picInPicButton,.nofullscreen.subtitles .p_playbackSettingsButton,.nofullscreen.subtitles .p_speedButton,.p_chromecastButton,.p_embedButton,.p_picInPicButton,.p_playbackSettingsButton,.p_speedButton,.p_subtitleButton{right:45px}.chromecast .p_embedButton,.nofullscreen.chromecast.playbackSettings .p_embedButton,.nofullscreen.picInPic.chromecast .p_embedButton,.nofullscreen.picInPic.playbackSettings .p_chromecastButton,.nofullscreen.picInPic.playbackSettings .p_embedButton,.nofullscreen.speed.playbackSettings .p_chromecastButton,.nofullscreen.speed.playbackSettings .p_embedButton,.nofullscreen.speed.playbackSettings .p_picInPicButton,.nofullscreen.speed.playbackSettings .p_speedButton,.nofullscreen.subtitles.chromecast .p_embedButton,.nofullscreen.subtitles.picInPic .p_chromecastButton,.nofullscreen.subtitles.picInPic .p_embedButton,.nofullscreen.subtitles.playbackSettings .p_chromecastButton,.nofullscreen.subtitles.playbackSettings .p_embedButton,.nofullscreen.subtitles.playbackSettings .p_picInPicButton,.nofullscreen.subtitles.playbackSettings .p_speedButton,.picInPic .p_chromecastButton,.picInPic .p_embedButton,.playbackSettings .p_chromecastButton,.playbackSettings .p_embedButton,.playbackSettings .p_picInPicButton,.playbackSettings .p_speedButton,.speed #p_playbackSettingsContainer,.speed .p_chromecastButton,.speed .p_embedButton,.speed .p_picInPicButton,.subtitles #p_playbackSettingsContainer,.subtitles .p_chromecastButton,.subtitles .p_embedButton,.subtitles .p_picInPicButton,.subtitles .p_playbackSettingsButton,.subtitles .p_speedButton{right:90px}.chromecast.playbackSettings .p_embedButton,.nofullscreen.chromecast.picInPic.playbackSettings .p_embedButton,.nofullscreen.chromecast.picInPic.subtitles .p_embedButton,.nofullscreen.chromecast.subtitles.playbackSettings .p_embedButton,.nofullscreen.picInPic.subtitles.playbackSettings .p_chromecastButton,.nofullscreen.picInPic.subtitles.playbackSettings .p_embedButton,.nofullscreen.speed.subtitles.playbackSettings .p_chromecastButton,.nofullscreen.speed.subtitles.playbackSettings .p_embedButton,.picInPic.chromecast .p_embedButton,.picInPic.playbackSettings .p_chromecastButton,.picInPic.playbackSettings .p_embedButton,.speed.chromecast .p_embedButton,.speed.picInPic .p_chromecastButton,.speed.picInPic .p_embedButton,.speed.playbackSettings .p_chromecastButton,.speed.playbackSettings .p_embedButton,.speed.playbackSettings .p_picInPicButton,.subtitles.chromecast .p_embedButton,.subtitles.picInPic .p_chromecastButton,.subtitles.picInPic .p_embedButton,.subtitles.playbackSettings .p_chromecastButton,.subtitles.playbackSettings .p_embedButton,.subtitles.playbackSettings .p_picInPicButton,.subtitles.playbackSettings .p_speedButton,.subtitles.speed .p_chromecastButton,.subtitles.speed .p_embedButton,.subtitles.speed .p_picInPicButton{right:135px}.chromecast.speed.playbackSettings .p_embedButton,.chromecast.subtitles.playbackSettings .p_embedButton,.nofullscreen.chromecast.picInPic.speed.playbackSettings .p_embedButton,.nofullscreen.chromecast.picInPic.subtitles.playbackSettings .p_embedButton,.picInPic.chromecast.playbackSettings .p_embedButton,.picInPic.speed.chromecast .p_embedButton,.picInPic.speed.playbackSettings .p_chromecastButton,.picInPic.speed.playbackSettings .p_embedButton,.picInPic.subtitles.chromecast .p_embedButton,.picInPic.subtitles.playbackSettings .p_chromecastButton,.picInPic.subtitles.playbackSettings .p_embedButton,.speed.subtitles.picInPic .p_chromecastButton,.speed.subtitles.picInPic .p_embedButton,.speed.subtitles.playbackSettings .p_embedButton,.subtitles.speed.playbackSettings .p_chromecastButton,.subtitles.speed.playbackSettings .p_picInPicButton{right:180px}.chromecast.picInPic.speed.playbackSettings .p_embedButton,.chromecast.picInPic.subtitles.playbackSettings .p_embedButton,.chromecast.subtitles.speed.playbackSettings .p_picInPicButton,.picInPic.speed.subtitles.chromecast .p_embedButton,.speed.picInPic.subtitles.playbackSettings .p_embedButton{right:225px}.chromecast.picInPic.speed.subtitles.playbackSettings .p_embedButton{right:270px}.nofullscreen.subtitles #p_speedContainer .p_downArrow{right:10px}.playbackSettings #p_speedContainer .p_downArrow,.subtitles #p_speedContainer .p_downArrow{right:55px}.nofullscreen.subtitles.playbackSettings #p_speedContainer .p_downArrow,.subtitles.playbackSettings #p_speedContainer .p_downArrow{right:100px}@media (max-width:350px){#p_playbackSettingsContainer,.nofullscreen #p_playbackSettingsContainer,.nofullscreen.subtitles #p_playbackSettingsContainer,.subtitles #p_playbackSettingsContainer{right:5px}#p_playbackSettingsContainer .p_downArrow,.nofullscreen.subtitles #p_playbackSettingsContainer .p_downArrow,.subtitles #p_speedContainer .p_downArrow{right:55px}.subtitles #p_playbackSettingsContainer .p_downArrow,.subtitles.playbackSettings #p_speedContainer .p_downArrow{right:100px}.nofullscreen #p_playbackSettingsContainer .p_downArrow,.nofullscreen #p_speedContainer .p_downArrow{right:10px}#p_subtitleSettingsContainer,.nofullscreen #p_subtitleSettingsContainer{right:5px}#p_subtitleSettingsContainer .p_downArrow{right:55px}.nofullscreen #p_subtitleSettingsContainer .p_downArrow{right:5px}}.p_transform{-webkit-transition:transform .4s ease-out;-moz-transition:transform .4s ease-out;-o-transition:transform .4s ease-out;transition:transform .4s ease-out;z-index:1}#ads_adsUX{z-index:100}.svg .p_crossIcon{fill:#000}.p_audioui_playlistButton{height:48px;width:48px}.p_audioui_playlistButton .p_audioButton_buttonInner{-webkit-transform:scale(1);transform:scale(1);-webkit-transition:-webkit-transform .1s linear;transition:-webkit-transform .1s linear;transition:transform .1s linear;transition:transform .1s linear,-webkit-transform .1s linear}.nonPointerFocus .p_audioui_playlistButton:not([disabled]).focused .p_audioButton_buttonInner,.p_audioui_playlistButton:not([disabled]).hovering .p_audioButton_buttonInner{-webkit-transform:scale(1.25);transform:scale(1.25)}.nonPointerFocus .p_audioui_playlistButton:not([disabled]).focused.pressed .p_audioButton_buttonInner,.p_audioui_playlistButton:not([disabled]).hovering.pressed .p_audioButton_buttonInner{-webkit-transform:scale(1);transform:scale(1)}.p_audioui_playlistButton:not([disabled]).touched .p_audioButton_buttonInner{-webkit-transform:scale(.8);transform:scale(.8)}@media (-ms-high-contrast:active){#p_audioui_nextButton{fill:windowText!important;-ms-high-contrast-adjust:none}#p_audioui_nextButton[disabled]{fill:grayText!important}#p_audioui_nextButton[disabled] .p_audioButton_buttonInner{opacity:1!important}#p_audioui_nextButton:not([disabled]).hovering,#p_audioui_nextButton:not([disabled]).pressed,.nonPointerFocus #p_audioui_nextButton:not([disabled]).focused{fill:highlightText!important}#p_audioui_nextButton:not([disabled]).hovering .p_audioButton_buttonInner,#p_audioui_nextButton:not([disabled]).pressed .p_audioButton_buttonInner,.nonPointerFocus #p_audioui_nextButton:not([disabled]).focused .p_audioButton_buttonInner{background-color:highlight!important}#p_audioui_previousButton{fill:windowText!important;-ms-high-contrast-adjust:none}#p_audioui_previousButton[disabled]{fill:grayText!important}#p_audioui_previousButton[disabled] .p_audioButton_buttonInner{opacity:1!important}#p_audioui_previousButton:not([disabled]).hovering,#p_audioui_previousButton:not([disabled]).pressed,.nonPointerFocus #p_audioui_previousButton:not([disabled]).focused{fill:highlightText!important}#p_audioui_previousButton:not([disabled]).hovering .p_audioButton_buttonInner,#p_audioui_previousButton:not([disabled]).pressed .p_audioButton_buttonInner,.nonPointerFocus #p_audioui_previousButton:not([disabled]).focused .p_audioButton_buttonInner{background-color:highlight!important}}#p_audioui_popOutPlayerButton{height:48px}#p_audioui_popOutPlayerButton.removed{display:none!important}#p_audioui_popOutPlayerButton .p_audioButton_buttonInner{box-sizing:border-box;padding:0 4px;-webkit-transition:-webkit-transform .1s linear;transition:-webkit-transform .1s linear;transition:transform .1s linear;transition:transform .1s linear,-webkit-transform .1s linear}#p_audioui_popOutPlayerButton:not([disabled]).hovering .p_audioButton_buttonInner,.nonPointerFocus #p_audioui_popOutPlayerButton:not([disabled]).focused .p_audioButton_buttonInner{-webkit-transform:scale(1.1);transform:scale(1.1)}#p_audioui_popOutPlayerButton:not([disabled]).hovering.pressed .p_audioButton_buttonInner,.nonPointerFocus #p_audioui_popOutPlayerButton:not([disabled]).focused.pressed .p_audioButton_buttonInner{-webkit-transform:scale(1);transform:scale(1)}#p_audioui_popOutPlayerButton:not([disabled]).touched .p_audioButton_buttonInner{-webkit-transform:scale(.9);transform:scale(.9)}#p_audioui_popOutPlayerButton svg{float:right;height:20px;margin-right:6px;margin-top:15px;position:unset;-webkit-transform:scale(1);transform:scale(1);-webkit-transition:-webkit-transform .1s linear;transition:-webkit-transform .1s linear;transition:transform .1s linear;transition:transform .1s linear,-webkit-transform .1s linear;width:20px}#p_audioui_popOutPlayerButton .p_audioui_popOutPlayerButton_text{float:right;font-size:13px;font-weight:700;height:48px;line-height:48px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@media (-ms-high-contrast:active){#p_audioui_popOutPlayerButton{color:windowText!important;fill:windowText!important;-ms-high-contrast-adjust:none}#p_audioui_popOutPlayerButton[disabled]{color:grayText!important;fill:grayText!important}#p_audioui_popOutPlayerButton[disabled] .p_audioButton_buttonInner{opacity:1!important}#p_audioui_popOutPlayerButton:not([disabled]).hovering,#p_audioui_popOutPlayerButton:not([disabled]).pressed,.nonPointerFocus #p_audioui_popOutPlayerButton:not([disabled]).focused{color:highlightText!important;fill:highlightText!important}#p_audioui_popOutPlayerButton:not([disabled]).hovering .p_audioButton_buttonInner,#p_audioui_popOutPlayerButton:not([disabled]).pressed .p_audioButton_buttonInner,.nonPointerFocus #p_audioui_popOutPlayerButton:not([disabled]).focused .p_audioButton_buttonInner{background-color:highlight!important}}.p_playerSeekBarHolder{display:block;height:44px;line-height:0;opacity:1;touch-action:none;-webkit-transition:opacity 1s linear;transition:opacity 1s linear;width:100%}.classicUI .p_playerSeekBarHolder{left:0;position:absolute;top:-44px;z-index:160}.classicUI .p_playerSeekBarHolder.hidden{display:none}.audioUI .p_playerSeekBarHolder.hidden{pointer-events:none}.audioUI .p_playerSeekBarHolder.hidden .p_progressBar,.audioUI .p_playerSeekBarHolder.hidden .p_seekThumb{opacity:0}.p_bar{cursor:pointer;height:6px;left:16px;position:absolute;top:18px}.audioUI .p_bar{height:4px;top:20px;-webkit-transition:-webkit-transform 1s linear;transition:-webkit-transform 1s linear;transition:transform 1s linear;transition:transform 1s linear,-webkit-transform 1s linear}.audioUI .p_playerSeekBarHolder.hidden .p_bar{-webkit-transform:scaleY(.5);transform:scaleY(.5);transform-origin:center}.fullscreen .p_bar{left:0}.seekingBarNotFullyAvailable .p_bar{cursor:default}.p_seekBar{background-color:#767676;right:16px}.fullscreen .p_seekBar{right:0}.p_seekBarPositionLine{background-color:#fff;display:none;height:6px;pointer-events:none;position:absolute;top:0;width:1px;z-index:1}.audioUI .p_seekBarPositionLine{height:4px}.audioUI .p_seekBarDisabled .p_bar{cursor:default!important}.audioUI .p_seekBarDisabled .p_seekThumb{display:none!important}.p_progressBar{right:100%;transform-origin:left;-webkit-transform-origin:left;-moz-transform-origin:left}.audioUI .p_progressBar{-webkit-transition:opacity 1s linear;transition:opacity 1s linear}.audioUI .p_progressBar.p_progressBarAvailable{opacity:.55}.p_progressBarAnimate{animation-fill-mode:forwards;-webkit-animation-fill-mode:forwards;-moz-animation-fill-mode:forwards;animation-name:progressBar;-webkit-animation-name:progressBar;-moz-animation-name:progressBar;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}@-webkit-keyframes progressBar{to{-webkit-transform:scale(1);-moz-transform:scale(1);transform:scale(1)}}@-moz-keyframes progressBar{to{-webkit-transform:scale(1);-moz-transform:scale(1);transform:scale(1)}}@keyframes progressBar{to{-webkit-transform:scale(1);-moz-transform:scale(1);transform:scale(1)}}.p_progressBarAvailable{opacity:.4}.p_bar.p_progressBar.p_progressBarAvailable{display:none}.seekingBarNotFullyAvailable .p_bar.p_progressBar.p_progressBarAvailable,.seekingBarNotFullyAvailable .p_progressBar{cursor:pointer;display:block}.p_seekThumb{background:#fff;cursor:pointer;height:14px;position:absolute;top:14px;width:9px;z-index:170}.p_accessibleSeekThumb{pointer-events:none;position:relative;top:11px;visibility:hidden;width:100%}.audioUI .p_seekThumb{border-radius:50%;height:12px;top:16px;-webkit-transition:opacity 1s linear;transition:opacity 1s linear;width:12px}.p_seekThumbAnimate{-webkit-animation-fill-mode:forwards;-moz-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-name:seekThumb;-moz-animation-name:seekThumb;animation-name:seekThumb;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear;animation-timing-function:linear}@-webkit-keyframes seekThumb{to{-webkit-transform:translate(0);-moz-transform:translate(0);transform:translate(0)}}@-moz-keyframes seekThumb{to{-webkit-transform:translate(0);-moz-transform:translate(0);transform:translate(0)}}@keyframes seekThumb{to{-webkit-transform:translate(0);-moz-transform:translate(0);transform:translate(0)}}.p_seekThumb>.p_seekThumbLine{background-color:#191919}.p_seekThumbLine{height:6px;left:4px;pointer-events:none;position:absolute;top:4px;width:1px;z-index:170}.audioUI .p_seekThumbLine{display:none}.p_seekThumbHalo{border-radius:50%;height:24px;left:-6px;opacity:.4;position:absolute;top:-6px;-webkit-transform:scale(0) translateZ(0);-ms-transform:scale(0) translateZ(0);transform:scale(0) translateZ(0);-webkit-transition:-webkit-transform .2s linear;transition:-webkit-transform .2s linear;transition:transform .2s linear;transition:transform .2s linear,-webkit-transform .2s linear;width:24px}.p_seekThumbHalo.p_showing{-webkit-transform:scale(1) translateZ(0);-ms-transform:scale(1) translateZ(0);transform:scale(1) translateZ(0)}.classicUI .p_seekThumbHalo{display:none}.p_timeTip{background-color:#fff;bottom:88px;color:#191919;font-size:.75em;font-weight:700;margin-bottom:0;margin-top:0;opacity:0;padding:1px 8px 0;pointer-events:none;position:absolute;text-align:center;z-index:170}.p_noControlBar .p_timeTip{bottom:44px}.audioUI .p_timeTip{bottom:139px;-webkit-transition:opacity .2s linear;transition:opacity .2s linear}.audioUI .p_threeRows .p_timeTip{bottom:191px}@media only screen and (orientation:portrait) and (height:528px),only screen and (orientation:portrait) and (height:628px) and (-webkit-device-pixel-ratio:2) and (-webkit-min-device-pixel-ratio:2),only screen and (orientation:portrait) and (height:696px){.fullscreen.iPhoneIos10 .p_timeTip,.fullscreen.iPhoneIos11orGreater .p_timeTip{bottom:153px}}@media only screen and (orientation:portrait) and (min-height:640px) and (-webkit-device-pixel-ratio:3){.fullscreen.iPhoneIos11orGreater .p_timeTip{bottom:183px}}.p_timeTipText{line-height:22px}.p_timeTipTriangle{border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #fff;bottom:-6px;font-size:0;height:0;left:15px;line-height:0;position:absolute;width:0}.p_thumbnail{background:rgba(51,51,51,.8);border:1px solid #fff;bottom:88px;opacity:0;position:absolute;transition:opacity 0s linear .4s;visibility:hidden;z-index:165}.p_noControlBar .p_thumbnail{bottom:44px}@media (max-width:399px){.p_bar{left:10px}.p_seekBar{right:10px}}@media (-ms-high-contrast:active){.audioUI .p_playerSeekBarHolder .p_progressBar{background:windowText!important}.audioUI .p_playerSeekBarHolder .p_progressBar.p_progressBarAvailable,.audioUI .p_playerSeekBarHolder .p_seekBar,.audioUI .p_playerSeekBarHolder .p_seekThumb,.audioUI .p_playerSeekBarHolder .p_seekThumbHalo{background-color:windowText!important}.audioUI .seekingBarNotFullyAvailable .p_playerSeekBarHolder .p_seekBar{background-color:grayText!important}.audioUI .p_playerSeekBarHolder .p_seekBarPositionLine{background-color:window!important}.audioUI .p_timeTip{-ms-high-contrast-adjust:none;background-color:highlight!important;color:highlightText!important}.audioUI .p_timeTip .p_timeTipTriangle{border-top-color:highlight!important}}.p_storyControls{bottom:0;height:44px;left:0;overflow:hidden;position:absolute;text-align:center;width:100%;z-index:20}.storyKitUI .audioButton.removed{display:none!important}.storyKitUI .audioButton{-webkit-transition:background-color .4s ease-out;-moz-transition:background-color .4s ease-out;-o-transition:background-color .4s ease-out;transition:background-color .4s ease-out}.storyKitUI #p_audioui_playpause,.storyKitUI .p_audioButton_buttonInner svg{height:44px;width:44px}.storyKitUI .p_volumeControls{left:0}.storyKitUI .p_volumeControls.p_open{overflow:visible}.storyKitUI .p_closed .p_sliderContainer{display:none}.p_seekBarPositionLine{height:4px}:not(.fullscreen).storyKitUI .p_playerControls{padding:0 8px}.fullscreen.storyKitUI .p_playerControlBarHolder{margin-left:-11px;margin-right:-11px}.storyKitUI .p_seekThumb{border-radius:50%;height:12px;top:16px;width:12px}.storyKitUI .p_bar{height:4px;top:20px}.storyKitUI .p_seekThumbLine{display:none}.nonPointerFocus #p_audioui_playpause:not([disabled]).focused svg,.nonPointerFocus #p_audioui_playpause:not([disabled]).focused.pressed svg,.nonPointerFocus .p_audioui_playlistButton:not([disabled]).focused .p_audioButton_buttonInner,.nonPointerFocus .p_audioui_playlistButton:not([disabled]).focused.pressed .p_audioButton_buttonInner,.storyKitUI #p_audioui_playpause:not([disabled]).hovering svg,.storyKitUI #p_audioui_playpause:not([disabled]).hovering.pressed svg,.storyKitUI #p_audioui_playpause:not([disabled]).touched svg,.storyKitUI .p_audioui_intervalButton:not([disabled]).hovering .p_audioui_iconNumber,.storyKitUI .p_audioui_intervalButton:not([disabled]).hovering svg,.storyKitUI .p_audioui_intervalButton:not([disabled]).hovering.pressed .p_audioui_iconNumber,.storyKitUI .p_audioui_intervalButton:not([disabled]).hovering.pressed svg,.storyKitUI .p_audioui_intervalButton:not([disabled]).touched .p_audioui_iconNumber,.storyKitUI .p_audioui_intervalButton:not([disabled]).touched svg,.storyKitUI .p_audioui_playlistButton:not([disabled]).hovering .p_audioButton_buttonInner,.storyKitUI .p_audioui_playlistButton:not([disabled]).hovering.pressed .p_audioButton_buttonInner,.storyKitUI .p_audioui_playlistButton:not([disabled]).touched .p_audioButton_buttonInner,.storyKitUI.nonPointerFocus .p_audioui_intervalButton:not([disabled]).focused .p_audioui_iconNumber,.storyKitUI.nonPointerFocus .p_audioui_intervalButton:not([disabled]).focused svg,.storyKitUI.nonPointerFocus .p_audioui_intervalButton:not([disabled]).focused.pressed .p_audioui_iconNumber,.storyKitUI.nonPointerFocus .p_audioui_intervalButton:not([disabled]).focused.pressed svg{-webkit-transform:none;transform:none}@media (min-width:600px) and (max-width:959px){.storyKitUI .p_playerControls{bottom:8px}}@media (min-width:960px) and (max-width:1139px){.storyKitUI .p_playerControls{bottom:16px}}@media (max-width:1139px){.storyKitUI .audioButton.p_audioui_intervalButton .p_audioButton_buttonInner svg{bottom:-4px;height:35px;position:relative;width:35px}.storyKitUI .audioButton.p_audioui_intervalButton{bottom:9px;position:relative}.storyKitUI .p_audioui_iconNumber,.storyKitUI .p_audioui_popNumber{top:16px}.storyKitUI .p_audioui_iconNumber{font-size:12px;top:16px}}@media (min-width:1140px){.storyKitUI .p_playerControls{bottom:16px}.storyKitUI .p_storyControls{bottom:-9px;height:64px;overflow:visible}.storyKitUI #p_audioui_playpause,.storyKitUI .audioButton.p_audioui_intervalButton,.storyKitUI .p_audioButton_buttonInner svg,.storyKitUI .p_audioui_playlistButton{height:64px;width:64px}.storyKitUI :not(.p_has_interval_button).p_playerControls #p_audioui_playpause{margin:0 48px}.storyKitUI .audioButton.p_audioui_intervalButton .p_audioButton_buttonInner svg{bottom:-9px;height:44px;position:relative;width:44px}.storyKitUI .audioButton.p_audioui_intervalButton{bottom:20px;position:relative}.storyKitUI .p_audioui_iconNumber{top:26px}}.p_volumeControls{display:block;height:44px;left:45px;opacity:1;overflow:hidden;position:absolute;-webkit-transition:width .25s ease-out,opacity 1s linear;-moz-transition:width .25s ease-out,opacity 1s linear;-o-transition:width .25s ease-out,opacity 1s linear;transition:width .25s ease-out,opacity 1s linear;z-index:200}.classicUI .p_volumeControls.hidden,.classicUI .p_volumeControls.removed{display:none}.audioUI .p_volumeControls.hidden,.audioUI .p_volumeControls.removed{opacity:0;pointer-events:none}.audioUI .p_volumeControls{height:48px}.p_noVolume .p_volumeControls{display:none}.p_volumeControls.p_closed{width:44px}.audioUI .p_volumeControls.p_closed{width:48px}.p_volumeControls.p_open{width:222px}.p_volumeButton.audio{background-image:url(https://emp.bbc.co.uk/emp/assets/2.2.6/audio.png)}.p_volumeButton.mute{background-image:url(https://emp.bbc.co.uk/emp/assets/2.2.6/mute.png)}.svg .p_volumeButton{background-image:none}.svg .p_volumeButton .p_iconHolder svg{left:0;position:absolute;top:0}.audioUI .p_volumeButton{height:48px;width:48px}.audioUI .p_volumeButton .p_iconHolder{-webkit-transition:-webkit-transform .1s linear;transition:-webkit-transform .1s linear;transition:transform .1s linear;transition:transform .1s linear,-webkit-transform .1s linear}.audioUI .p_volumeButton.p_buttonHover .p_iconHolder,.audioUI .p_volumeControls.p_open .p_volumeButton .p_iconHolder{-webkit-transform:scale(1.25);transform:scale(1.25)}.audioUI .p_volumeButton.p_buttonHover.pressed .p_iconHolder,.audioUI .p_volumeControls.p_open .p_volumeButton.pressed .p_iconHolder{-webkit-transform:scale(1);transform:scale(1)}.audioUI .p_volumeButton.p_buttonTouch .p_iconHolder,.audioUI .p_volumeControls.p_open .p_volumeButton.pressed.p_buttonTouch .p_iconHolder{-webkit-transform:scale(.85);transform:scale(.85)}.p_sliderContainer{cursor:pointer;height:44px;left:44px;position:absolute;touch-action:none;width:176px}.audioUI .p_sliderContainer{height:48px;left:48px}.p_sliderControls{height:44px;position:absolute;touch-action:none;width:132px}.audioUI .p_sliderControls{height:48px}.p_volumeBarHolder{background-color:transparent;bottom:0;height:44px;position:absolute;width:9px}.audioUI .p_volumeBarHolder{height:48px}.p_volumeBar{bottom:8px;height:28px;position:absolute;width:3px}.audioUI .p_volumeBar{bottom:10px}.p_volumeLevel{color:#fff;font-size:.75em;left:111px;position:absolute;text-align:center;top:24px;vertical-align:middle;width:22px}.audioUI .p_volumeLevel{bottom:0;left:105px;line-height:48px;top:0}.p_afterVolume{background-color:#a4a4a4}.p_selectedVolume{background-color:#fff;height:32px}.audioUI .p_volumeButton svg{-webkit-transition:fill .25s ease-out;transition:fill .25s ease-out}@media (max-width:758px){.audioUI .p_volumeControls{display:none}}@media (-ms-high-contrast:active){.audioUI .p_volumeControls .p_beforeVolume{background-color:windowText!important}.audioUI.svg .p_volumeControls .p_volumeButton .p_svg{fill:windowText!important}.audioUI .p_volumeControls .p_afterVolume{background-color:grayText!important}.audioUI .p_volumeControls .p_selectedVolume,.audioUI .p_volumeControls .p_sliderControls:hover .p_selectedVolume{background-color:highlight!important}.audioUI.nonPointerFocus.svg .p_volumeControls .p_volumeButton:focus .p_svg,.audioUI.svg .p_volumeControls .p_volumeButton.p_buttonHover .p_svg,.audioUI.svg .p_volumeControls .p_volumeButton.p_buttonTouch .p_svg,.audioUI.svg .p_volumeControls.p_open .p_svg{fill:highlightText!important}.audioUI .p_volumeButton.p_buttonHover .p_iconHolder,.audioUI .p_volumeButton.p_buttonTouch .p_iconHolder,.audioUI .p_volumeControls.p_open .p_volumeButton .p_iconHolder{background-color:highlight!important}}
</style>
<script type="text/javascript">
!function(){var e=!1;window.delayedFunctions=[];var t=function(){var e=this;e._receiveKey="",e._url="",e._listeners={},e.receive(function(t){var i=t._data.type,n=t._data.data;if(i&&"object"==typeof e._listeners[i])for(var a=e._listeners[i],o=0;o<a.length;o++){var r=a[o];"function"==typeof r&&r.call(e,n)}})};function i(e){if(!e||!/^[\-a-zA-Z]{1,20}$/.test(e))return"en";return{"en-gb":"en","cy-gb":"cy","gd-gb":"gd","ga-gb":"ga","ru-uk":"ru","uz-latn":"uz","uz-cyrl":"uz",zh:"zh-hans",sr:"sr-latn","pt-br":"pt"}[e=e.toLowerCase()]||e}t.prototype={_receiveKey:"",_url:"",_listeners:{},post:function(t){try{var i=JSON.stringify(t)}catch(n){e,i={type:t.type}}return"function"==typeof window.parent.postMessage&&window.parent.postMessage(i,this._url),this},receive:function(e){var t=this,i=function(i){if(0!==(i.data+"").indexOf("ima://")&&""!==i.data){if("SMP.asyncDelay"!=i.data){try{i._data=JSON.parse(i.data)}catch(o){i._data={}}var n=i._data;return n&&!t._url&&"object"==typeof n.initXD?(t._url=function(e){if("null"==e)return"*";for(var t=0;t<validDomains.length;t++){var i=new RegExp("^(http[s]{0,1})://([^\\?\\&#:/]+\\."+validDomains[t]+")(:([0-9]+))?","gi");if(e.match(i)){var n=e.split(i);return n[1]+"://"+n[2]+(n[4]?":"+n[4]:"")}}for(t=0;t<validWholeDomains.length;t++){if(e=="https://"+validWholeDomains[t])return"https://"+validWholeDomains[t];if(e=="http://"+validWholeDomains[t])return"http://"+validWholeDomains[t]}return/^file:\/\/$/i.test(e)||/^capacitor:\/\//i.test(e)?e:""}(i.origin),!!t._url.length&&(t._receiveKey=n.initXD.receiveKey,!0)):(i.origin===t._url||"*"==t._url)&&(!(!n.receiveKey||n.receiveKey!==t._receiveKey)&&void e(i))}if(window.delayedFunctions.length>0){var a=window.delayedFunctions.shift();a&&a.fn.apply(a.that,a.args)}}};return void 0!==window.addEventListener?window.addEventListener("message",i,!1):window.attachEvent("onmessage",i),t},on:function(e,t){var i=this;return void 0===i._listeners[e]&&(i._listeners[e]=[]),i._listeners[e].push(t),i},fire:function(e,t){this.post({receiveKey:this._receiveKey,data:t,type:e})},detach:function(e){var t=this;return void 0!==t._listeners[e]&&(t._listeners[e]=null,delete t._listeners[e]),t}};var n={code:"en"};function a(){var e=n[n.code];if(e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);else!function(e){e=i(e);var t=function(t){n[e]=t,a(),n.updated()};!function(e,t){var i=function(i){try{t(function(e){for(var t=e.getElementsByTagName("message"),i=t.length,n={},a=0;a<i;a++){var o=t[a];n[o.getAttribute("name")]=o.textContent}return n}(i))}catch(n){ue.callErrorFunction(window.publicApi,v.LANGUAGE_FAILED,e,!0)}};ue.getXML(e,i,i,n,!0)}(n.path.replace("{lang}",e),t)}(n.code)}n.en={networkNotAvailable:"It appears your network is not available at this time.",defaultErrorMessage:"This content doesn't seem to be working.",codecErrorMessage:"The content is not available in a compatible codec",contentNotAvailableOnDevice:"This content is not currently available on this device.",contentPostAvailability:"This live stream has ended.",tryAgainLater:"Please try again later.",tryAgain:"Try Again",programmePreAvailability:"This programme is not available to play yet.",programmeRegionRestriction:"This content is not available in your location.",itemRevoked:"This content is no longer available",httpsOnlyFailure:"The content you want to play is not available over a secure connection. It may be available over a non-secure connection. Would you like to try this?",viewThisContentOnTheBBC:"More from the BBC",insufficientBandwidth:"Sorry, you don't have enough bandwidth to play this right now.",guidanceStateOff1Text:"Turn Parental Guidance Lock on",guidanceStateOff2Text:"Visit BBC Guidance to change settings.",guidanceStateOn1Text:"Turn Parental Guidance Lock off",guidanceStateOn2Text:"Visit BBC Guidance to change settings.",audioToolTipBuffering:"Buffering",audioToolTipSeekBarPrefix:"Playback time is",audioToolTipSeekBarSuffix:"of",audioToolTipVolumeMuted:"Muted",audioToolTipVolume1:"Volume level 1",audioToolTipVolume2:"Volume level 2",audioToolTipVolume3:"Volume level 3",audioToolTipVolume4:"Volume level 4",audioToolTipVolume5:"Volume level 5",audioToolTipVolume6:"Volume level 6",audioToolTipVolume7:"Volume level 7",audioToolTipVolume8:"Volume level 8",audioToolTipVolume9:"Volume level 9",audioToolTipVolume10:"Volume level 10",audioToolTipVolume11:"Volume level 11",toolTipEnterFullScreen:"Enter full screen",toolTipExitFullScreen:"Exit full screen",toolTipPause:"Pause",toolTipPlay:"Play",toolTipPlayAgain:"Play this again",toolTipSubtitlesOn:"Turn subtitles on",toolTipSubtitlesOff:"Turn subtitles off",toolTipClosedCaptionsOn:"Turn closed captions on",toolTipClosedCaptionsOff:"Turn closed captions off",toolTipEmbed:"Get embed code",toolTipMute:"Mute",toolTipUnmute:"Unmute",toolTipCTAPlay:"Play {title}",toolTipFrameMedia:"{title} Media",toolTipChromecast:"Cast this programme",toolTipStopChromecast:"Stop casting",toolTipTranscriptionOn:"Turn transcription on",toolTipTranscriptionOff:"Turn transcription off",seekBarName:"Seek bar",toolTipPicInPic:"Open Picture in Picture mode",toolTipStopPicInPic:"Exit Picture in Picture mode",openSubtitlesMenuAndTurnOnSubs:"Turn subtitles on and open subtitles settings menu",openSubtitlesMenu:"Open subtitles settings menu",closeSubtitlesMenu:"Close subtitles settings menu",subtitles:"Subtitles",openClosedCaptionsMenuAndTurnOnCC:"Turn closed captions on and open closed captions settings menu",openClosedCaptionsMenu:"Open closed captions settings menu",closeClosedCaptionsMenu:"Close closed captions settings menu",closedCaptions:"Closed Captions",speedTitle:"Playback speed",openSpeedMenu:"Open playback speed menu",closeSpeedMenu:"Close playback speed menu",speedButton0:"Set speed to 0.5 times",speedButton1:"Set speed to 0.8 times",speedButton2:"Set speed to normal",speedButton3:"Set speed to 1.2 times",speedButton4:"Set speed to 1.5 times",speedButton5:"Set speed to 2 times",playQueueOn:"Close Play Queue",playQueueOff:"Open Play Queue",off:"OFF",on:"ON",useSmallestFontSize:"Use font size: Smallest",useSmallFontSize:"Use font size: Small",useMediumFontSize:"Use font size: Medium",useLargeFontSize:"Use font size: Large",useLargestFontSize:"Use font size: Largest",aa:"Aa",playbackSettingsHeading:"Playback settings",autoplaySettingHeading:"Autoplay",autoplaySettingSubheading:"Play next item automatically",openPlaybackSettingsMenu:"Open playback settings menu",closePlaybackSettingsMenu:"Close playback settings menu",openPlaybackSettingsMenuNew:"Open playback settings menu for autoplay and video quality settings",qualitySettingHeading:"Video quality",qualityPanelLowRowHeading:"Low",qualityPanelMediumRowHeading:"Medium",qualityPanelHighRowHeading:"Highest available",qualityPanelHighRowSubtitle:"Automatically selects the best quality available",autoplaySettingGenericLabel:"Autoplay. Play next item automatically",qualitySettingOpenHighSelected:"Video quality. Highest available is currently selected. Open video quality settings",qualitySettingOpenMediumSelected:"Video quality. Medium quality is currently selected. Open video quality settings",qualitySettingOpenLowSelected:"Video quality. Low quality is currently selected. Open video quality settings",qualitySettingOpenUnavailable:"Currently unavailable",qualitySettingOpenUnavailableAccessible:"Video quality settings are currently unavailable",qualitySettingInfo:"Video quality options",qualitySettingLowSelect:"Low quality",qualitySettingLowSelected:"Low quality selected",qualitySettingMediumSelect:"Medium quality",qualitySettingMediumSelected:"Medium quality selected",qualitySettingHighSelect:"Highest quality available",qualitySettingHighSelected:"Highest quality available selected",ccSelectDevice:"Select casting device...",ccCastingTo:"Casting to",ccConnecting:"Connecting",errorUnsupported:"Your device is not currently supported",errorCantPlayInBrowser:"Sorry, this won't play in your web browser.",pgHeader:"Parental Guidance Lock",pgAgeConfirmation:"I am aged 16 or over",pgClose:"Close pop up",pgContinue:"Continue",pgPasswordValidationError:"Please confirm your age before continuing",pgAriaAgeConfirmCheckBox:"Age confirmation check box. Checked.",pgAriaAgeConfirmCheckBoxUnchecked:"Age confirmation check box. Check to confirm you are sixteen or over.",pgTurnOnParentalGuidance:"Turn on the Parental Guidance Lock?",pgInfoPlusDownload:"lets you set up a PIN to control access to Guidance-labelled BBC content on your chosen browser.<p>To set up your PIN choose 'Turn On'. To continue without Parental Guidance choose 'Download'.</p>",pgInfoPlusPlay:"lets you set up a PIN to control access to Guidance-labelled BBC content on your chosen browser.<p>To set up your PIN choose 'Turn On'. To continue without Parental Guidance choose 'Play'.</p>",pgInfo:"lets you set up a PIN to control access to Guidance-labelled BBC content on your chosen browser.",pgTurnOn:"Turn On",pgEnterPIN:"Please enter a four-digit PIN",pgActivateInfo:"You will need your PIN to play Guidance-labelled content",pgPINValidationError:"Your PIN must be four digits",pgAriaPINEntryDescription:"PIN entry text field",pgAriaPINPrompt:"Please enter a valid four-digit PIN",pgEnterPINPrompt:"Please enter your four-digit PIN to continue",pgManageYourPIN:"Manage your PIN",pgUnlock:"Unlock",pgIncorrectPIN:"Incorrect PIN. Please try again",pgDownload:"Download",pgActivate:"Activate",newPgTurnOnParentalGuidance:"Turn on Parental Guidance Lock?",newPgTurnOnParentalGuidancePINsection:"Turn on Parental Guidance Lock",newPgTurnOnParentalGuidanceInsertPIN:"Parental Guidance Lock",newPgTurnOn:"Turn on PG Lock",newToolTipPlay:"Play without PG Lock",findOutMore:"Find out more",notSuitableForChildMessage:"This programme may not be suitable for children. Turn on PG Lock and we'll ask you to set up a PIN to control who can watch BBC content with a Guidance label on this browser.",newPgAgeConfirmationUnder16:"I've got permission.",newUnder16WithPermission:"You're signed in as someone who's under 16. So you need permission from a parent or guardian to play this.",newPgPlay:"Play",newPgEnterPIN:"Please choose a four-digit PIN.",newPgPINvalidationError:"Your PIN must be four digits long.",newPgIncorrectPIN:"Wrong PIN. Please try again.",newPgManageYourPIN:"Manage your lock",newPgEnterPINprompt:"Please enter your four-digit PIN.",newPgActivateInfo:"You'll need this to play any content with a Guidance label.",newPgEnterPINinfo:"This programme has a Guidance label.",newAgeConfirmationTitle:"Guidance",pgUnder16PermissionValidationError:"Please confirm you have permission before continuing",skipBack:"Skip back {seconds} seconds",skipForward:"Skip forward {seconds} seconds",listenFromStart:"Listen from start",goToLivePoint:"Go to live point",previousItem:"Previous item",nextItem:"Next item",popOutPlayer:"Pop-out player",flashNotAvailable:"This player no longer works properly on your device. You'll need to update your browser or device to continue.",deprecationMessageLongLink:"Find out how to keep watching and listening."},n.get=function(e,t){var i=n[e];if(!i)return"";for(var a in t)if(t.hasOwnProperty(a)){var o=t[a]||"";i=i.replace("{"+a+"}",o)}return i},n.init=function(e,t){var o=e.lang;n.path=e.path.replace(/^.*\/\/.*?\//,"/"),n.code=i(o);var r=n.en;for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s]);a(),n.updated=t},window.Language=n;var o,r;function s(e){(r=document.getElementById("p_alert")).innerHTML="<p></p>",r.firstChild.textContent=e,r.style.display="block"}function l(e,t){if(clearTimeout(o),t)return r.innerHTML="",void(r.style.display="none");o=setTimeout(s,500,e)}var u={alert:l,buffering:function(e){e?(clearTimeout(o),r&&(r.innerHTML="",r.style.display="none")):l(n.audioToolTipBuffering)}},c="critical",d="error",p="warning",h="unknown",f={unknown:{description:"An unknown error has occurred.",secondaryText:"Please try again later.",detail:"An unknown error occurred",severity:d,responsibility:h,recoverable:!1}},m="Application",y="External",g="Media",v=function(e,t){var i;this.code=e;var a=!!(i=f[e=""+e]||f.unknown).recoverable;return this.handled=!0,this.type=d,this.description=i.description||"",this.severity=i.severity,this.responsibility=i.responsibility,this.recoverable=a,this.secondaryText=i.hasOwnProperty("secondaryText")?i.secondaryText:a?"":n.tryAgainLater,this.detail=i.detail||i.description,this.msg="",this.info=t,this};v.NON_BBC_PLAYLIST=1001,v.ERROR_LOADING_PLAYLIST=1002,v.NO_ITEMS_IN_PLAYLIST=1003,v.PROGRAMME_NOT_AVAILABLE_YET=1004,v.CONTENT_NOT_AVAILABLE_EXPIRED=1005,v.CONTENT_NOT_AVAILABLE_REGION=1006,v.MEDIATION_ERROR=1026,v.CANNOT_MAINTAIN_LOCK=1039,v.FLASH_NO_LONGER_AVAILABLE=1040,v.CONTENT_NOT_AV=1051,v.CONTENT_NOT_AVAILABLE=1052,v.TOKEN_EXPIRED=1053,v.TOKEN_INVALID=1054,v.CONTENT_NOT_AVAILABLE_GEO=1056,v.CONTENT_NOT_AVAILABLE_OTHER=1057,v.CONTENT_NOT_AVAILABLE_UNKNOWN=1058,v.CONTENT_NOT_AVAILABLE_REVOKED=1059,v.ERROR_PARSING_PLAYLIST=1060,v.CONTENT_NOT_AVAILABLE_PRE_START=1061,v.ALL_CONNECTIONS_FILTERED=1062,v.ALL_ITEMS_FILTERED=1064,v.NO_ITEMS=1065,v.NO_ITEMS_FILTERED=1066,v.MEDIASELECTOR_TIMEOUT=1068,v.MEDIATION_ERROR_UNKNOWN=1069,v.ERROR_PARSING_CONFIG=1071,v.PREFERRED_PROTOCOL_NOT_AVAILABLE=1072,v.CONTENT_NOT_AVAILABLE_TOKEN=1073,v.TIMEOUT_WAITING_TOKEN=1074,v.UNHANDLED_INTERNAL_ERROR=2100,v.PLAYING_FAILED_NO_INTENT=2200,v.PLAYING_STARTED_AFTER_NO_INTENT=2201,v.PLAYING_FAILED_PROMISE=2210,v.NETWORK_UNAVAILABLE=3025,v.MPD_LOAD_FAIL=4200,v.MPD_NO_STREAMS=4201,v.INIT_FRAGMENT_LOAD_FAIL=4202,v.STREAM_FRAGMENT_LOAD_FAIL=4203,v.PLAYING_DASH_WHEN_NOT_SUPPORTED=4204,v.DASH_MEDIASOURCE_ERROR=4205,v.INIT_FRAGMENT_DOWNLOAD_INFORMATION=4223,v.MPD_GENERIC=4224,v.FRAGMENT_DOWNLOAD_INFORMATION=4225,v.FRAGMENT_END_DOWNLOAD_INFORMATION=4229,v.MPD_PARSE_ERROR=4226,v.NO_SUPPORTED_CODECS=4227,v.NO_SUPPORTED_CODECS_FAILOVER=4228,v.DASH_EXCEPTION=4233,v.DASH_FRAGMENT_DISCARDED=4234,v.DOWNLOADS_OFTEN_SLOW=4236,v.DOWNLOAD_WAS_SLOW=4237,v.DOWNLOADS_OFTEN_SLOW_FATAL=4238,v.LOAD_FAILED_BUFFERING=4240,v.STREAM_FRAGMENT_CONTENT_LENGTH_MISMATCH=4241,v.NO_ALTERNATIVE_MEDIA_AFTER_FAILOVER=4999,v.NO_ALTERNATIVE_MEDIA=5e3,v.FORMAT_NOT_SUITABLE=5001,v.FORMAT_NOT_DECODED=5003,v.MEDIA_ERR_ABORTED=5005,v.MEDIA_ERR_NETWORK=5007,v.MEDIA_ERR_WEIRD=5009,v.DRM_KEY=5100,v.DRM_ERROR_TIMEOUT=5101,v.DEVICE_NOT_SUPPORTED=6003,v.INIT_TIMEOUT=6004,v.DASH_INIT_TIMEOUT=6006,v.ERROR_NO_MEDIA_SRC=6011,v.PLUGIN_LOAD_FAIL=6100,v.PLUGIN_INITIALISE_FAIL=6101,v.PLUGIN_LOAD_TIMEOUT=6102,v.THREE_SIXTY_FAILED=6250,v.EMBED_NOT_ALLOWED=6500,v.SUBS_FAILED=7500,v.SUBS_PARTIALLY_FAILED=7510,v.THUMBNAIL_FAILOVER=7501,v.FONT_FAILED=7502,v.LANGUAGE_FAILED=7750,v.getError=function(e){return new v(e)},v.prototype.toSimple=function(){var e={};return e.code=this.code,e.type=this.type,e.description=this.description,e.severity=this.severity,e.responsibility=this.responsibility,e.recoverable=this.recoverable,e.secondaryText=this.secondaryText,e.detail=this.detail,e.info=this.info,e},v.init=function(){f={1001:{code:1001,description:n.defaultErrorMessage,detail:"Player attempted to load a non BBC playlist",severity:c,responsibility:m},1002:{code:1002,description:n.defaultErrorMessage,detail:"There was an error loading the playlist",severity:c,responsibility:m},1003:{code:1003,description:n.defaultErrorMessage,detail:"This content is not currently available on this device",severity:c,responsibility:g},1004:{code:1004,description:n.programmePreAvailability,detail:"This programme is not available to play yet",severity:c,responsibility:g},1005:{code:1005,description:n.contentPostAvailability,detail:"This content is no longer available",severity:c,responsibility:g},1006:{code:1006,description:n.programmeRegionRestriction,detail:"This content is no longer available",severity:c,responsibility:g},1026:{code:1026,description:n.defaultErrorMessage,detail:"The media selector request failed",severity:c,responsibility:"MediaSelector"},1039:{code:1039,description:n.httpsOnlyFailure,detail:"HTTPS only playback failed",severity:c,responsibility:g,recoverable:!0,secondaryText:""},1040:{code:1040,description:n.flashNotAvailable,detail:"No flash streams available",severity:c,responsibility:g,recoverable:!0,secondaryText:""},1051:{code:1051,description:n.defaultErrorMessage,detail:"This content is not Audio or Video",severity:c,responsibility:g},1052:{code:1052,description:n.contentNotAvailableOnDevice,detail:"This content is not currently available on this device",severity:c,responsibility:g},1053:{code:1053,description:n.defaultErrorMessage,detail:"Token Expired",severity:c},1054:{code:1054,description:n.defaultErrorMessage,detail:"Token Invalid",severity:c},1056:{code:1056,description:n.programmeRegionRestriction,secondaryText:"",detail:"Content not available mediaselector GEO",severity:c,responsibility:g},1057:{code:1057,description:n.contentNotAvailableOnDevice,detail:"Content not available OTHER",severity:c,responsibility:g},1058:{code:1058,description:n.contentNotAvailableOnDevice,detail:"Content not available UNKNOWN",severity:c,responsibility:g},1059:{code:1059,description:n.itemRevoked,detail:"Content not available revoked",severity:c,responsibility:g},1060:{code:1060,description:n.defaultErrorMessage,detail:"There was an error parsing the playlist",severity:c,responsibility:g},1061:{code:1061,description:n.programmePreAvailability,detail:"This live stream has not started yet.",severity:c,responsibility:g,visible:!0},1062:{code:1062,description:n.defaultErrorMessage,detail:"There were connections (from MediaSelector or hrefs), but all were filtered out",severity:c,responsibility:g},1064:{code:1064,description:n.defaultErrorMessage,detail:"There was an error parsing the playlist",severity:c,responsibility:g},1065:{code:1065,description:n.defaultErrorMessage,detail:"The playlist contained no items",severity:c,responsibility:g},1066:{code:1066,description:n.defaultErrorMessage,detail:"The playlist contained no items after filtering",severity:c,responsibility:g},1068:{code:1068,description:n.defaultErrorMessage,detail:"Mediaselector timed out",severity:c,responsibility:g,recoverable:!0},1069:{code:1069,description:n.defaultErrorMessage,detail:"Mediaselector errored",severity:c,responsibility:g,recoverable:!0},1073:{code:1073,description:n.defaultErrorMessage,detail:"Content Not Available with Token",severity:c,responsibility:g},1074:{code:1074,description:n.defaultErrorMessage,detail:"Timeout waiting for token",severity:c,responsibility:g,recoverable:!0},2100:{code:2100,description:p,detail:"SMPj experienced an internal error that it did not know how to handle",severity:p,responsibility:m},2200:{code:2200,description:p,detail:"Playing failed, no intent",severity:p,responsibility:m},2201:{code:2201,description:p,detail:"Playing started, after no intent",severity:p,responsibility:m},2210:{code:2210,description:p,detail:"Playing failed, promise reported",severity:p,responsibility:m},3025:{code:3025,description:n.networkNotAvailable,detail:"Appear to be offline",severity:c,responsibility:g,recoverable:!0},4200:{code:4200,description:n.defaultErrorMessage,detail:"The requested stream manifest could not be loaded",severity:d,responsibility:g},4201:{code:4201,description:n.defaultErrorMessage,detail:"The manifest file contains no valid streams",severity:d,responsibility:g},4202:{code:4202,description:n.defaultErrorMessage,detail:"Failed to load headers for stream",severity:d,responsibility:g},4203:{code:4203,description:n.defaultErrorMessage,detail:"Failed to load stream fragment",severity:d,responsibility:g},4204:{code:4204,description:n.defaultErrorMessage,detail:"Attempting to play DASH connection with no MSE support",severity:d,responsibility:m},4205:{code:4205,description:n.defaultErrorMessage,detail:"DASH Reported media source error",severity:p,responsibility:m},4223:{code:4223,description:n.defaultErrorMessage,detail:"Failed to load init fragment",severity:d,responsibility:g},4224:{code:4224,description:"Unknown manifest error",detail:"A generic manifest error occurred",severity:d,responsibility:g},4225:{code:4225,description:n.defaultErrorMessage,detail:"Failed to load stream fragment",severity:d,responsibility:g},4229:{code:4229,description:n.defaultErrorMessage,detail:"Failed to load stream fragment",severity:p,responsibility:g},4226:{code:4226,description:n.defaultErrorMessage,detail:"The manifest file could not be parsed",severity:d,responsibility:g},4227:{code:4227,description:n.codecErrorMessage,detail:"Client does not support any available codecs",severity:c,secondaryText:""},4228:{code:4228,description:n.defaultErrorMessage,detail:"Client does not support any available codecs",severity:d},4233:{code:4233,description:"An unspecified dash.js error occurred",severity:p,responsibility:m,recoverable:!0},4234:{code:4234,description:"Dash.js thought there was content in the buffer, but there was not",severity:"info",responsibility:m,recoverable:!0},4237:{code:4237,description:"Slow download",detail:"A DASH fragment took longer to download than it would to play out",severity:p,responsibility:m,recoverable:!0},4236:{code:4236,description:n.insufficientBandwidth,detail:"DASH fragments consistently took longer to download than it would to play out",severity:d,responsibility:m,recoverable:!0},4238:{code:4238,description:n.insufficientBandwidth,detail:"DASH fragments consistently took longer to download than it would to play out",severity:c,responsibility:m,recoverable:!0},4240:{code:4240,description:n.defaultErrorMessage,detail:"A DASH failure happened, and now we've played out the rest of the buffer.",severity:c,responsibility:m,recoverable:!0},4241:{code:4241,description:n.defaultErrorMessage,detail:"Failed to load stream fragment because the content-length header didn't match the content",severity:d,responsibility:g},5e3:{code:5e3,description:n.defaultErrorMessage,detail:"No alternative media format available",severity:c,responsibility:g},4999:{code:4999,description:n.defaultErrorMessage,detail:"No alternative media format available after failover, probably offline",severity:c,responsibility:g,recoverable:!0},5003:{code:5003,detail:"The format of the media resource could not be decoded (video)",severity:d,responsibility:g},5004:{code:5004,detail:"The format of the media resource could not be decoded (audio)",severity:d,responsibility:g},5005:{code:5005,detail:"HTML5 MEDIA_ERR_ABORTED - (video)",severity:d,responsibility:g},5006:{code:5006,detail:"HTML5 MEDIA_ERR_ABORTED - (audio)",severity:d,responsibility:g},5007:{code:5007,detail:"HTML5 MEDIA_ERR_NETWORK - (video)",severity:d,responsibility:g},5008:{code:5008,detail:"HTML5 MEDIA_ERR_NETWORK - (audio)",severity:d,responsibility:g},5009:{code:5009,detail:"The video tag fired an error event, but there was no error available on the element",severity:p,responsibility:g},5010:{code:5010,detail:"The audio tag fired an error event, but there was no error available on the element",severity:p,responsibility:g},5100:{code:5100,detail:"The video could not be decoded with the provided key (if any).",severity:p,responsibility:y},5101:{code:5101,description:n.defaultErrorMessage,detail:"A DRM error fired, and the timeout elapsed without it being corrected",severity:c,responsibility:y},6003:{code:6003,description:n.errorUnsupported,detail:"Browser does not have MSE support",severity:c,responsibility:m,secondaryText:""},6004:{code:6004,description:n.defaultErrorMessage,detail:"The player could not be initialised in time",severity:c,responsibility:m},6006:{code:6006,description:n.defaultErrorMessage,detail:"Dash.js could not be initialised in time",severity:c,responsibility:m,recoverable:!0},6011:{code:6011,description:n.defaultErrorMessage,detail:"No source has been found for this video",severity:d,responsibility:g},6100:{code:6100,description:"Plugin load failed",severity:d,responsibility:m},6102:{code:6102,description:"Plugin load timed out",severity:d,responsibility:m},6101:{code:6101,description:"Plugin initialise failed",severity:d,responsibility:m},6250:{code:6250,description:n.defaultErrorMessage,severity:c,responsibility:m},6500:{code:6500,description:"This content is not available on this site. Visit the BBC site to enjoy this content.",severity:c,responsibility:y,recoverable:!0},7500:{code:7500,detail:"There was an error loading Subtitles",severity:p,responsibility:g},7510:{code:7510,detail:"There was an error loading Subtitles, but some arrived",severity:p,responsibility:g},7501:{code:7501,detail:"Failing over thumbnail manifest",severity:p,responsibility:g},7502:{code:7502,detail:"Webfont failed to load",severity:p,responsibility:y},7750:{code:7750,detail:"Language failed to load",severity:p,responsibility:y},unknown:{description:n.defaultErrorMessage,detail:"An unknown error occurred",severity:d,responsibility:h},unknownCritical:{description:n.defaultErrorMessage,detail:"An unknown error occurred",severity:c,responsibility:h}}};var b={requiresFakeEndedEvent:!1,requiresFakePlayEvent:!1,requiresRestartAdjustmentAtEnd:!1,supportsVideoDash:!1,supportsAudioDash:!1,needToLoadSVG:!0,supportsHls:!1,useFakeFullscreen:!1,windowsPhone:!1,android:!1,ios:!1,ipad:!1,iphone:!1,blackBerry:!1,init:function(e,t){var i=!!window.MediaSource;e=e.toLowerCase(),b.windowsPhone=/windows phone/.test(e),b.android=/android/.test(e)&&!b.windowsPhone,b.ios=/(ipod|ipad|iphone)/.test(e)&&!b.windowsPhone,b.iphone=/iphone|ipod/.test(e)&&!b.windowsPhone,b.ipad=/ipad/.test(e),b.playbook=/playbook/.test(e),b.blackBerry=/blackberry/.test(e)||b.playbook||/bb10/.test(e),b.macSafari=/safari/.test(e)&&/mac/.test(e)&&!/chrome/.test(e)&&!b.windowsPhone,b.firefox=/firefox/.test(e),b.kindle=/silk/.test(e),b.trident=/trident/.test(e),b.edge=/ edge\//.test(e),b.snowLeopard=b.macSafari&&/os x 10_6/.test(e),b.windowsWebview=b.edge&&/webview/.test(e),b.windows10Arm=/windows nt 10\.[0-9]; arm/.test(e);var n=/windows nt 5\./.test(e);b.windowsXpFirefox=b.firefox&&n,b.windowsXpChrome=window.chrome&&n,b.preWindows10IE11=b.trident&&/ nt 6./.test(e),b.opera=/opr/.test(e),b.samsung=/samsungbrowser/.test(e);var a,o=0;if(e.match(/webkit\/(\d*)/i)&&(o=parseFloat(RegExp.$1)),b.firefox)var r=e.match(/firefox\/([0-9]+)/),s=r?parseInt(r[1],10):0;if(b.ios)var l=(r=e.match(/os ([0-9]+)\_([0-9]+)/))?parseInt(r[1],10):0,u=r?parseInt(r[2],10):0;if(b.macSafari&&(r=e.match(/os x ([0-9]+)\_([0-9]+)/))&&r.length>=3)var c=parseInt(r[1],10),d=parseInt(r[2],10);b.safariPreSierra=b.macSafari&&(c<10||10===c&&d<12),b.hideCursorInFullscreen=!b.ios||l>=7;var p=0,h=!1;b.android&&(a=(r=e.match(/android (\d+(?:[\.\d]*)+)/i))?10*parseFloat(r[1]):99)&&a<42&&(h=!0);var f=e.match(/chrome\/([0-9]+)/);f&&(p=parseInt(f[1],10))<35&&b.android&&(b.useFakeFullscreen=!0),b.probablyIpadosNonDesktopMode=b.ipad&&l>=13||o>600&&navigator.maxTouchPoints>0,b.useStartDateInHls=l>=10||b.probablyIpadosNonDesktopMode,b.iOS13=b.ios&&13===l,b.iPhoneIos10=b.iphone&&10==l,b.iPhoneIos11orGreater=b.iphone&&l>=11,b.iPhoneOutOfPagePlayback=b.iphone&&l<10,b.inaccurateRewindWindow=b.ios&&l<7,b.allowFakeFullscreenScroll=b.ios&&11===l&&u<3||l<11,b.cannotDetectAutoplayFailure=b.ios&&l<8,b.iPhoneNeedFullScreenMarginButton=b.iphone&&320===screen.width&&568===screen.height,b.loadStartUnreliableAudio=b.ios&&l>=6,b.requiresFakePlayEvent=h||b.kindle||b.blackBerry,b.requiresFakeEndedEvent=b.macSafari||h,b.requiresFakePlayingEventAfterSeekedWhenDash=b.trident,b.supportsAutoplay=!(b.ios||b.windowsPhone||b.android||b.blackBerry),b.possiblyPreferPlainOverDash=!b.supportsAutoplay&&!(s>63&&a>=8||p>55&&a>=6),b.notWorthTryingAutoplay=!b.supportsAutoplay||b.macSafari,b.supportsMultipleMediaElements=b.supportsAutoplay,b.consideredForMobileLiveRewind=!b.supportsAutoplay,b.supportsVideoDash=i&&!b.safariPreSierra&&!b.windowsXpFirefox&&!b.preWindows10IE11&&!b.windowsXpChrome,b.supportsAudioDash=i&&(!b.safariPreSierra||o>=601),b.supportsHls=t||b.edge||b.windows10Arm||b.macSafari,b.preferHls=b.ios||b.blackBerry&&!b.playbook||b.probablyIpadosNonDesktopMode,b.preferHlsAfterDash=b.safariPreSierra,b.requiresDashAVC3CodecHack=b.trident||b.windowsWebview,b.noSupportForLocationHeader=b.trident||b.iOS13&&0===u,b.requiresFullscreenResizeDelay=!b.supportsAutoplay||!(b.Edge||window.chrome||b.macSafari||b.firefox),b.requiresShortFullscreenResizeDelay=b.trident,b.supportedFlash=b.android&&a&&a<5||b.supportsAutoplay,b.requiresPageFullScreenStyles=b.edge,b.disallowHighResIcons=!1,b.animationCompensationSupported=!b.ios&&!b.edge&&!b.macSafari,b.scrubAnimation=!(b.firefox&&s<52||b.samsung||a&&a<44||b.trident),b.canTabbing=!b.ios,b.webgl=function(){try{var e=document.createElement("canvas"),t="probablySupportsContext"in e?"probablySupportsContext":"supportsContext";return t in e?e[t]("webgl")||e[t]("experimental-webgl"):"WebGLRenderingContext"in window}catch(i){return!1}}()},requestFullscreen:function(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen&&e.mozRequestFullScreen()},exitFullscreen:function(e){e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.mozCancelFullScreen&&e.mozCancelFullScreen()},fullscreenEnabled:function(e){return!(!e||b.useFakeFullscreen)&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.msFullscreenEnabled||e.mozFullScreenEnabled)},bindToFullscreenChange:function(e,t){ue.multiAddEventListener(e,"fullscreenchange webkitfullscreenchange MSFullscreenChange mozfullscreenchange",t)},isBrowserFullscreen:function(e){var t=e.target;if(!t)return!1;var i=t.contentDocument||t.ownerDocument;if(i){if(i.fullscreenElement||i.msFullscreenElement||i.webkitIsFullScreen||i.mozFullScreen)return!0}else if(t.msFullscreenElement)return!0;return t.webkitIsFullScreen||t.mozFullScreen},loadSVGForHighResIcon:function(e){if(b.needToLoadSVG){var t=function(){e&&(e.config.useHighResIcons=!1),ue.className(document.body,"","svg")};b.needToLoadSVG=!1;var i="https://emp.bbc.co.uk/emp/assets/2.2.6/svgicons.svg";ue.getXML(i,function(e){e&&e.documentElement?document.body.appendChild(document.importNode(e.documentElement,!0)):t()},t,{},!0)}}};function C(){}window.Device=b,function(){var e,t=[];function i(){for(;t.length;)t[0](),t.shift()}function n(e){this.a=a,this.b=void 0,this.f=[];var t=this;try{e(function(e){r(t,e)},function(e){s(t,e)})}catch(i){s(t,i)}}e=function(){setTimeout(i)};var a=2;function o(e){return new n(function(t){t(e)})}function r(e,t){if(e.a==a){if(t==e)throw new TypeError;var i=!1;try{var n=t&&t.then;if(null!=t&&"object"==typeof t&&"function"==typeof n)return void n.call(t,function(t){i||r(e,t),i=!0},function(t){i||s(e,t),i=!0})}catch(o){return void(i||s(e,o))}e.a=0,e.b=t,l(e)}}function s(e,t){if(e.a==a){if(t==e)throw new TypeError;e.a=1,e.b=t,l(e)}}function l(i){!function(i){t.push(i),1==t.length&&e()}(function(){if(i.a!=a)for(;i.f.length;){var e=(o=i.f.shift())[0],t=o[1],n=o[2],o=o[3];try{0==i.a?n("function"==typeof e?e.call(void 0,i.b):i.b):1==i.a&&("function"==typeof t?n(t.call(void 0,i.b)):o(i.b))}catch(r){o(r)}}})}n.prototype.g=function(e){return this.c(void 0,e)},n.prototype.c=function(e,t){var i=this;return new n(function(n,a){i.f.push([e,t,n,a]),l(i)})},window.Promise||(window.Promise=n,window.Promise.resolve=o,window.Promise.reject=function(e){return new n(function(t,i){i(e)})},window.Promise.race=function(e){return new n(function(t,i){for(var n=0;n<e.length;n+=1)o(e[n]).c(t,i)})},window.Promise.all=function(e){return new n(function(t,i){function n(i){return function(n){r[i]=n,(a+=1)==e.length&&t(r)}}var a=0,r=[];0==e.length&&t(r);for(var s=0;s<e.length;s+=1)o(e[s]).c(n(s),i)})},window.Promise.prototype.then=n.prototype.c,window.Promise.prototype.catch=n.prototype.g)}(),function(){function e(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function t(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function n(e){var t=e.a.offsetWidth,i=t+100;return e.f.style.width=i+"px",e.c.scrollLeft=i,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function a(t,i){function a(){var e=o;n(e)&&e.a.parentNode&&i(e.g)}var o=t;e(t.b,a),e(t.c,a),n(t)}function o(e,t){var i=t||{};this.family=e,this.style=i.style||"normal",this.weight=i.weight||"normal",this.stretch=i.stretch||"normal"}var r=null,s=null,l=null,u=null;function c(){return null===u&&(u=!!document.fonts),u}function d(){if(null===l){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(t){}l=""!==e.style.font}return l}function p(e,t){return[e.style,e.weight,d()?e.stretch:"","100px",t].join(" ")}o.prototype.load=function(e,n){var o=this,l=e||"BESbswy",u=0,d=n||3e3,h=(new Date).getTime();return new Promise(function(e,n){if(c()&&!function(){if(null===s)if(c()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);s=!!e&&603>parseInt(e[1],10)}else s=!1;return s}()){var f=new Promise(function(e,t){!function i(){(new Date).getTime()-h>=d?t():document.fonts.load(p(o,'"'+o.family+'"'),l).then(function(t){1<=t.length?e():setTimeout(i,25)},function(){t()})}()}),m=new Promise(function(e,t){u=setTimeout(t,d)});Promise.race([m,f]).then(function(){clearTimeout(u),e(o)},function(){n(o)})}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}(function(){function s(){var t;(t=-1!=y&&-1!=g||-1!=y&&-1!=v||-1!=g&&-1!=v)&&((t=y!=g&&y!=v&&g!=v)||(null===r&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),r=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=r&&(y==b&&g==b&&v==b||y==C&&g==C&&v==C||y==S&&g==S&&v==S)),t=!t),t&&(T.parentNode&&T.parentNode.removeChild(T),clearTimeout(u),e(o))}var c=new t(l),f=new t(l),m=new t(l),y=-1,g=-1,v=-1,b=-1,C=-1,S=-1,T=document.createElement("div");T.dir="ltr",i(c,p(o,"sans-serif")),i(f,p(o,"serif")),i(m,p(o,"monospace")),T.appendChild(c.a),T.appendChild(f.a),T.appendChild(m.a),document.body.appendChild(T),b=c.a.offsetWidth,C=f.a.offsetWidth,S=m.a.offsetWidth,function e(){if((new Date).getTime()-h>=d)T.parentNode&&T.parentNode.removeChild(T),n(o);else{var t=document.hidden;!0!==t&&void 0!==t||(y=c.a.offsetWidth,g=f.a.offsetWidth,v=m.a.offsetWidth,s()),u=setTimeout(e,50)}}(),a(c,function(e){y=e,s()}),i(c,p(o,'"'+o.family+'",sans-serif')),a(f,function(e){g=e,s()}),i(f,p(o,'"'+o.family+'",serif')),a(m,function(e){v=e,s()}),i(m,p(o,'"'+o.family+'",monospace'))})})},"object"==typeof module?module.exports=o:(window.FontFaceObserver=o,window.FontFaceObserver.prototype.load=o.prototype.load)}(),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var S="-9999px",T="-9998px",P=500,k=32,w=13;function E(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()}function _(e,t){for(var i=0;i<t.length;i++)e.appendChild(t[i])}function I(e,t,i,n){var a=document.createElement(e);return t&&(a.className=t),i&&(a.innerHTML=i,n&&(a.firstChild.textContent=n)),a}function A(e,t){var i=e.getElementsByClassName("p_buttonText");if(1!=i.length){var n=document.createElement("div");n.className="p_buttonText",n.textContent=t,e.appendChild(n)}else i[0].textContent=t}function N(e,t,i){for(var n=e.getElementsByClassName("p_"+t+"Icon")[0],a=e.getElementsByClassName("p_iconHolder"),o=0;o<a.length;o++)a[o].firstChild==n?a[o].style.display="block":a[o].style.display="none";if(!n){var r=44;"fullscreen-return"==t&&(r=32),e.appendChild(ue.generateSVG(r,r,t,"p_"+t+"Icon",i))}}var L={},B=[];function x(e){var t=parseInt(e.target.getAttribute("json_id"),10);clearTimeout(L["JS_callbacks"+t]),B[t]=!1}var O=0!==(location.href+"").indexOf("file:");function R(e,t){var i=arguments,n=function(){for(var e=B.length-1;e>=0;e--)if(!B[e])return B[e]=!0,e;return B.push(!0),B.length-1}(),a="JS_callbacks"+n;window[a]=function(e,t){return function(i){clearTimeout(L[e]),window[e]=C,t(i)}}(a,t);if(L[a]=setTimeout(function(){window[a]=C;var e=J.indexOf(i);J.splice(e,1),t({result:"timeout"})},45e3),!1===navigator.onLine&&O)return window.removeEventListener("online",Z),J.push(i),void window.addEventListener("online",Z);e=e.replace("{callback}",a);var o=document.createElement("script");o.type="text/javascript",o.src=e,o.setAttribute("json_id",n),o.onload=x;o.onerror=function(e){x(e),t({result:"scripterror"})},document.getElementsByTagName("head")[0].appendChild(o)}function D(e,t,i,n,a,o){var r=v.getError(t);r.nonPlayer=n,r.extra=i,a&&(r.morphed=!0,r.severity="error"),o?(e.qos.trackError(r),e.delayedDispatch(r)):e.dispatch(r)}function M(e,t,i){var n,a,o={};if(e)for(n in t)t.hasOwnProperty(n)&&(a=t[n],n in e&&(e[n]===a||n in o&&o[n]===a)||("object"==typeof e[n]&&null!==e[n]?e[n]=M(e[n],a,i):e[n]=i(a)));return e}function F(e){if(!e||"object"!=typeof e)return e;var t,i,n;if(e instanceof Array)for(t=[],i=0,n=e.length;i<n;++i)i in e&&t.push(F(e[i]));else t={};return M(t,e,F)}function H(e,t){return e&&(e.className+"").indexOf(t)>-1}function q(e,t,i){if(e){var n,a,o,r=e.className;if(""!==r)r=r.replace((n=i||"",a=t,o=n+" "+a,o=o.trim().replace(/\s+/g,"\\b|\\b"),new RegExp("\\b"+o+"\\b","g")),"").trim()+" "+t,e.className=r.trim().replace(/\s+/g," ");else e.className=t}}function U(e,t,i,n){if(isNaN(e)||e<0||e>36e4)return i?"--:--":"";if(!e)return"00:00";var a=Math.floor(e/60),o=Math.floor(a/60);a=Math.floor(a%60);var r=Math.floor(e%60),s=n&&o<10?"0"+o:o;a<10&&(a="0"+a),r<10&&(r="0"+r);var l=[a,r];return(o>0||t)&&l.unshift(s),t&&l.pop(),l.join(":")}var V={192:{l:"108",s:"192",p:"288"},224:{l:"126",s:"224",p:"336"},256:{l:"144",s:"256",p:"384"},320:{l:"180",s:"320",p:"480"},368:{l:"207",s:"368",p:"552"},416:{l:"234",s:"416",p:"624"},480:{l:"270",s:"480",p:"720"},512:{l:"288",s:"512",p:"768"},608:{l:"342",s:"608",p:"912"},640:{l:"360",s:"640",p:"960"},688:{l:"387",s:"688"},720:{l:"405",s:"720"},768:{l:"432",s:"768"},800:{l:"450",s:"800"},832:{l:"468",s:"832"},976:{l:"549",s:"976"},1376:{s:"1376",l:"774"},1920:{l:"1080",s:"1920"}},W=new RegExp("^//|^http[s]{0,1}://","i");var G=[320,384,432,480,512,608,640,688,720,768,800,832,976,1024,1376,1920],z=[180,216,243,270,288,342,360,387,405,432,450,468,549,576,774,1080];function j(e,t,i,n,a){var o;(0===(o=n||ue.getOffset(t,"width"))||isNaN(o))&&(o=768),i&&i.densityMultiplier&&(o*=i.densityMultiplier);var r=[];for(var s in V)V.hasOwnProperty(s)&&r.push(Number(s));for(var l=r.length-1;l>0&&!(o/r[l]>.98);l--);var u="p"==a?"n":V[r[l]][a],c=r[l]+"x"+u;return e.url.replace(/[\${]recipe}?/,c)}function Q(e,t,i,n,a,o){var r,s=o||G;(0===(r=n||ue.getOffset(t,"width"))||isNaN(r))&&(r=768),i&&i.densityMultiplier&&(r*=i.densityMultiplier);for(var l=s.length-1;l>0&&!(r/s[l]>.98);l--);var u=G[l]+"x"+z[l];if(a&&(u=s[l]+"x"+s[l]),o)c=s[l];else var c=s[l]<=1024?s[l]:1536;return e.replace(/[\${]recipe}?/,u).replace(/[\${]width}?/,c)}var K={postAvailability:v.CONTENT_NOT_AVAILABLE_EXPIRED,postLiveAvailability:v.CONTENT_NOT_AVAILABLE_EXPIRED,preAvailability:v.PROGRAMME_NOT_AVAILABLE_YET,regionRestriction:v.CONTENT_NOT_AVAILABLE_REGION,selectionunavailable:v.CONTENT_NOT_AVAILABLE,geolocation:v.CONTENT_NOT_AVAILABLE_GEO,tokenexpired:v.TOKEN_EXPIRED,tokeninvalid:v.TOKEN_INVALID,other:v.CONTENT_NOT_AVAILABLE_OTHER,itemRevoked:v.CONTENT_NOT_AVAILABLE_REVOKED,EmptyPlaylistObject:v.NO_ITEMS,EmptyPlaylistObjectFiltered:v.NO_ITEMS_FILTERED,noMedia:v.CONTENT_NOT_AVAILABLE,timeout:v.MEDIASELECTOR_TIMEOUT,error:v.MEDIATION_ERROR,scripterror:v.MEDIATION_ERROR_UNKNOWN,nocvidmediator:v.CONTENT_NOT_AVAILABLE};var Y={chapter:["chapter","programme"],key:["highlight","key"]};function X(e,t,i,n){var a=n?/^((([a-zA-Z]+\:)?\/\/)|\/|[\.]{1,2}\/)/:/^([a-zA-Z]+\:)?\/\//;return!i.loading&&(!(e&&!e.match(a)&&0!==e.indexOf("data:"))||(ue.asyncDelay(t,[e]),!1))}var $=[],J=[];function Z(){for(e,window.removeEventListener("online",Z);J.length;)R.apply(null,J.shift());for(;$.length;)ee.apply(null,$.shift())}function ee(t,i,n,a,o,r){if(X(t,n,a,o)){if(!1===navigator.onLine&&O)return window.removeEventListener("online",Z),$.push(arguments),void window.addEventListener("online",Z);var s=new XMLHttpRequest,l=!1;try{s.open("GET",t,!0);try{r||(r=publicApi.config.useCredentials&&publicApi.config.useCredentials.indexOf&&publicApi.config.useCredentials.indexOf("Player")),r&&(s.withCredentials=!0)}catch(u){}}catch(u){if(!XDomainRequest)return;s=new XDomainRequest,l=!0,s.open("GET",t)}s.onload=function(){var o;if(l)try{(o=new ActiveXObject("Microsoft.XMLDOM")).async=!1,o.loadXML(s.responseText)}catch(u){e,a.loading=!1,n(t,!0)}else!(o=s.responseXML)&&window.DOMParser&&(o=(new DOMParser).parseFromString(s.responseText,"text/xml"));a.loading=!1,i(o)},s.onerror=function(){a.loading=!1,n(t)},a.loading=!0,s.send(null)}}function te(e){return e.offsetWidth<e.clientWidth}function ie(e){return 0===e.clientX&&0===e.clientY?"key_press":"click"}window.delayedFunctions=[];var ne=function(){return Date.now()};function ae(e,t,i){t.hasOwnProperty(i)&&(e[i]=t[i])}function oe(e,t,i){t.hasOwnProperty(i)&&(e[i]|=t[i])}window.performance&&window.performance.now&&(ne=function(){return window.performance.now()});var re=[],se=!1;function le(e){if(re.push(e),!se){se=!0;var t=document.createElement("script");t.type="text/javascript",t.onload=function(){try{require({paths:window.bbcRequireMap})}catch(e){}!function(){for(var e=0;e<re.length;e++)ue.asyncDelay(re[e])}()},t.src="https://static.bbci.co.uk/frameworks/requirejs/0.12.1/sharedmodules/require.js",document.getElementsByTagName("head")[0].appendChild(t)}}var ue={getActionFn:function(e,t){var i=!1,n=function(){i=!1};return function(a){if(!i){if(a.button&&0!==a.button)return;var o=ie(a);e(o,a),i=!0,setTimeout(n,P)}t||a.stopImmediatePropagation()}},eventFieldData:{loadstart:["currentSrc","preload","networkState"],loadedmetadata:["duration","readyState"],canplay:["readyState"],canplaythrough:["readyState"],play:["paused"],pause:["paused","ended"],playing:["paused","readyState"],seeking:["seeking"],seeked:["seeking"],timeupdate:["readyState"],ratechange:["playbackRate"],ended:["ended"],durationchange:["duration"],volumechange:["volume","muted"],error:["error","networkState"],waiting:["readyState"]},getJSON:R,getXML:ee,getText:function(e,t,i,n,a){if(X(e,i,n,a)){var o=new XMLHttpRequest;try{var r=publicApi.config.useCredentials&&publicApi.config.useCredentials.indexOf&&publicApi.config.useCredentials.indexOf("Player");o.withCredentials=r}catch(s){}o.open("GET",e,!0),o.responseType="text",o.onload=function(){n.loading=!1,t(o.response)},o.onerror=function(){n.loading=!1,i(e)},n.loading=!0,o.send(null)}},clearPendingReqs:function(){window.removeEventListener("online",Z),$=[],J=[]},merge:function(){var e=F(arguments[0]);if(e)for(var t=1;t<arguments.length;t++)arguments[t]&&(e=M(e,arguments[t],F));return e},clone:F,isObjectEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},now:ne,className:q,setOrUnsetClass:function(e,t,i){i?ue.className(e,t):ue.className(e,"",t)},setOrUnsetClassOnlyAfterCheck:function(e,t,i,n){var a=H(e,t);a&&n?q(e,"",t):!a&&i&&q(e,t,"")},hasClass:H,secondsToTime:U,epochToTime:function(e,t,i,n,a){if(e<14e6)return i?U(e,!1,!0):"";var o=new Date(1e3*e+(t?36e5:0));return U(60*o.getUTCHours()*60+60*o.getUTCMinutes()+o.getUTCSeconds(),n,i,a)},callErrorFunction:D,delayedErrorFunction:function(e,t,i,n,a){D(e,t,i,n,a,!0)},parseISODate:function(e){var t=(e=(e+"").replace(/\D/gim," ")).split(/\s+/gim);return Date.UTC(t[0],t[1]-1,t[2],t[3],t[4],t[5])},asyncDelay:function(e,t,i){window.delayedFunctions.push({fn:e,args:t,that:i}),window.postMessage&&window.postMessage("SMP.asyncDelay","*")},holdingImage:function(e,t,i,n,a){var o=null;if(!e)return null;if(e.holdingImage){if(o=e.holdingImage.url,!W.test(o))return null;var r=e.holdingImage.orientation.charAt(0);return"p"!=r&&"s"!=r&&(r="l"),n?j(e.holdingImage,t,i,null,r):"url("+j(e.holdingImage,t,i,null,r)+")"}return e.posterRecipe&&(o=e.posterRecipe),o||(o=e.posterImg),o&&W.test(o)?n?Q(o,t,i,null,null,a).toString():"url("+Q(o,t,i,null,null,a)+")":null},annotateEvent:function(e,t){var i=e.type;if(t.mediaItem){if("playing"==i&&((e=t.mediaItem.annotateEvent(e)).startupTimes={mediationTime:t.mediaItem.mediationTime,startupTime:t.qos.startupTime}),"loadedmetadata"==i){var n=t.mediaConnection;n&&(e.transferFormat=n.format,e.cdn=n.supplier,e.height=t.mediaPlayer.videoHeight,e.width=t.mediaPlayer.videoWidth)}if("timeupdate"==i||"seeked"==i||"seeking"==i){var a=t.timeHelper;e.duration=a.duration,e.currentTime=a.time,t.isLive&&(e.streamStart=a.streamStart,e.latestSeek=a.latestSeek,e.earliestSeek=a.earliestSeek,e.streamEnd=a.streamEnd,e.joinTime=a.joinTime,e.livePoint=e.latestSeek)}}if(ue.eventFieldData[i])for(var o=ue.eventFieldData[i],r=o.length,s=0;s<r;s++){var l=o[s];e[l]=t.mediaPlayer[l]}return"volumechange"==i&&(e.volume=e.muted?0:e.volume),e},deleteCssRules:function(e,t){for(var i=e.cssRules.length-1;i>=0;i--)for(var n=e.cssRules[i].selectorText,a=0;a<t.length;a++)if(n==t[a]){e.deleteRule(i);break}},deleteCssRulesContaining:function(e,t){for(var i=e.cssRules.length-1;i>=0;i--)for(var n=e.cssRules[i].cssText,a=0;a<t.length;a++)if(-1!=n.indexOf(t[a])){e.deleteRule(i);break}},checkCssSupport:function(e,t){if(t in e.style)return!0;t=t.replace(/^[a-z]/,function(e){return e.toUpperCase()});for(var i=["Webkit","Moz"],n=0;n<i.length;n++)if(i[n]+t in e.style)return!0;return!1},applyVendorStyles:function(e,t,i){for(var n=0;n<e.length;n++){var a=e[n];a&&a.style&&(a.style[t]=i,null===i&&a.style.removeProperty&&a.style.removeProperty(t),t=t.replace(/^[a-z]/,function(e){return e.toUpperCase()}),a.style["webkit"+t]=i,a.style["moz"+t]=i,a.style["ms"+t]=i,a.style["o"+t]=i)}},checkForItemsErrors:function(t,i){var n=i.items;if(!n||0===n.length||i.onlyAdverts){e;var a,o=v.NO_ITEMS_IN_PLAYLIST;return K[i.noItemsReason]&&(o=K[i.noItemsReason]),i.originalNoItemsReason&&(a={reportAsWarning:!0}),ue.callErrorFunction(t,o,a),!0}return!1},checkNotAvailableReason:function(e,t){var i=v.CONTENT_NOT_AVAILABLE_UNKNOWN;if(t.result){var n=t.result.reason;K[n]&&(i=K[n],n=null),t.jwtToken&&i==v.CONTENT_NOT_AVAILABLE&&(i=v.CONTENT_NOT_AVAILABLE_TOKEN)}return ue.callErrorFunction(e,i,n,!1,!1),!1},isValidUrl:function(e){for(var t=0;t<window.validDomains.length;t++){var i=new RegExp("^(http[s]{0,1})://([^\\?\\&#:/]+\\."+window.validDomains[t]+")(:([0-9]+))?/","gi");if(e.match(i))return!0}return!1},getMarkerByType:function(e,t,i){var n=[],a=[];if(e){if(t&&t.length>0)for(var o=0;o<e.length;o++)e[o]&&-1==t.indexOf(e[o].type)&&n.push(e[o]);else n=e;for(o=0;o<n.length;o++)n[o]&&-1!=Y[i].indexOf(n[o].type)&&a.push(n[o])}return a},getItemById:function(e,t){if(e&&e.length>0)for(var i=0;i<e.length;i++)if(e[i]._id==t)return e[i];return null},generateSVG:function(e,t,i,n,a){var o=document.createElement("div");return o.className="p_iconHolder",i&&(o.innerHTML=['<svg focusable="false" viewBox="0 0 ',e," ",t,'" class="p_svg ',a||""," ",n||"",'"><use xlink:href="#',i,'"></use></svg>'].join("")),o},getOffset:function(e,t){var i=e.getBoundingClientRect()[t=t||"left"];return te(e)?100*i:i},getOffsets:function(e){var t=e.getBoundingClientRect();return te(e)&&(t.left=100*t.left,t.top=100*t.top,t.height=100*t.height,t.width=100*t.width),t},multiAddEventListener:function(e,t,i,n){for(var a="object"==typeof t?t:t.split(/\s+/g),o=0;o<a.length;o++)e.addEventListener(a[o],i,n)},isKeyboardClick:function(e){return"click"==e.type&&0===e.clientX&&0===e.clientY},getActionType:ie,defineProperties:function(e,t){for(var i in t)t.hasOwnProperty(i)&&Object.defineProperty(e,i,t[i])},isItemAudio:function(e){return e.connections.length>=1&&e.connections[0].mimetype?"audio"===e.connections[0].mimetype.split("/")[0]:"audio"===e.type},stableSort:function(e,t){var i=e.map(function(e,t){return{item:e,position:t}});i.sort(function(e,i){var n=t(e.item,i.item);return 0===n&&(n=e.position-i.position),n});for(var n=0;n<i.length;n++)e[n]=i[n].item;return e},clamp:function(e,t,i){return e<t?t:e>i?i:e},sortByStart:function(e,t){return e.start-t.start},sortSimple:function(e,t){return e-t},UUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*new Date%16|0;return("x"==e?t:3&t|8).toString(16)}).toUpperCase()},doChef:Q,modernChef:j,downAction:function(e,t,i){var n;return i=!!i,window.PointerEvent?e.addEventListener("pointerdown",t,i):(n=function(i){t(i),e.focus(),i.preventDefault()},e.addEventListener("touchstart",n,i),e.addEventListener("mousedown",t,i)),n},removeDownAction:function(e,t,i,n){n=!!n,window.PointerEvent?e.removeEventListener("pointerdown",t,n):(e.removeEventListener("touchstart",i,n),e.removeEventListener("mousedown",t,n))},upAction:function(e,t,i){i=!!i,window.PointerEvent?(e.addEventListener("pointerup",t,i),e.addEventListener("pointercancel",t,i)):(e.addEventListener("touchend",t,i),e.addEventListener("touchcancel",t,i),e.addEventListener("mouseup",t,i))},removeUpAction:function(e,t,i){i=!!i,window.PointerEvent?(e.removeEventListener("pointerup",t,i),e.removeEventListener("pointercancel",t,i)):(e.removeEventListener("touchend",t,i),e.removeEventListener("touchcancel",t,i),e.removeEventListener("mouseup",t,i))},moveAction:function(e,t,i){i=!!i,window.PointerEvent?e.addEventListener("pointermove",t,i):(e.addEventListener("touchmove",t,i),e.addEventListener("mousemove",t,i))},hoverLeaveAction:function(e,t,i){i=!!i,window.PointerEvent?e.addEventListener("pointerleave",function(e){"mouse"==e.pointerType&&t(e)},i):e.addEventListener("mouseleave",t,i)},hoverMoveAction:function(e,t,i){i=!!i,window.PointerEvent?e.addEventListener("pointermove",function(e){"mouse"==e.pointerType&&t(e)},i):e.addEventListener("mousemove",t,i)},buttonAction:function(e,t){ue.downAction(e,t),e.addEventListener("keyup",function(e){var i=e.keyCode;32!=i&&13!=i||t(e)})},getCookie:function(e){e=encodeURIComponent(e);var t=new RegExp(e+"=([^;\\s]*)","i").exec(document.cookie);return t?decodeURIComponent(t[1]):null},setCookie:function(e,t,i){if(ue.allowedToUseCookie(e)||i){var n=new Date;n.setTime(n.getTime()+15552e6*(i?-1:1)),i||(n.setDate(15),n.setHours(12),n.setMinutes(0),n.setSeconds(0));var a=n.toUTCString(),o=location.hostname;-1!==o.indexOf(".bbc.co.uk")&&(o=".bbc.co.uk"),-1!==o.indexOf(".bbc.com")&&(o=".bbc.com");try{document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; expires="+a+"; domain="+o+"; path=/"}catch(r){}}},loadFontFile:function(e,t){new FontFaceObserver(t).load().then(function(){ue.className(document.documentElement,t+"-loaded")},function(){ue.callErrorFunction(e,v.FONT_FAILED,""+t,!1,!0)})},object:function(e){function t(){}return t.prototype=e,new t},noneOrBlock:function(e){return e?"block":"none"},padZeros:function(e,t){for(var i=e+"";i.length<t;)i="0"+i;return i},createSVGElement:function(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg",e);for(var n in t.focusable=!1,t)t.hasOwnProperty(n)&&i.setAttributeNS(null,n,t[n]);return i},hextoRGBA:function(e,t){var i,n,a,o;return"#"==e.charAt(0)&&(e=e.substring(1)),3==e.length?(i=e.substring(0,1)+e.substring(0,1),n=e.substring(1,2)+e.substring(1,2),a=e.substring(2,3)+e.substring(2,3),o=e.substring(3,4)+e.substring(3,4)):(i=e.substring(0,2),n=e.substring(2,4),a=e.substring(4,6),o=e.substring(6,8)),i=parseInt(i,16),n=parseInt(n,16),a=parseInt(a,16),isNaN(t)?"NaN"==(o=(parseInt(o,16)/255).toFixed(2))&&(o="1"):o=t,"rgba("+i+","+n+","+a+","+o+")"},persistSettings:function(t){var i=ue.getCookie("ckps_smpSettings");if(i)try{var n=JSON.parse(i);t=ue.merge(n,t)}catch(ka){e}ue.setCookie("ckps_smpSettings",JSON.stringify(t))},retrieveCookieConfig:function(){var t={ui:{}},i=ue.getCookie("ckps_smpSettings");if(i)try{var n=JSON.parse(i);oe(t.ui,n,"allowAudioControlsToHide"),n.controls&&(t.ui.controls||(t.ui.controls={}),ae(t.ui.controls,n.controls,"timeout"),oe(t.ui.controls,n.controls,"spaceControlsPlayback"),oe(t.ui.controls,n.controls,"experimentalShortcuts"),ae(t.ui.controls,n.controls,"activeStartsAt"),ae(t.ui.controls,n.controls,"chromecastMode")),n.subtitles&&(t.ui.subtitles||(t.ui.subtitles={}),ae(t.ui.subtitles,n.subtitles,"contrast"),ae(t.ui.subtitles,n.subtitles,"sizeAdjustment"),oe(t.ui.subtitles,n.subtitles,"supportLiveSubtitles")),n.quality&&(t.quality=n.quality),t.FDd=n.FDd?parseInt(n.FDd,10):null}catch(ka){e}return t},allowedToUseCookie:function(e){var t=!1,i=!1;0===e.indexOf("ckps_")?t=!0:0===e.indexOf("ckpf_")&&(i=!0);var n=document.cookie.match(/ckns_policy=([0,1])([0,1])([0,1])/i);return!!(n&&"1"===n[2]&&t||n&&"1"===n[3]&&i)},getImgSources:function(e,t){if(!e||"string"!=typeof e)return"";for(var i=t||G,n=[],a=0;a<i.length;a++){var o=G[a]+"x"+z[a];if(t)r=i[a];else var r=i[a]<=1024?i[a]:1536;n.push(e.replace(/[\${]recipe}?/,o).replace(/[\${]width}?/,r)+" "+i[a]+"w")}return n.toString()},getModernSources:function(e){var t=e.url,i=e.orientation.charAt(0),n=[];for(var a in V)if(V.hasOwnProperty(a)){var o=a,r="p"==i?"n":V[o][i];n.push(t.replace(/[\${]recipe}?/,o+"x"+r)+" "+o+"w")}return n.toString()},loadWithRequire:function(e){if(window.require){try{require({paths:window.bbcRequireMap})}catch(t){}e()}else le(e)}};window.Utils=ue;var ce=function(e){var t=this;return t.player=e,t._throttled=!1,t.throttleCount=0,t.lastInterval=ue.now(),t.notThrottledCount=0,setInterval(function(){var e=ue.now(),i=e-t.lastInterval;t.lastInterval=e,i>3e4?(++t.throttleCount>2&&t.setThrottled(!0),t.notThrottledCount=0):t._throttled&&(++t.notThrottledCount>2&&t.setThrottled(!1),t.throttleCount=0)},15e3),t};ce.prototype={setThrottled:function(e){var t=this;t._throttled!=e&&(t._throttled=e,e&&"playing"==t.player.playingState&&t.player.pause())}};var de=-37,pe=1e6;function he(e){return ue.clamp(e,0,1)}function fe(e,t,i){if(i){var n=i.ignoreJoinTime||isNaN(e.joinTime)?e.time:e.joinTime;isNaN(i.accurateStartTime)?i.scheduledStartTime?e.earliestSeek=Math.max(Math.min(n,i.scheduledStartTime),e.streamStart):t.simulcast||(e.earliestSeek=Math.max(e.joinTime,e.streamStart)):(e.accurateStartTime=i.accurateStartTime,e.earliestSeek=Math.max(Math.min(n,i.accurateStartTime),e.streamStart)),isNaN(i.accurateEndTime)?i.scheduledEndTime&&(e.scheduledEndTime=i.scheduledEndTime,e.scheduledEndTime-e.time<28800&&(e.streamEnd=Math.max(i.scheduledEndTime,e.latestSeek))):(e.accurateEndTime=i.accurateEndTime,e.streamEnd=i.accurateEndTime),e.inbandEndTime&&(e.streamEnd=Math.min(e.streamEnd,e.inbandEndTime))}else t.simulcast||(e.earliestSeek=Math.max(e.joinTime,e.streamStart))}var me=function(e){var t=this;return t.player=e,t.reset(),t};me.prototype={reset:function(){var e=this;e.joinTime=NaN,e.streamStart=0,e.latestSeek=0,e.latestAllowableSeekTime=0,e.earliestSeek=0,e.streamEnd=0,e.time=e.player.config.startTime,e.percent=0,e.drawSeekBar=!1,e.duration=NaN,e.rewindWindowLength=0,e.dashTimeDelta=0,e.restartedWebcast=!1,e.startTimeAvailable=!1,e.accurateStartTime=!1,e.accurateEndTime=!1,e.scheduledEndTime=!1,e.availableTime={},e.presentationTimeOffset=0,e.inbandEndTime=null,e.forcedTime=null,e.playbackTimeouts=[]},setAvailableTime:function(e){var t=this;t.availableTime=e||{},t.update(t.player.time,t.player.duration)},timeToString:function(e,t){var i=this,n=i.player.mediaItem,a=e;return isNaN(a)&&(a=i.time),i.player.config.ondemandWebcastData&&i.accurateStartTime&&(a-=i.accurateStartTime),!n||isNaN(a)?t?"--:--":"":n.live?ue.epochToTime(a,i.player.config&&i.player.config.isBSTime,t,!0,!0):ue.secondsToTime(a,!1,t)},getDurationOrEndString:function(){var e=this,t=e.player.mediaItem;if(t){if(!t.live&&e.duration)return ue.secondsToTime(e.duration);if((t.live||e.player.config.ondemandWebcastData)&&(e.accurateEndTime||e.scheduledEndTime&&e.latestSeek<e.scheduledEndTime))return e.timeToString(e.streamEnd)}return""},getTimeString:function(e){var t=this,i=t.player.mediaItem;return t.time<pe&&i&&i.live?"":t.timeToString(e)},getTimeInfoToDisplay:function(e){var t={};return t.duration=this.getDurationOrEndString(),t.currentTime=this.getTimeString(e),t},percentToTimeString:function(e,t){var i=this.percentToTime(e);return this.timeToString(i,t)},unixTimeToStreamTime:function(e){var t=this,i=t.player,n=t.player.mediaItem;if(n&&n.live)if(i.isPlayingDash)"audio"==n.type&&e>pe&&(e-=de);else{if(!t.startTimeAvailable)return e;e>pe&&(e-=n.startTime,"audio"==n.type&&(e-=de))}return e},streamTimeToUnixTime:function(e){var t=this,i=t.player,n=t.player.mediaItem;if(n&&n.live){if(!i.isPlayingDash){if(!t.startTimeAvailable)return e;e<pe&&(e+=n.startTime)}"audio"==n.type&&e>pe&&(e+=de)}return e},timeToPercent:function(e){var t,i=this,n=i.player.mediaItem;if(!n||isNaN(Number(e))||isNaN(i.duration))return 1/0;if(n.live||i.player.config.ondemandWebcastData)if(i.canSeek())t=(e-i.earliestSeek)/i.duration;else if(i.duration>90){var a=NaN;isNaN(i.accurateStartTime)?isNaN(i.scheduledStartTime)||(a=i.scheduledStartTime):a=i.accurateStartTime,isNaN(a)||(t=(e-a)/i.duration)}else t=1;else t=e/i.duration;return he(t)},percentToTime:function(e){var t=this,i=t.player.mediaItem;if(!i)return 0;var n=t.duration*he(e);return(i.live||t.player.config.ondemandWebcastData)&&(n+=t.earliestSeek),n},update:function(e,t){var i=this,n=i.player,a=n.mediaItem,o=n.webcastData;t==1/0&&a&&e>0&&!n.paused&&(a.live=!0);var r=a&&a.live;i.forcedTime&&(e=i.forcedTime);var s=0===n.mediaPlayer.currentTime&&r&&!n.isPlayingDash,l=r&&!n.isPlayingDash&&b.windowsPhone;if(s||l)i.time=0;else{if(isNaN(e)||(i.time=e),a&&(r||i.player.config.ondemandWebcastData))if(n.isPlayingDash)n.dashEvents.dashPlayer&&(n.dashEvents.dashPlayer.currentStart&&n.dashEvents.dashPlayer.currentEnd&&(i.earliestSeek=i.streamStart=i.streamTimeToUnixTime(n.dashEvents.dashPlayer.currentStart)+i.presentationTimeOffset+(a.simulcast?60:0),i.streamEnd=i.latestSeek=Math.max(i.streamTimeToUnixTime(n.dashEvents.dashPlayer.currentEnd||0)+i.presentationTimeOffset-8,isNaN(e)?0:e),isNaN(i.joinTime)&&!isNaN(i.latestSeek)&&e&&(i.joinTime=e)),i.inbandEndTime&&(i.latestSeek=i.streamEnd=i.inbandEndTime),r||(i.latestSeek=i.streamEnd),fe(i,a,o),i.checkSnappedAndUpdate(e));else{var u=n.seekable;i.startTimeAvailable&&u.end!=1/0&&(i.earliestSeek=i.streamStart=i.streamTimeToUnixTime(u.start+60),i.streamEnd=i.latestSeek=i.streamTimeToUnixTime(u.end),isNaN(i.joinTime)&&e>pe&&(i.joinTime=e),fe(i,a,o),i.checkSnappedAndUpdate(e)),i.duration==1/0&&(i.duration=0)}else t=i.checkDurationAgainstSeekableEnd(t,n.seekable),i.duration=t,i.streamEnd=i.latestSeek=t,i.percent=he(i.time/i.duration);var c=i.availableTime.end;c&&c>i.streamStart&&(i.latestSeek=Math.min(Math.max(c,i.time),i.streamEnd)),i.latestAllowableSeekTime=Math.min(i.latestSeek,i.streamEnd);var d=i.canSeek();i.drawSeekBar!=d&&(i.drawSeekBar=d,a&&r&&i.player.delayedDispatch({type:"canPauseChange",canPause:d}),i.player.ui.checkIfCanDisplaySeekBar());for(var p=0;p<i.playbackTimeouts.length;){var h=i.playbackTimeouts[p];if(i.time>=h.time&&(h.seekover||e<h.time+.33)){var f=h.callback;i.playbackTimeouts.splice(p,1),f()}else p++}}},checkDurationAgainstSeekableEnd:function(e,t){return t&&e&&Math.abs(e-t.end)<=.1?t.end:e},checkSnappedAndUpdate:function(e){var t=this,i=t.latestSeek-e,n=t.player.mediaItem;n&&!n.live||i<20&&(t.streamEnd==t.latestSeek&&(t.streamEnd=e),t.latestSeek=e),t.rewindWindowLength=t.latestSeek-t.streamStart,t.duration=t.streamEnd-t.earliestSeek,isNaN(e)?t.percent=0:t.percent=he((e-t.earliestSeek)/t.duration)},getLatestAllowableSeekPercent:function(){var e=this.latestAllowableSeekTime;return this.timeToPercent(e)},checkIfTimeIsAvailable:function(e,t){var i=this;if(isNaN(i.earliestSeek)||isNaN(i.latestAllowableSeekTime)||0===i.latestAllowableSeekTime)return e;var n=i.earliestSeek-(t?2:0),a=i.streamEnd+(t?.5:0);return ue.clamp(e,n,a)},hasRewindWindow:function(){var e=this.player.mediaItem;return e&&e.live&&this.rewindWindowLength>60},canSeek:function(){var e=this,t=e.player,i=e.player.mediaItem;return i&&!i.live||i&&i.live&&!b.inaccurateRewindWindow&&e.latestSeek-Math.min(e.streamStart,e.earliestSeek)>90&&t.playlist.liveRewind&&t.ui.config.controls.enableLiveRewind&&(!b.consideredForMobileLiveRewind||t.config.supportLiveRewindOnMobile)},setStartTimeAvailable:function(t){var i=this;if(i.startTimeAvailable!=t){i.startTimeAvailable=t;var n=i.player;e,(n.needHlsStartTime&&t||n.isUsingGetStartDate&&t)&&(n.timeHelper.update(n.time,n.duration),n.needHlsStartTime=!1,n.waitingForStartTime&&i.canSeek()&&(n.time=n.waitingForStartTime,n.waitingForStartTime=0))}},setPresentationTimeOffset:function(e){this.presentationTimeOffset=e||0},setInbandEndTime:function(e){this.inbandEndTime=e+this.presentationTimeOffset},setPlaybackTimeout:function(e,t,i){var n=this,a={callback:e,time:t,seekover:!!i},o=-1;return"function"!=typeof a.callback||isNaN(a.time)||(o=n.playbackTimeouts.length>0?n.playbackTimeouts[n.playbackTimeouts.length-1].id+1:1,a.id=o,n.playbackTimeouts.push(a)),o},clearPlaybackTimeout:function(e){this.playbackTimeouts=this.playbackTimeouts.filter(function(t){return t.id!=e})},secondsToHMS:function(e){var t=e<0?"-":"";e=Math.abs(e);var i=Math.floor(e/3600);e%=3600;var n=Math.floor(e/60),a=Math.round(e%60);return t+=i?i+":"+ue.padZeros(n,2)+":"+ue.padZeros(a,2):ue.padZeros(n,2)+":"+ue.padZeros(a,2)},taiToUtc:function(e){return e+de},utcToTai:function(e){return e-de}};var ye,ge,ve,be,Ce,Se,Te,Pe,ke,we,Ee,_e,Ie,Ae,Ne,Le=null,Be=[];function xe(e){if((e.target==Le.mediaContainer||e.target==Le.mediaPlayer)&&e.changedTouches){var t=e.changedTouches[0].pageX/window.innerWidth,i=e.changedTouches[0].pageY/window.innerHeight;t<.25&&1,t>.75&&2,i<.25&&4,i>.66&&8}}function Oe(e){if(e||"block"==Se.style.display){Ce.textContent=Ce.title=Le.build;var t=function(){var e=Le.mediaItem&&Le.mediaItem.identifier?Le.mediaItem.identifier:"unknown",t="",i=Le.mediaConnection;if(i){var n=ye||"unknown bitrate";"flac"==ge&&(n="lossless");var a=ve||(i.format?i.format:"unknown format"),o=i.supplier?i.supplier:"unknown cdn";return"video"==Le.elType&&(t=" | "+(Le.mediaPlayer&&Le.mediaPlayer.videoWidth&&Le.mediaPlayer.videoHeight?Le.mediaPlayer.videoWidth+"x"+Le.mediaPlayer.videoHeight:"unknown dimensions")),n+" | "+a+" ("+o+")\n"+e+t}return e}()+"\n ";try{Te.firstChild.textContent=t.split("\n")[0],Te.lastChild.textContent=t.split("\n")[1]}catch(a){Te.textContent=t}Te.title=t,Pe.textContent=Pe.title=be?"Error: "+be.code+(be.extra?", "+be.extra:""):"";for(var i=Se.getElementsByTagName("li"),n=0;n<i.length;n++)i[n].style.display=""===i[n].textContent?"none":""}}function Re(e){Oe(!0),Se.style.display="block";var t=Utils.getOffsets(Le.mediaContainer),i=t.left+t.width,n=t.top+t.height,a="touchstart"==e.type?e.targetTouches[0].pageX:e.pageX,o="touchstart"==e.type?e.targetTouches[0].pageY:e.pageY,r=n-o>Utils.getOffset(Se,"height"),s=i-a>Utils.getOffset(Se,"width");Se.style.left=s?a+"px":"auto",Se.style.right=s?"auto":"0",Se.style.top=r?o+"px":"auto",Se.style.bottom=r?"auto":"0"}function De(e){"keydown"===e.type&&27!==e.keyCode||Me()}function Me(){document.documentElement.removeEventListener("click",De),document.documentElement.removeEventListener("keydown",De),Se.style.display="none"}function Fe(e){var t=document.createElement("li");Se.appendChild(t);var i=document.createElement("a");return i.className="p_contextMenuItem",e&&i.addEventListener("click",e),t.appendChild(i),i}function He(){(we=document.createElement("div")).className="p_debugConsoleLog",document.getElementById("mediaContainer").appendChild(we),(Ae=Ie=document.createElement("ul")).className="p_consoleLogList",Ae.id="p_consoleList",we.appendChild(Ae),Ie.addEventListener("scroll",Ve),Ie.scrollTop=Ie.scrollHeight}function qe(){Ee=!0,we.style.display="block"}function Ue(e){we||He(),Ee?(we.style.display="none",document.documentElement.removeEventListener("scroll",Ve),Ee=!1):(qe(),Me()),e.preventDefault()}function Ve(){Ne=Ie.scrollTop}function We(e){var t=Le.dashEvents;t.dashJsDebug=!t.dashJsDebug,ke.textContent="Dash logging "+(t.dashJsDebug?String.fromCharCode(10003):""),e.preventDefault(),Me()}function Ge(e){console.log(Le.build),console.log(Le.mediaConnection),console.log(Le.mediaItem),console.log(Le.playlist),console.log(Le.config),console.log(Le.ui.config),console.log(Le.ui.markerData),console.log(navigator.userAgent),e.preventDefault(),Me()}function ze(e){var t="Error code : "+be.code+"\nSeverity : "+be.severity+"\nDescription : "+be.description+"\nResponsibility : "+be.responsibility+"\nDetail : "+be.detail;console.log(t),e.preventDefault(),Me()}function je(e){console.log(Te.textContent),e.preventDefault(),Me()}function Qe(e){e.targetTouches.length>2&&Re(e)}function Ke(){Se&&"none"!=Se.style.display?Me():(Re(event),event.preventDefault())}var Ye={player:function(e){Le=e;var t=e.mediaContainer;(Se=document.createElement("ul")).style.display="none",Se.className="p_contextMenu",(Ce=Fe(Ge)).textContent=Ce.title=Le.build,(Te=Fe(je)).innerHTML=" <br> ",Pe=Fe(ze),ke=Fe(We),Fe(Ue),Le.mediaContainer.appendChild(Se),Utils.multiAddEventListener(document.documentElement,"click keydown",De,!0),Utils.multiAddEventListener(t,"touchend mouseup",xe),t.addEventListener("contextmenu",Ke),t.addEventListener("touchstart",Qe)},addContextMenuItem:function(e,t,i){var n="item_"+e;Xe[n]||(Xe[n]=Fe(i)),Xe[n].textContent=t},updateContextMenuItem:function(e,t){var i="item_"+e;Xe[i]&&(Xe[i].textContent=t)},eventCallbacks:{mediaItemChanged:function(){ye=null,ge=null,ve=null,Oe(),Be=[]},loadedmetadata:function(e){var t=e.bitrate,i=e.codecs,n=e.transferFormat;t&&(ye=t+"kbps"),i&&(ge=i),n&&(ve=n),Oe()},info:function(e){e.currentBitsPerSecond&&(ye=e.currentBitsPerSecond+"kbps")},error:function(e){4205!=e.code&&(be&&5e3==e.code?be.code=be.code+" ("+e.code+")":be=e,Be.push(e.code),Oe())},playlistLoading:function(){be=null,Oe()}}},Xe={};window.DebugConsole=Ye;var $e="SonarPauseEvent";var Je={mediaType:"-",groupId:"unknown",identifier:"unknown"};var Ze,et,tt=function(e){return this.player=e,this.eventCallbacks=function(e){return{blockUnwanted:!0,tryingToPlay:function(t){t._.shouldReport&&(e.hasInited||(e.hasInited=!0,e.updateStats("SonarInitiatedEvent")))},playing:function(t){t._.shouldReport&&(e.hasPlayed?e.dispatchResume&&(e.updateStats("SonarResumeEvent"),e.dispatchResume=!1):(e.hasPlayed=!0,e.updateStats("SonarPlayEvent")))},waiting:function(t){t._.shouldReport&&(e.dispatchResume=!0)},ended:function(){e.hasPlayed=!1,e.dispatchResume=!1},playlistLoaded:function(){e.hasInited=!1,e.hasPlayed=!1,e.dispatchResume=!1},pause:function(t){e.dispatchResume=!1,e.hasPlayed=!1,t._.shouldReport&&!t._.mediaPlayer.ended&&e.updateStats($e)},timeupdate:function(){e.lastTime=e.player.time},seeking:function(){e.updateStats("SonarSeekingEvent",{before:e.lastTime})},seeked:function(){e.updateStats("SonarSeekEvent")},playlistEnded:function(){e.dispatchResume=!1,e.updateStats("SonarEndEvent")},playerDisconnected:function(t){e.dispatchResume=!1,t._.dispatch({type:$e})},playerDestroying:function(t){t._.dispatch({type:$e}),e.dispatchResume=!1}}}(this),this.hasPlayed=!1,this.hasInited=!1,this};tt.prototype={updateStats:function(e,t){var i=this.player,n={type:e,mediaItem:i.mediaItem||Je};if(t)for(var a in t)t.hasOwnProperty(a)&&(n[a]=t[a]);i.dispatch(n)}},window.PluginUtilities=((Ze=function(e,t,i){return this.url=t,this.playerInterface=e,this.getPluginList=function(){return i.getPluginList()},this}).prototype={loadCSS:function(e,t){if(e){var i=this.playerInterface,n=this.relativeUrl(e),a=document.getElementsByTagName("head")[0],o=document.createElement("link");o.type="text/css",o.rel="stylesheet",o.href=n,o.addEventListener("load",function(){i.dispatchToPlugins({type:"cssLoaded",path:e,url:n,id:t})}),o.addEventListener("error",function(){i.dispatchToPlugins({type:"cssLoadFailed",path:e,url:n,id:t})}),a.appendChild(o)}},relativeUrl:function(e){if(!e.indexOf)return e;if(0!==e.indexOf("http:")&&0!==e.indexOf("https:")){var t=this.url;return-1!=t.indexOf("?")&&(t=t.substring(0,t.indexOf("?"))),t.substring(0,t.lastIndexOf("/"))+"/"+e}return e},register:null},Ze),window.DataStore=((et=function(){}).prototype={set:function(e){e&&"string"==typeof e.name&&""!==e.name&&"get"!=e.name&&"set"!=e.name&&(this[e.name]=e.data,"adsPlaying"==e.name&&(e.data?Utils.className(document.body,"outOfControl"):Utils.className(document.body,"","outOfControl")))},get:function(e){return this[e]}},et),window.PlayerInterface=function(){var t,i;var n,a,o=function(e,n){t=e,i=n;var a=this;a.listenerObjects=[];var o=document.createElement("div");return o.id="p_pluginContainer",o.className="notInteractiveContent",o.style.width=window.innerWidth+"px",o.style.height=window.innerHeight+"px",e.mediaContainer.appendChild(o),e.ui.pluginContainer=o,this.container=o,e.requestAllEvents(function(e){var t={target:a};for(var n in e.properties)"type"!=n&&"target"!=n&&(t[n]=e.properties[n]);for(n in e)"_"!=n&&"target"!=n&&"properties"!=n&&(t[n]=e[n]);"setData"==e.type&&i.set(e.data),a.dispatchToPlugins(t),"setData"==e.type&&(t.type="pluginData",a.dispatchToPlugins(t))}),Utils.defineProperties(a,function(e,t,i){return{listenerObject:{get:function(){},set:function(t){e.listenerObjects.push(t)}},datastore:{get:function(){return i}},settings:{get:function(){return t.config},set:function(e){t.updateConfig(e)}},uiInfo:{get:function(){return t.ui.UIinfoObject}},currentTime:{get:function(){return t.time},set:function(e){t.time=e}},canPause:{get:function(){return t.timeHelper.canSeek()}},currentItem:{get:function(){return t.mediaItem}},currentChapter:{get:function(){return t.ui.markersUI.getCurrentChapter()}},playlist:{get:function(){return!t.playlist||t.playlist.loading?null:t.playlist}},muted:{get:function(){return t.muted},set:function(e){t.muted=e}},volume:{get:function(){return t.volume},set:function(e){t.volume=e}},playbackRate:{get:function(){return t.playbackRate},set:function(e){t.playbackRate=e}},audioTrack:{get:function(){if(t.dashEvents)return t.dashEvents.audioTrack},set:function(e){t.dashEvents&&(t.dashEvents.audioTrack=e)}},audioTracks:{get:function(){if(t.dashEvents)return t.dashEvents.audioTracks}},paused:{get:function(){return t.paused}},duration:{get:function(){return t.duration}},hasGuidancePassed:{get:function(){return t.hasGuidancePassed}},canShowControls:{get:function(){return t.ui.active&&!t.ui.inPrePlayState}},inError:{get:function(){return t.ui.inError}},hasPrevious:{get:function(){return t.hasPrevious}},hasNext:{get:function(){return t.hasNext}},isFromIdent:{get:function(){return"ident"==t.mediaItem.kind}},pluginManagerFailedArray:{get:function(){return at.failedArray}}}}(a,e,n)),a};function r(e){t.volume=e.target.volume}function s(){a&&(a.removeEventListener("volumechange",r),t.mediaContainer.removeChild(a),a=null)}function l(){t.outOfControl&&(t.resetAfterOutOfControl&&(b.supportsMultipleMediaElements?(s(),t.mediaPlayer.style.left="0px"):t.isPlayingDash?t.dashEvents.reattachView():n&&(t.mediaPlayer.src=n,t.mediaPlayer.load(),n=null)),t.dispatch({type:"regainingControl"}),Utils.className(document.body,"","outOfControl"),t.outOfControl=!1)}function u(e){return function(i){var o;return i?t.els[e]:(t.outOfControl||(b.supportsMultipleMediaElements?(t.hidePlayer(e,!0),s(),(a=o=document.createElement(e)).style.width="100%",a.style.height="100%",a.addEventListener("volumechange",r),t.mediaContainer.insertBefore(a,t.els[e])):(t.isPlayingDash?t.dashEvents.detachView():(t.selectMediaPlayer(e),n=t.mediaPlayer.src),o=t.mediaPlayer),t.dispatch({type:"losingControl"}),Utils.className(document.body,"outOfControl"),t.outOfControl=!0,t.tryingToPlay=!1,t.resetAfterOutOfControl=!0),o)}}return o.prototype={callbacks:{},addEventListener:function(e,t){this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t)},removeEventListener:function(e,t){if(this.callbacks[e])for(var i=this.callbacks[e].length-1;i>=0;i--)this.callbacks[e][i]==t&&this.callbacks[e].splice(i,1)},dispatchEvent:function(e){t.dispatch(e)},dispatchToPlugins:function(e){for(var t=e.type,i=this.listenerObjects,n=0;n<i.length;n++){var a=i[n];if(a&&a[t])try{a[t](e)}catch(r){console.error("%cError in a plugin with event "+t+" "+r.message,"color:red;background-color:#ccc")}}var o=this.callbacks[t];if(o)for(n=o.length-1;n>=0;n--)try{o[n](e)}catch(r){console.error("%cError in a plugin with event "+t+" "+r.message,"color:red;background-color:#ccc")}},updateUiConfig:function(e,i){t.ui.updateConfig(e),i&&t.ui.resetIdleTimeout()},loadPlaylist:function(e,i,n){var a={};!0===i||!1===i?a={autoplay:i,overideHoldingImage:n}:"object"==typeof i&&(a=i),"string"!=typeof e?a.playlistObject=e:a.playlist=e,t.api.loadPlaylist2(a,!1)},setPreviousPlaylist:function(e){t.api.setPreviousPlaylist(e)},queuePlaylist:function(e){t.api.queuePlaylist(e)},readyPlaylist:function(e){return t.api.readyPlaylist(e)},loadPlaylistFromCollection:function(e,i){return t.api.loadPlaylistFromCollection(e,i)},preloadFromCollection:function(e){return t.api.preloadFromCollection(e)},setPoster:function(e){t.api.setPoster(e)},setData:function(e){t.api.setData(e,!0)},captureIntent:function(e){t.api.captureIntent(e)},play:function(e){t.requestGuidanceAndPlay(!0===e)},pauseAt:function(e){t.api.pauseAt(e)},stop:function(){t.api.stop()},suspend:function(){t.api.suspend()},showSubtitles:function(e){t.api.showSubtitles(e)},trackAction:function(e,i,n){t.trackAction(e,i,n)},log:function(t){e},pause:function(){t.pause()},previous:function(e){t.previous(e)},next:function(e){t.next(e)},toggleFullscreen:function(){t.toggleFullscreen()},addContextMenuItem:function(e,t,i){Ye.addContextMenuItem(e,t,i)},updateContextMenuItem:function(e,t){Ye.updateContextMenuItem(e,t)},focusPlayPauseButton:function(){t.ui.focusPlayPauseButton()},requestBackgroundContainer:function(){if(!this.backgroundContainer){var e=document.createElement("div");e.id="p_pluginBackgroundContainer",e.className="notInteractiveContent",e.style.width=window.innerWidth+"px",e.style.height=window.innerHeight+"px",t.mediaContainer.insertBefore(e,t.mediaContainer.firstChild),this.backgroundContainer=e,Utils.className(document.body,"pluginBackgroundIncluded")}return this.backgroundContainer},requestVideoElement:u("video"),requestAudioElement:u("audio"),releaseVideoElement:l,releaseAudioElement:l},o}();function it(){if(at.loadingCount--,at.loadingCount<=0){try{mt.collectPluginTiming()}catch(t){e}at.waitingOnPluginLoad&&(at.waitingOnPluginLoad=!1,at.playlistLoadedEvent&&at.player.loadPluginCompleted(at.playlistLoadedEvent))}}function nt(e,t,i,n){return function(){var a=v.getError(t);a.nonPlayer=!0,a.msg=i,a.extra=n,e.dispatch(a)}}var at={pluginArray:[],urls:{},playerInterface:null,mediaPlayer:null,loadPlugin:function(e,t,i){if(at.playerInterface.datastore.set(t),!at.urls[e]){var n;at.waitingOnPluginLoad=i,at.loadingCount++,at.urls[e]=!0;var a=at.pluginArray,o=at.player,r=new window.PluginUtilities(at.playerInterface,e,at),s=setTimeout(function(){at.failedArray.push(e),it(),s=setTimeout(nt(o,v.PLUGIN_LOAD_TIMEOUT,"",e),5e4)},4e3),l=function(){clearTimeout(s);var i=e;try{r.register=function(e){i=e.name},n=runPlugin(r,t)}catch(u){console.error("%cError in a plugin initialise "+u.message,"color:red;background-color:#ccc")}if(n){var l={name:i,plugin:n,utils:r};a.push(l),r.register=function(e){l.name=e.name};try{n.pluginInitialisation(r)}catch(u){return console.error("%cError in a plugin initialise "+u.message,"color:red;background-color:#ccc"),o.dispatch({type:"pluginInitialisationFailed",properties:{url:e}}),nt(o,v.PLUGIN_INITIALISE_FAIL,u.message,e)(),void(-1===at.failedArray.indexOf(e)&&it())}o.dispatch({type:"pluginLoaded",url:e,name:i}),o.trackAction("plugin_manager","plugin_loaded",{plugin_url:e,is_background:!0})}else o.dispatch({type:"pluginLoadFailed",properties:{url:e}}),nt(o,v.PLUGIN_LOAD_FAIL,"",e)();-1===at.failedArray.indexOf(e)&&it()};Utils.loadWithRequire(function(){require([e],l)})}},init:function(e){at.player=e,at.playerInterface=new window.PlayerInterface(e,new window.DataStore),at.loadingCount=0,at.failedArray=[]},resizeFix:function(){var e=at.playerInterface.container;e.style.width="0px",e.style.height="0px";var t=at.playerInterface.backgroundContainer;t&&(t.style.width="0px",t.style.height="0px")},resizeFixEnd:function(){var e=at.playerInterface.container;e.style.width=window.innerWidth+"px",e.style.height=window.innerHeight+"px";var t=at.playerInterface.backgroundContainer;t&&(t.style.width=window.innerWidth+"px",t.style.height=window.innerHeight+"px")},resizeFixComplete:function(){at.playerInterface.dispatchToPlugins({type:"resize",target:at.player})},isPluginLoading:function(){return!!at.playerInterface&&at.waitingOnPluginLoad},getPluginList:function(){return at.pluginArray}},ot=window.PluginManager=at,rt=function(e){var t=this;this.player=e,this._exitTime=0,this._duration=0,this._currentTime=0,this._paused=!0,this._ended=!1,ue.defineProperties(this,{duration:{get:function(){return t._duration},set:function(){}},currentTime:{get:function(){return t._currentTime},set:function(e){t.player.dispatch({type:"ccSeek",data:{seekTime:e}})}},paused:{get:function(){return t._paused},set:function(){}},ended:{get:function(){return t._ended},set:function(){}},volume:{get:function(){return t._volume},set:function(e){t.player.dispatch({type:"ccVolume",data:{volume:e}})}},muted:{get:function(){return t._muted},set:function(e){e=!!e,t.player.dispatch({type:"ccMuted",data:{muted:e}})}},playbackRate:{get:function(){return 1},set:function(){}}}),this.readyState=void 0,this.style={},this.played=void 0};rt.prototype={play:function(){},pause:function(){this.player.dispatch({type:"ccPause"})},load:function(){},_setCurrentTime:function(e){e>0&&(this._exitTime=e),this._currentTime=e,this.player.dispatch({type:"timeupdate"})},_setDuration:function(e){this._duration=e,this.player.dispatch({type:"durationchange"})},_setPaused:function(e){this._paused=!!e,this._paused?this.player.dispatch({type:"pause"}):(this.player.dispatch({type:"play"}),this.player.dispatch({type:"playing"}))},_setEnded:function(e){this._ended=!!e,this._exitTime=0,this._ended&&this.player.dispatch({type:"ended"})},_setVolume:function(e){this._volume=e,this.player._volume=e,this.player.dispatch({type:"volumechange"})},_setMuted:function(e){this._muted=e,this.player._muted=e,this.player.dispatch({type:"volumechange"})}};var st=function(e){var t=this;return t.state=0,t.interactingWithChromecast=!1,t.player=e,t.chromecastPlayer=new rt(e),t.deviceName=null,t.loadingMedia=!1,ue.defineProperties(t,{isCasting:{get:function(){return t.state>=st.State.CASTING},set:function(){}}}),t};st.State={NOT_AVAILABLE:1,AVAILABLE:2,SELECT_DEVICE:3,CONNECTING:4,CONNECTED:5,CASTING:6},st.prototype={handleEventFromBump:function(e){if(e.event){var t=e.event.toLowerCase();if("requestfailed"===t&&(this.interactingWithChromecast=!1,this.player.dispatch({type:"ccRequestFailed"})),"caststate"===t&&(e.deviceName?this.deviceName=e.deviceName:this.deviceName=null,this.castStateFromReceiver(e.value)),"loadedmedia"===t&&this.loadedMedia(e),"timechange"===t&&this.chromecastPlayer&&this.chromecastPlayer._setCurrentTime(e.time),"durationchanged"===t&&this.chromecastPlayer&&this.chromecastPlayer._setDuration(e.duration),"ispausedchanged"===t&&this.chromecastPlayer&&this.chromecastPlayer._setPaused(e.ispaused),"ismedialoadedchanged"===t&&(this.isMediaLoaded=e.ismedialoaded),"ended"===t&&this.chromecastPlayer&&this.chromecastPlayer._setEnded(!0),"notcasting"===t&&this.notCasting(e),"disconnect"===t&&this.disconnect(),"subson"===t&&(this.player.Subtitles.showingSubs&&!e.on&&this.player.Subtitles.chromecastSubsOff(),!this.player.Subtitles.showingSubs&&e.on&&this.player.Subtitles.chromecastSubsOn()),"volumechanged"===t&&this.chromecastPlayer._setVolume(e.volume),"mutedchanged"===t&&this.chromecastPlayer._setMuted(e.muted),"playerstatechanged"===t)switch(e.state){case"IDLE":case"PAUSED":this.chromecastPlayer._setPaused(!0);break;case"PLAYING":this.chromecastPlayer._setPaused(!1);break;case"BUFFERING":this.player.dispatch({type:"waiting"})}}},toggle:function(){this.isConnected?this.player.dispatch({type:"ccRequestSession"}):this.loadMedia(),this.player.dispatch({type:"chromecastToggle"})},setChromecastState:function(e){this.state!=e&&(this.state=e,this.player.dispatch({type:"chromecastStateChange"}))},loadMedia:function(){this.loadingMedia=!0,!this.player.mediaPlayer||this.player.mediaPlayer instanceof rt||this.player.mediaPlayer.pause(),this.state<st.State.SELECT_DEVICE&&this.setChromecastState(st.State.SELECT_DEVICE),this.interactingWithChromecast||(this.interactingWithChromecast=!0,this.player.dispatch({type:"interactingWithChromecast"}));var e=this.player.mediaItem;e.isProgramme?e&&e.identifier&&this.player.delayedDispatch({type:"ccLoadMedia"}):this.player.next(!1)},castStateFromReceiver:function(e){switch(e){case"no_devices":this.isConnected=!1,this.setChromecastState(st.State.NOT_AVAILABLE);break;case"not_connected":this.isConnected=!1,this.setChromecastState(st.State.AVAILABLE);break;case"connecting":this.isConnected=!1,this.setChromecastState(st.State.CONNECTING);break;case"connected":this.isConnected=!0,this.setChromecastState(st.State.CONNECTED)}},loadedMedia:function(e){this.loadingMedia=!1,this.player.mediaPlayer instanceof rt||this.player.dispatch({type:"outPlayerPlaybackSwitch"}),this.isMediaLoaded=!0,this.hasSubs=e.hasSubs,this.setChromecastState(st.State.CASTING),this.switchToChromecastPlayer(),this.chromecastPlayer._setDuration(e.duration),this.chromecastPlayer._setCurrentTime(e.currentTime),this.chromecastPlayer._setPaused(e.isPaused),this.player.Subtitles.showingSubs&&this.player.dispatch({type:"ccSubsOn"})},notCasting:function(e){this.castStateFromReceiver(e.state),this.player.dispatch({type:"ccNotCasting"}),this.chromecastPlayer&&this.chromecastPlayer._setPaused(!0)},disconnect:function(){this.loadingMedia=!1,this.interactingWithChromecast=!1,this.player.dispatch({type:"ccDisconnect"}),this.chromecastPlayer&&this.chromecastPlayer._setPaused(!0),this.player.reset(),this.chromecastPlayer&&(this.player.config.startTime=this.chromecastPlayer._exitTime,this.player.waitingForStartTime=this.chromecastPlayer._exitTime,this.player.mediaItem&&(this.player.mediaItem.playStartTime=this.chromecastPlayer._exitTime)),this.player.mediaItemIndex--,this.player.cueNextMediaItem(!0)},switchToChromecastPlayer:function(){this.player.timeHelper.reset(),this.player.isPlayingDash=!1,this.chromecastPlayer=this.player.mediaPlayer=new rt(this.player)},play:function(){this.player.dispatch({type:"ccPlay"})}};var lt,ut="https://r.bbci.co.uk/e",ct="",dt=/\W+/gim,pt=0,ht=0,ft={_1061:97,_2210:101};var mt=function(){e};mt.params={},mt.init=function(e,t){mt.params={},lt=e,mt.ID=ue.UUID(),ct=e.build,t&&""!==t&&(ut=t.replace(/\/*$/g,""))},mt.resetID=function(){mt.ID=ue.UUID(),pt=0};var yt=0!==(location.href+"").indexOf("file:");function gt(e){var t=e.toLowerCase().replace("www.bbc.co",""),i=["no","host"];if(t.indexOf(":")>-1){var n=(t=t.substr(t.indexOf(":")+1)).match(/([\.a-z0-9\-]+)\/(.*)/),a=n[1],o=n[2].split("?")[0].split("#")[0];o=o.replace(/[^a-z0-9\-\/]/g,""),(i=a.split(".").concat(o.split(/\/+/))).filter&&(i=i.filter(function(e){return e.length>0}))}"iplayer"==i[1]&&i.splice(0,1);for(var r=i.join("_");r.length>30&&i.length>3;)i.splice(1,1),r=i.join("_");return r}function vt(e,t){if(e.getEntriesByName){var i=e.getEntriesByName(t);if(i)return i[0]}}function bt(e,t,i){var n=vt(e,t);return n?(n.startTime-i).toFixed(0):"~"}var Ct=[];function St(e){}function Tt(e,t,i,n,a){var o=[mt.ID,ht++];i?o.push(i):(i="document"!=e.name?e.name:n,o.push(gt(i)));var r=e.domainLookupEnd-e.domainLookupStart;o.push(r.toFixed(0));var s=e.connectEnd-e.connectStart;o.push(s.toFixed(0)),e.secureConnectionStart?(s=e.connectEnd-e.secureConnectionStart,o.push(s.toFixed(0))):o.push("~");var l=e.responseStart-e.requestStart;if(o.push(l.toFixed(0)),l=e.responseEnd-(e.responseStart>0?e.responseStart:e.startTime),o.push(l.toFixed(0)),"navigation"==e.entryType){o.push(e.type);var u=e.domInteractive-e.startTime;if(o.push(u.toFixed(0)),0!==e.domComplete){var c=e.domComplete-e.startTime;o.push(c.toFixed(0))}else o.push("~");if(t){var d=t.startTime-e.startTime;o.push(d.toFixed(0))}else if(0!==e.loadEventEnd){var p=e.loadEventEnd-e.startTime;o.push(p.toFixed(0))}else o.push("~");var h="~",f="~";if(a&&a.length)for(var m=0;m<a.length;m++){var y=a[m];"first-paint"==y.name&&(h=y.startTime.toFixed(0)),"first-contentful-paint"==y.name&&(f=y.startTime.toFixed(0))}o.push(h,f)}return o}function Pt(e,t,i){var n=vt(e,location.protocol+"//imasdk.googleapis.com/js/sdkloader/ima3.js");if(n){var a=Tt(n);ht--;for(var o=2;o<a.length;o++)t.push(a[o])}t.push("ad"),t.push(bt(e,"ad-plugin-init",i)),t.push(bt(e,"ad-sdk-load",i)),t.push(bt(e,"ad-sdk-loaded",i))}function kt(e,t){pt++;var i,n,a=[];e?a.push(ut.replace(/e$/,e)):a.push(ut),a.push("av"),a.push("0"),a.push("-"),a.push("smpj"),a.push("2.1.0"),a.push(yt?"smphtml5":"smphtml5offline"),a.push(ct),a.push(mt.ID),a.push(pt),a.push((i=lt.config,(n=i.counterName)&&"smp.player.page"!=n||i.embedPageURL&&(n=gt(i.embedPageURL)),(n+"").replace(/[^a-z0-9\-\._]*/gi,"")));var o=lt.mediaConnection||{},r=o.supplier||"-",s=o.format||"-";a.push(r),a.push(s),a.push(lt.elType);var l=lt.mediaItem?lt.mediaItem.live?"live":"ondemand":"-";a.push(l),a.push(function(e){var t=(e.config.mediatorHref+"").match(/mediaset\/([^/]+)\//);return t?t[1]:"-"}(lt));var u=lt.mediaItem?lt.mediaItem.identifier:"-";return a.push(u||"-"),t||(a=a.concat(lt.qos.getInfoData())),a}function wt(e,t){t&&navigator.sendBeacon&&navigator.sendBeacon(e,"")||((new Image).src=e)}mt.sendTimingInfo=function(){mt.delayedTimingFn&&(mt.delayedTimingFn(),mt.delayedTimingFn=null);for(var e=0;e<Ct.length;e++)St(Ct[e]);Ct=[]},mt.collectPluginTiming=function(){for(var e in ot.urls)if(ot.urls.hasOwnProperty(e)){0===e.indexOf("//")&&(e=location.protocol+e);var t=window.performance;if(t){var i=vt(t,e);if(i){var n=Tt(i);e.indexOf("dfpAds")>0&&(mt.hasAds=!0,mt.delayedTimingFn=Pt(t,n,i.startTime)),Ct.push(n)}}}},mt.collectTiming=function(){if(0===Ct.length)try{var t=window.performance;if(t){if(t.mark)var i=t.mark("initialised");for(var n=t.getEntriesByType("navigation"),a=0;a<n.length;a++){e;var o=null;0===a&&(o=t.getEntriesByType("paint"));var r=Tt(n[a],i,null,location.origin+location.pathname,o);Ct.push(r)}try{var s=parent.performance.getEntriesByType("navigation");for(a=0;a<n.length;a++)o=null,0===a&&(o=parent.performance.getEntriesByType("paint")),Ct.push(Tt(s[a],null,null,parent.location.origin+parent.location.pathname,o));var l=parent.performance.getEntriesByType("resource");for(a=0;a<l.length;a++)if(l[a].name.indexOf("/bump-")>0){e;var u=Tt(l[a]);ht--;for(var c=2;c<u.length;c++)r.push(u[c])}}catch(d){e}}}catch(d){e}},mt.trackQOSInfo=function(e,t){if(this.shouldSendData()&&e){var i=kt("i");i.push(t),i.push(e),wt(i.join("/"))}},mt.trackPlayIntent=function(){if(this.shouldSendData()){var t=kt("p",!0);e,wt(t.join("/"))}},mt.trackPlaySuccess=function(){if(this.shouldSendData()){var t=kt("ps",!0);t.push(lt.mediaItem.mediationTime?lt.qos.player.mediaItem.mediationTime.toFixed(0):"~"),t.push(lt.qos.startupTime?lt.qos.startupTime.toFixed(0):"~");var i=(lt.mediaConnection||{}).encoding||"-";t.push(i);var n=window.performance;try{if(mt.hasAds&&n){var a=vt(n,"ad-request");a&&(t.push("ad"),t.push(bt(n,"ad-started",a.startTime)),t.push(bt(n,"ad-error",a.startTime)),t.push(bt(n,"ad-all-complete",a.startTime)))}}catch(r){e}e,wt(t.join("/"))}if(lt.mediaItem&&lt.mediaItem.mediationTime){var o=lt.mediaItem.identifier;ue.asyncDelay(function(){if(n){for(var e=n.getEntriesByType("resource"),t=0;t<e.length;t++){var i=e[t].name;if(i.indexOf("/mediaselector/6/select")>0&&i.indexOf(o)>0)return Ct.push(Tt(e[t],null,"ms6-"+o)),void mt.sendTimingInfo()}mt.sendTimingInfo()}})}},mt.trackPlayStopped=function(e){if(this.shouldSendData()){var t=kt("s",!0);t.push(e.state),t.push(e.duration),t.push(e.played),t.push(e.timespent),t.push(e.bufferingEvents),t.push(e.bufferingTime),t.push(e.seekingEvents),t.push(e.seekingTime),wt(t.join("/"),!0)}},mt.trackError=function(e){if(this.shouldSendData()){if(isNaN(ft["_"+e.code])&&(ft["_"+e.code]=0),ft["_"+e.code]++>=100)return;var t,i=[e.code+""];e.encoding&&i.push("venc",e.encoding),t=e.extra&&e.extra.reportAsWarning?"w":(e.severity+"").substring(0,1),e.stored&&(t+="~s"),e.extra&&"string"==typeof e.extra&&(0===e.extra.indexOf("file:")?t+="~"+e.extra.substring(e.extra.lastIndexOf("/")).replace(dt,"~"):t+="~"+e.extra.replace(dt,"~")),i.push(t);var n=function(e){for(var t=kt(),i=0;i<e.length;i++){var n=e[i];"object"==typeof n&&(n=JSON.stringify(n)),t.push(encodeURIComponent(n))}return t.join("/")}(i);return wt(n),n}},mt.shouldSendData=function(){return lt.config.enableRdotReporting&&lt.Chromecast.state<st.State.CASTING};var Et=1e3;function _t(e){e&&e.lastInfoTime<ue.now()-1e3*e.infoTimeMultiplier&&(e.infoEventObject&&e.infoEventObject.averageBufferLength!=e.lastBufferLength||e.lastInfoCurrentTime!=e.player.time.toFixed(1)||e.lastInfoBitrate!=It(e))&&function(e){if(e.infoEventObject&&e.infoAdapter){var t=[];t.push(e.bufferingEvents-e.lastBufferingEvents),t.push(Math.round(1e3*(e.timeSpentTotalBuffering-e.lastBufferingTime))),t.push(Math.round(1e3*function(e){if(!e.infoAdapter)return 0;for(var t=e.infoAdapter.bitrateList,i=0,n=0;n<t.length;n++){var a=e.timeSpent[n]||0;i+=a,e.timeSpentTotal[n]?e.timeSpentTotal[n]+=a:e.timeSpentTotal[n]=a}return e.timeSpent=[],i}(e))),t.push(e.failovers-e.lastFailovers);try{t.push(xt(e.player.throttleAvoider._throttled)+xt(document.hidden)+xt(e.player.muted)+xt(function(e){return e.ui&&e.ui.pIp&&e.ui.pIp.isPlayingInPicture()}(e.player)))}catch(n){}e.lastBufferLength=e.infoEventObject.averageBufferLength,e.lastInfoCurrentTime=e.player.time.toFixed(1),e.lastBufferingTime=e.timeSpentTotalBuffering,e.lastBufferingEvents=e.bufferingEvents,e.lastFailovers=e.failovers,e.lastInfoTime=ue.now(),e.infoTimeMultiplier=60;var i=t.join("/");mt.trackQOSInfo(i,"caa")}}(e)}function It(e,t){var i="-";if(e.infoAdapter){var n,a=e.infoAdapter.bitrateList;a[n=t?e.infoAdapter.bitrateIndex:e.infoAdapter.downloadingBitrateIndex]&&(i=a[n])}return i}var At=function(){function e(e){this.qos=e}var t=function(){};return e.prototype={_audioBufferLength:t,_bitrateIndex:t,_downloadingBitrateIndex:t,_bitrateList:function(){return[]},_bufferLength:function(){var e=this.qos.player,t=0;return e.mediaPlayer&&(t=e.buffered-e.mediaPlayer.currentTime),Math.max(0,isNaN(t)?0:t)},_currentBitsPerSecond:t,_videoBufferLength:t},ue.defineProperties(e.prototype,{audioBufferLength:{get:function(){return this._audioBufferLength()}},bitrateIndex:{get:function(){return this._bitrateIndex()}},downloadingBitrateIndex:{get:function(){return this._downloadingBitrateIndex()}},bitrateList:{get:function(){return this._bitrateListCached||this._bitrateList()}},bufferLength:{get:function(){return this._bufferLength()}},currentBitsPerSecond:{get:function(){return this._currentBitsPerSecond()}},videoBufferLength:{get:function(){return this._videoBufferLength()}}}),e}(),Nt=function(){function e(e){this.qos=e}return e.prototype=Object.create(At.prototype),e.prototype._audioBufferLength=function(){return this.qos.player.dashEvents.bufferLevel.audio},e.prototype._downloadingBitrateIndex=function(){if(this.qos.player.dashEvents.dashPlayer){var e=this.qos.player.elType;"360"==e&&(e="video");try{var t=this.qos.player.dashEvents.dashPlayer.getQualityFor(e)}catch(i){}return t}},e.prototype._bitrateIndex=function(){if(this.qos.player.dashEvents.dashPlayer)return this.qos.player.dashEvents.currentBitrateIndex},e.prototype._bitrateList=function(){if(!this.qos.player.dashEvents.dashPlayer)return[];var e=this.qos.player.elType;"360"==e&&(e="video");try{var t=this.qos.player.dashEvents.dashPlayer.getBitrateInfoListFor(e)}catch(o){return[]}var i=0;"video"===e&&(i=this.qos.player.consideredMobileConnection?48:96);var n=[];if(t)for(var a=0;a<t.length;a++)n.push((t[a].bitrate/1e3+i).toFixed(0));return this._bitrateListCached=n,n},e.prototype._bufferLength=function(){return Math.min(this.audioBufferLength,this.videoBufferLength||Number.POSITIVE_INFINITY)},e.prototype._currentBitsPerSecond=function(){return this.qos.player.dashEvents.currentBitsPerSecond},e.prototype._videoBufferLength=function(){return this.qos.player.dashEvents.bufferLevel.video},e}(),Lt=function(){var e={mf_:{192:86,256:156,384:281,512:437,704:827,960:1604,1280:5070},_live:{192:86,256:156,384:281,512:437,704:827,960:1604,1280:5070}};function t(e){this.qos=e}return t.prototype=Object.create(At.prototype),t.prototype._bitrateIndex=function(){var e,t=this.bitrateMap,i=this.qos.player,n=i.mediaPlayer.videoWidth,a=this.bitrateList,o=this.qos.bitrateChanges,r=0,s=this.qos.player.elType;if("360"==s&&(s="video"),t){if(t.hasOwnProperty(n))for(var l=0;l<this.bitrateList.length;l++)if(a[l]==t[n]){e=a[l],r=l;break}return o.length&&o[o.length-1][0]===r||(i.dispatch({type:"bitrateChanged",streamType:s,previousBitrate:o.length?a[o[o.length-1][0]]:0,newBitrate:e,newIndex:r}),i.dispatch({type:"loadedmetadata",bitrate:e,cdn:this.qos.currentSupplier})),r}},t.prototype._currentBitsPerSecond=function(){var e=this.bitrateList,t=this.qos.bitrateChanges;if(t.length>0)return e[t[t.length-1][0]]},t.prototype._bitrateList=function(){var e=this.bitrateMap,t=[];if(e){for(var i in e)e.hasOwnProperty(i)&&t.push(e[i]);return t}},ue.defineProperties(t.prototype,{bitrateMap:{get:function(){var t=this.qos.player.mediaItem;if(t&&t.bitratesMap)return t.bitratesMap;for(var i in e)if(-1!==(this.qos.currentSupplier+"").indexOf(i))return e[i];return{}}}}),t}();function Bt(t){try{if(!t.needToSendStopped)return;if(t.needToSendStopped=!1,clearInterval(t.updateTimer),clearInterval(t.sendInfoTimer),_t(t),t.infoEventObject&&t.infoAdapter){for(var i={timespent:0},n=0;n<t.timeSpentTotal.length;n++)i.timespent+=t.timeSpentTotal[n];i.timespent=i.timespent.toFixed(1),i.bufferingTime=t.timeSpentTotalBuffering.toFixed(1),i.bufferingEvents=t.bufferingEvents,i.seekingTime=t.timeSpentTotalSeeking.toFixed(1),i.seekingEvents=t.seekingEvents,i.played=0;var a=t.player.mediaPlayer,o=a.played;if(o)for(n=0;n<o.length;n++)i.played+=o.end(n)-o.start(n);i.played=i.played.toFixed(1),i.state=xt(a.paused)+xt(a.ended)+xt(a.seeking),i.duration=t.player.isLive?"-":a.duration.toFixed(1),mt.trackPlayStopped(i)}}catch(r){e}}function xt(e){return e?"t":"f"}function Ot(e){e.infoAdapter=null,e.currentFormat=null,e.timeSpent=[],e.timeSpentTotal=[],e.bitrateChanges=[],e.bufferingEvents=0,e.seekingEvents=0,e.infoTimeMultiplier=10,e.timeSpentTotalSeeking=0,e.timeSpentTotalBuffering=0,e.infoEventObject=null,e.lastInfoTime=-999999,e.lastBufferingTime=0,e.lastBufferingEvents=0,e.lastFailovers=0}function Rt(e,t){var i={};if(!t.sent){if(t.extra&&"string"==typeof t.extra&&(i.bbc_smp_detail=t.extra),i.is_background=!0,e.player.trackAction("error_"+t.code,"error",i),(1065==t.code||1066==t.code||1003==t.code)&&!t.extra){var n=(e.player.config.embedPageURL+"").match(/[^\?]*/);n&&(t.extra=n[0])}t.severity==c&&(e.timeSpentSeekingStart=0,e.timeSpentBufferingStart=0);var a=(e.player.mediaConnection||{}).encoding;t.encoding=a,mt.trackError(t),t.sent=!0;var o=[];if(4200==t.code&&!t.stored){try{var r=e.player.dashEvents.dashPlayer.getDashMetrics().getHttpRequests("stream")}catch(l){r=[]}for(var s=r.length-1;s>-1;s--)if(r[s].url+"_"+r[s].responsecode==t.extra){""!==r[s]._responseHeaders&&(o.push(t.extra),o.push(r[s]._responseHeaders));break}o.length>0&&mt.trackError({code:5022,severity:"i",extra:o.join("_"),encoding:a})}}}function Dt(e){return{blockUnwanted:!0,error:function(t){Rt(e,t)},info:function(t){var i=e.infoAdapter&&e.infoAdapter.bitrateIndex||0,n=e.infoEventObject?e.infoEventObject.droppedFrames:0;e.timeSpent[i]?e.timeSpent[i]+=1:e.timeSpent[i]=1,t.droppedFrames>n&&(e.droppedFramesArray[i]?e.droppedFramesArray[i]+=t.droppedFrames-n:e.droppedFramesArray[i]=t.droppedFrames-n),e.infoEventObject=t},mediaItemChanged:function(){Ot(e),Bt(e),e.sentP&&mt.resetID(),e.sentP=!1},changingsrc:function(t){e.currentSupplier!==t.supplier&&(e.currentSupplier=t.supplier,e.failovers++),e.currentFormat!==t.format&&(Ot(e),e.currentFormat=t.format,"hls"===e.currentFormat?e.infoAdapter=new Lt(e):"dash"===e.currentFormat?e.infoAdapter=new Nt(e):e.infoAdapter=new At(e))},timeupdate:function(){e.sentPS||(void 0===e.firstPSTime?e.firstPSTime=e.player.time:e.firstPSTime==e.player.time||e.player.paused||(mt.trackPlaySuccess(),e.failovers=0,e.sentPS=!0,e.infoAdapter&&e.infoAdapter._bitrateList&&e.infoAdapter._bitrateList())),_t(e)},bitrateChanged:function(t){var i=e.player.elType;"360"==i&&(i="video"),t.streamType==i&&e.bitrateChanges.push([t.newIndex,e.player.time.toFixed(1)])},waiting:function(){clearInterval(e.updateTimer),clearInterval(e.sendInfoTimer),e.sendInfoTimer=setInterval(_t,1e3,e)},tryingToPlay:function(){e.startupStart=ue.now(),e.startupTime=null,e.sentP||(e.sentPS=!1,mt.trackPlayIntent(),e.sentP=!0)},ended:function(){e.playing=!1,clearInterval(e.updateTimer),_t(e)},pause:function(){e.playing=!1,clearInterval(e.updateTimer),clearInterval(e.sendInfoTimer),e.sendInfoTimer=setInterval(_t,1e3,e)},canplay:function(){e.startupTime||(e.startupTime=ue.now()-e.startupStart,e.timeSpentBufferingStart=0,e.lastInfoTime=ue.now())},playerDestroying:function(){e.disconnected()},outPlayerPlaybackSwitch:function(){Bt(e),e.resetProperties(),mt.resetID()},ccDisconnect:function(){e.needToSendStopped=!1},playlistLoading:function(){Bt(e),e.resetProperties(),mt.resetID()},playing:function(t){clearInterval(e.sendInfoTimer),clearInterval(e.updateTimer),e.player.mediaItem&&(e.updateTimer=setInterval(function(){!function(e){var t,i=e.player,n=i.mediaPlayer,a=e.infoAdapter;if(n.readyState<=2||n.paused)return;if(n.getVideoPlaybackQuality){var o=n.getVideoPlaybackQuality();t=o.totalVideoFrames,e.droppedFrames=o.droppedVideoFrames}else n.webkitDecodedFrameCount?(t=n.webkitDecodedFrameCount,e.droppedFrames=n.webkitDroppedFrameCount,e.decodedBytes=n.webkitAudioDecodedByteCount+(n.webkitVideoDecodedByteCount?n.webkitVideoDecodedByteCount:0)):n.mozParsedFrames&&(t=n.mozParsedFrames,e.droppedFrames=n.mozDecodedFrames-n.mozPresentedFrames);e.currentFPS=t-e.decodedFrames,(e.currentFPS<0||e.currentFPS>100)&&(e.currentFPS=0);e.maxFPS=Math.max(e.currentFPS,e.maxFPS),e.decodedFrames=t,e.averageDroppedFrames=(e.averageDroppedFrames*e.averagesCounter+e.droppedFrames)/(e.averagesCounter+1),a&&(e.averageBufferLength=(e.averageBufferLength*e.averagesCounter+a.bufferLength)/(e.averagesCounter+1),i.dispatch({audioBufferLength:a.audioBufferLength,averageBufferLength:e.averageBufferLength,averageDroppedFPS:e.averageDroppedFrames,averageMaxBandwidth:null,bufferLength:a.bufferLength,currentBitsPerSecond:a.currentBitsPerSecond,currentFPS:e.currentFPS,decodedBytes:e.decodedBytes,decodedFrames:e.decodedFrames,droppedFrames:e.droppedFrames,maxFPS:e.maxFPS,maxBandwidth:null,type:"info",videoBufferLength:a.videoBufferLength}))}(e)},Et)),e.playing=!0,t.pausedatzero||(e.needToSendStopped=!0)}}}function Mt(e){var t=this;t.eventCallbacks=Dt(t),t.player=e,t.reportError=t.eventCallbacks.error;var i=(e.mediaConnection||{}).encoding;return t.resetProperties(),t.disconnected=function(){0!==t.timeSpentSeekingStart&&ue.now()-t.timeSpentSeekingStart>5e3&&(mt.trackError({code:5031,severity:"c",extra:(ue.now()-t.timeSpentSeekingStart).toFixed(0),encoding:i}),t.timeSpentSeekingStart=0),0!==t.timeSpentBufferingStart&&ue.now()-t.timeSpentBufferingStart>5e3&&(mt.trackError({code:5030,severity:"c",extra:(ue.now()-t.timeSpentBufferingStart).toFixed(0),encoding:i}),t.timeSpentBufferingStart=0),Bt(t)},window.addEventListener("beforeunload",function(){t.disconnected(),mt.sendTimingInfo()}),t}function Ft(e){var t=ue.now()-e.timeSpentBufferingStart;e.timeSpentTotalBuffering+=t/1e3,e.timeSpentBufferingStart=0,e.bufferingEvents++}function Ht(){var e=1,t=3,i=8,n=9;function a(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function o(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function r(s,l){if(s.nodeType==n){var u,c,d=s.firstChild;for(u=0,c=s.childNodes.length;u<c;u+=1)if(s.childNodes[u].nodeType!==i){d=s.childNodes[u];break}return(p={})[v=a(d)]=r(d,l),p}if(s.nodeType==e){for(var p=new Object,h=0,f=[],m=s.childNodes,y=m.length,g=0;g<y;g++){var v;if("#cdata-section"!=(v=a(d=m.item(g)))&&d.nodeType!=i)if(h++,null==p[v]){var b=r(d,l);if("#text"!=v||/[^\s]/.test(b))(T={})[v]=b,f.push(T);p[v]=b,p[v+"_asArray"]=[p[v]]}else{if(null!=p[v]&&!(p[v]instanceof Array)){var C=p[v];p[v]=[C],p[v+"_asArray"]=p[v]}for(var S=0;null!=p[v][S];)S++;var T;b=r(d,l);if("#text"!=v||/[^\s]/.test(b))(T={})[v]=b,f.push(T);p[v][S]=b}}p.__children=f;for(var P=s.attributes.length,k=0;k<P;k++){var w=s.attributes.item(k);if(h++,l){if(w.name)p[o(w.name.replace(l,""))]=w.value}else p[w.name]=w.value}return 1==h&&null!=p["#text"]&&(p=p["#text"]),null!=p["#text"]&&(p.__text=p["#text"],delete p["#text"],delete p["#text_asArray"]),p}return s.nodeType==t?s.nodeValue:null}this.xml2json=function(e,t){return r(e,t)}}Mt.prototype={buffering:function(){var e=this;0===e.timeSpentBufferingStart&&(e.player.dispatch({type:"SonarBufferEvent"}),e.timeSpentBufferingStart=ue.now())},seeking:function(){var e=this;e.startupTime&&(0!==e.timeSpentBufferingStart&&Ft(e),0===e.timeSpentSeekingStart&&(e.timeSpentSeekingStart=ue.now()))},endBuffering:function(){var e=this;if(e.startupTime)if(0!==e.timeSpentBufferingStart)Ft(e);else if(0!==e.timeSpentSeekingStart){var t=ue.now()-e.timeSpentSeekingStart;e.timeSpentTotalSeeking+=t/1e3,e.timeSpentSeekingStart=0,e.seekingEvents++}},resetProperties:function(){var e=this;e.currentFPS=0,e.maxFPS=0,e.decodedFrames=0,e.droppedFrames=0,e.decodedBytes=0,e.timeSpent=[],e.timeSpentTotal=[],e.timeSpentBufferingStart=0,e.timeSpentSeekingStart=0,e.droppedFramesArray=[],e.droppedFramesTotal=[],e.infoEventObject=null,e.bufferingEvents=0,e.seekingEvents=0,e.timeSpentTotalSeeking=0,e.timeSpentTotalBuffering=0,e.lastInfoTime=-999999,e.infoTimeMultiplier=10,e.bitrateChanges=[],e.averageBufferLength=0,e.averageDroppedFrames=0,e.averagesCounter=0,e.playing=!1},getMediaType:function(){var e=this.player,t="od";e.mediaItem&&(e.isLive?t=e.mediaItem.simulcast?"simulcast":"live":"programme"!=e.mediaItem.kind&&"radioProgramme"!=e.mediaItem.kind&&(t=e.mediaItem.kind||"unknown"));var i=e.elType;return"360"==i&&(i="video"),i+"-"+t},playerUnloading:function(){_t(this),Bt(this)},trackError:function(e){Rt(this,e)},getInfoData:function(){var e=this,t=[],i=It(e);e.lastInfoBitrate=i,t.push(i),t.push(It(e,!0)),t.push(e.bufferingEvents),t.push(e.timeSpentTotalBuffering.toFixed(1));var n=e.averageBufferLength?e.averageBufferLength.toFixed(1):"-";t.push(n);var a=e.player.timeHelper,o="-";isNaN(a.time)||(o=a.time.toFixed(1)),t.push(o);var r="-";return a.latestSeek?r=a.latestSeek.toFixed(1):isNaN(a.duration)||(r=a.duration),t.push(r),t}};var qt,Ut,Vt,Wt,Gt,zt,jt,Qt,Kt,Yt,Xt,$t,Jt,Zt,ei,ti,ii,ni,ai=/[^\s]/,oi=/^([0-9]+):([0-5][0-9]):([0-5][0-9])|(60)(\.([0-9])+)?$/;function ri(e,t,i,n,a){if(e.div){var o=e.div.p_asArray;o||(o=[]);var r=e.div.div_asArray;if(r&&r.length)for(var s=0;s<r.length;s++){var l=r[s].p_asArray,u=Li(r[s]);if(l)for(var c=0;c<l.length;c++)o.push(l[c]),(u.begin||u.end)&&(l[c].parentTime=u)}}var d=Ti(e.div,i);if(d.regionId=e.div.region,d.cellUnit=i,d.bodyStylesObject=n,o)for(s=0;s<o.length;s++){var p=ui(o[s],d,a);p&&p.end-p.start>0&&t.push(p)}}function si(e,t){var i=e[t];if(oi.test(i))return di(i)}function li(e,t){for(var i=0;i<t.length;i++)if(t[i]){var n=t[i];if(Array.isArray(n))for(var a=0;a<n.length;a++){var o=si(n[a],e);if(o)return o}else if(o=si(n,e),!isNaN(o))return o}}function ui(e,t,i){var n=t.cellUnit,a={};if(a.begin=li("begin",[e.span,e,e.parentTime]),a.end=li("end",[e.span,e,e.parentTime]),!isNaN(a.begin)||!isNaN(a.end)){var o=function(e){var t=!1;e&&(t="true"==e["itts:forcedDisplay"]);return{forcedDisplay:t}}(e);if(void 0===e["smpte:backgroundImage"]){Wt={},Gt={},zt={};var r=e["xml:id"]||e.id||"",s=function(e,t,i){var n=[],a=e.region,o=e.origin,r=e.extent;if(o&&r){var s=r.split(/\s/);Ni(s[0])&&Ni(s[1])&&(n.push("width:"+s[0]),n.push("height:"+s[1]));var l=o.split(/\s/);Ni(l[0])&&Ni(l[1])&&(n.push("left:"+l[0]),n.push("top:"+l[1]))}else a?n=ki(a,i):t&&(n=ki(t,i));return n}(e,t.regionId,n),l=s&&s.length>0;!function(e,t){for(var i in t)t.hasOwnProperty(i)&&(fi(i,e)||e.push(i+":"+t[i]))}(s,jt);var u=function(e,t,i){for(var n=document.createElement("div"),a=0;a<e.length;a++){var o=e[a];if(o.hasOwnProperty("metadata"))return;if(o.hasOwnProperty("span")&&o.span.__children){var r=o.span.__children;if(r&&r.length>0){var s=document.createElement("span"),l=Ti(o.span,t);if(ue.className(s,_i(l)),s.style.cssText=l.join(";"),i&&ii?ue.applyVendorStyles([s],"boxDecorationBreak","clone"):s.style.display="inline-block",s.style.paddingLeft||(s.style.paddingLeft="0.25em"),s.style.paddingRight||(s.style.paddingRight="0.25em"),!r.hasOwnProperty("metadata"))for(var u=0;u<r.length;u++)s=ci(r[u],u,r,s,n);s&&n.appendChild(s)}}else if(o.hasOwnProperty("br")){var c=document.createElement("br");c.className="p_lineBreak",n.appendChild(c)}else if(o.hasOwnProperty("#text")||o.hasOwnProperty("span")){var d=document.createElement("span");d.textContent=Ei(o["#text"]||o.span),i&&ii?ue.applyVendorStyles([d],"boxDecorationBreak","clone"):d.style.display="inline-block",n.appendChild(d)}}return n}(e.__children,n,i);if(!ai.test(u.textContent))return;u.className="p_cueDirUniWrapper";var c=function(e,t,i,n){var a=[" "].concat(Qt);return function(e){for(var t=0;t<e.length;t++){var i=e[t].split(":");2==i.length&&(e[i[0].trim()]=t)}}(a),Ii(a,i),Ii(a,n),Ii(a,Ti(e,t)),a}(e,n,t.bodyStylesObject,t),d=document.createElement("div");d.className="p_paragraph";var p,h,f="";if(c["unicode-bidi"]&&(f=gi("unicode-bidi",c)),c.direction&&(f+=gi("direction",c)),""!==f&&(u.style.cssText=f),p=h=.5*n[0]+"px",c["padding-left"]&&(p=yi(c[c["padding-left"]])),c["padding-right"]&&(h=yi(c[c["padding-right"]])),wi(u,p,h),zt.left=p,zt.right=h,l?c["justify-content"]&&s.push(c[c["justify-content"]]):(vi("text-align",c),vi("justify-content",c),s.push($t.center[0]),c.push($t.center[1]),c["text-align"]=c.length-1),c["multi-row-align"]){var m=yi(c[c["multi-row-align"]]);c["text-align"]&&"auto"!=Jt[m]&&vi("text-align",c),m in Jt&&(c[c["multi-row-align"]]=Jt[m])}var y="";if(fi("regionID",s)){var g=mi("regionID",s);y=g.slice(g.indexOf(":")+1,g.length-1)}var v=[];Ci("justify-content",s,v),Ci("align-items",s,v),ue.className(d,_i(c)),d.style.cssText=c.join(";"),d.appendChild(u);var b,C=document.createElement("div");if(C.appendChild(d),C.id="subtitle_"+r,s&&(ue.className(C,_i(s)),s=s.join(";")),C.style.cssText="position:absolute;margin:0;box-sizing:border-box;pointer-events:none;"+s,c["font-size"]){var S=c[c["font-size"]].split(":");2===S.length&&(b=S[1])}else s.match(/font-size:(.*);/)&&(b=RegExp.$1);return function(e){if(""===e.style.backgroundColor)for(var t=e.getElementsByClassName("p_cueDirUniWrapper"),i=0;i<t.length;i++)if(t[i].children)for(var n=0;n<t[i].children.length;n++){Ai(t[i].children[n])}}(d),{start:a.begin,end:a.end,type:"html",cueHTMLElement:C,regionID:y,cueID:r,fontSize:b||n[1]/16+"em",lineHeight:Wt,linePadding:Gt,padding:zt,flexBoxAttr:v,forcedDisplay:o.forcedDisplay}}for(var T=qt.tt.head.metadata.image_asArray,P=0;P<T.length;P++)if("#"+T[P]["xml:id"]==e["smpte:backgroundImage"])return{start:a.begin,end:a.end,id:T[P]["xml:id"],data:"data:image/"+T[P].imagetype.toLowerCase()+";base64, "+T[P].__text,type:"image"}}}function ci(e,t,i,n,a){if(e.span&&e.span.__children)for(var o=0;o<e.span.__children.length;o++)e.span.__children[o].hasOwnProperty("metadata")||(n=ci(e.span.__children[o],o,e.span.__children,n,a));if(e.hasOwnProperty("#text")){var r=document.createTextNode(Ei(e["#text"]));n.appendChild(r)}else if("br"in e){n.hasChildNodes()&&a.appendChild(n);var s=document.createElement("br");if(s.className="p_lineBreak",a.appendChild(s),t+1<i.length){var l=document.createElement("span");l.className=n.className,l.style.cssText=n.style.cssText,n=l}else n=null}return n}function di(e){var t,i,n;return oi.test(e)?(t=e.split(":"),i=3600*parseFloat(t[0])+60*parseFloat(t[1])+parseFloat(t[2]),t[3]&&(n=qt.tt.frameRate)&&!isNaN(n)&&(i+=parseFloat(t[3])/n),i):NaN}function pi(e,t){var i=Object.keys(e).filter(function(i){return("xmlns"===i.split(":")[0]||"xmlns"===i.split(":")[1])&&e[i]===t}).map(function(e){return e.split(":")[2]||e.split(":")[1]});return 1!=i.length?null:i[0]}function hi(e,t){for(var i in e)if(e.hasOwnProperty(i)){if(("object"==typeof e[i]||e[i]instanceof Object)&&!Array.isArray(e[i]))hi(e[i],t);else if(Array.isArray(e[i]))for(var n=0;n<e[i].length;n++)hi(e[i][n],t);e[i.slice(i.indexOf(t)+t.length+1)]=e[i],delete e[i]}}function fi(e,t){for(var i=0;i<t.length;i++){var n=t[i].split(":");if(2===n.length&&n[0].trim()===e)return!0}return!1}function mi(e,t){for(var i=0;i<t.length;i++)if(t[i].indexOf(e)>-1)return t[i];return null}function yi(e){return e.slice(e.indexOf(":")+1)}function gi(e,t){var i=yi(t[t[e]]);return t[t[e]]="",t[e]=-1,i}function vi(e,t){t[e]&&(t[t[e]]="",t[e]=-1)}function bi(e,t){t.splice(t.indexOf(mi(e,t)),1)}function Ci(e,t,i){fi(e,t)&&(i.push(mi(e,t)),bi(e,t))}function Si(e){var t,i=e.slice(e.indexOf(":")+1,e.length);if(i.indexOf("%")>=0){t=parseFloat(i.slice(0,i.length-1))/100}else{if(i.indexOf("em")>=0)return i;t=parseInt(i,10)/16}return t+"em"}function Ti(e,t){var i=[];if("object"==typeof e){if("style"in e&&(i=i.concat(Pi(e.style,t))),"line-padding"in e){var n=parseFloat(e["line-padding"].slice(e["line-padding"].indexOf(":")+1,e["line-padding"].indexOf("c")));"id"in e&&(Gt[e.id]=n);var a=n*t[0]+"px";i.push("padding-left:"+a),i.push("padding-right:"+a)}if("font-size"in e){var o=Si(e["font-size"]);i.push("font-size:"+o)}if("line-height"in e)if("normal"===e["line-height"])i.push("line-height:normal;");else{var r=function(e,t){var i=125;return e.indexOf("%")>=0?i=parseFloat(e.slice(e.indexOf(":")+1,e.indexOf("%"))):e.indexOf("px")>=0&&(i=t/parseFloat(e.slice(e.indexOf(":")+1,e.indexOf("px"))),i*=100),i+"%"}(e["line-height"],t);i.push("line-height:"+r),"id"in e&&(Wt[e.id]=r)}if("font-family"in e){for(var s=e["font-family"].split(","),l="",u=0;u<s.length;)s[u]in Xt?s.splice(u,1):s[u]in Yt?(l+=Yt[s[u]]+" ",s.splice(u,1)):(s[u]in Kt&&(s[u]=Kt[s[u]]),u++);l&&(i.push("_element-classes:"+l),s.length>0&&s.push("Arial, Helvetica, freesans, sans-serif")),s.length>0&&i.push("font-family:"+s.join(","))}var c;return"text-align"in e&&e["text-align"]in $t&&(i.push($t[e["text-align"]][0]),i.push($t[e["text-align"]][1])),"multi-row-align"in e&&i.push("multi-row-align:"+e["multi-row-align"]),"background-color"in e&&(e["background-color"].indexOf("#")>-1&&e["background-color"].length-1==8?(c=ue.hextoRGBA(e["background-color"]),i.push("background-color:"+c)):i.push("background-color:"+e["background-color"])),"color"in e&&(e.color.indexOf("#")>-1&&e.color.length-1==8?(c=ue.hextoRGBA(e.color),i.push("color:"+c)):i.push("color:"+e.color)),"wrap-option"in e&&(e["wrap-option"]in Zt?i.push(Zt[e["wrap-option"]]):i.push("white-space:"+e["wrap-option"])),"unicode-bidi"in e&&(e["unicode-bidi"]in ei?i.push(ei[e["unicode-bidi"]]):i.push("unicode-bidi:"+e["unicode-bidi"])),"font-style"in e&&i.push("font-style:"+e["font-style"]),"font-weight"in e&&i.push("font-weight:"+e["font-weight"]),"direction"in e&&i.push("direction:"+e.direction),"text-decoration"in e&&i.push("text-decoration:"+e["text-decoration"]),qt.tt.hasOwnProperty("xml:space")&&"preserve"===qt.tt["xml:space"]&&i.push("white-space:pre;"),i}}function Pi(e,t){for(var i=[],n=e.match(/\S+/g),a=0;a<n.length;a++){var o=Ut[n[a]];o&&(i=i.concat(Ti(o,t)))}return i}function ki(e,t){var i=[],n=function(e,t){if(e)for(var i=0;i<e.length;i++){var n=e[i];if(n["xml:id"]===t||n.id===t)return n}return null}(Vt,e);if(n&&n.hasOwnProperty("origin")&&n.hasOwnProperty("extent")){var a=function(e,t){var i=[],n=!1,a=!1;if("extent"in e&&"origin"in e){var o=e.extent.split(/\s/);Ni(o[0])&&Ni(o[1])&&(i.push("width:"+o[0]),i.push("height:"+o[1]),n=!0);var r=e.origin.split(/\s/);Ni(r[0])&&Ni(r[1])&&(i.push("left:"+r[0]),i.push("top:"+r[1]),a=!0)}if("display-align"in e&&i.push(ti[e["display-align"]]),"writing-mode"in e&&i.push(ni[e["writing-mode"]]),"style"in e){var s=Pi(e.style,t);i=i.concat(s)}return"padding"in e&&i.push("padding:"+e.padding),"show-background"in e&&i.push("show-background:"+e["show-background"]),"id"in e&&i.push("regionID:"+e.id),{region:i,positioned:n&&a}}(n,t);i=a.positioned?a.region:[]}return i}function wi(e,t,i){if(t&&i)if(1==e.childElementCount){var n=e.firstChild;n.style.paddingLeft=t,n.style.paddingRight=i}else{for(var a,o=e.children,r=!0,s=0;s<o.length;s++)"SPAN"===(n=o[s]).tagName?(r&&(n.style.paddingLeft=t,r=!1),a=n):"BR"===n.tagName&&(a&&(a.style.paddingRight=i),r=!0);!r&&a&&(a.style.paddingRight=i)}}function Ei(e){return e.trim().replace(/\s+/g," ")}function _i(e){var t,i="",n=((t=mi("_element-classes",e))&&(t=t.slice(t.indexOf(":")+1)),t);return n&&(i+=n,bi("_element-classes",e)),i}function Ii(e,t){for(var i=0;i<t.length;i++){var n=t[i],a="",o=n.split(":");if(2==o.length&&(a=o[0].trim()),a)if(e[a])if("font-size"==a){var r=e[e[a]].slice(e[e[a]].indexOf(":")+1,e[e[a]].indexOf("em")),s=parseFloat(r),l=n.slice(n.indexOf(":")+1,n.indexOf("em")),u=parseFloat(l);e[e[a]]="font-size:"+s*u+"em"}else e[e[a]]=n;else e.push(t[i]),e[a]=e.length-1}}function Ai(e){if(e.children&&e.children.length>0)for(var t=0;t<e.children.length;t++)Ai(e.children[t]);else""===e.style.backgroundColor&&(e.style.backgroundColor="black")}function Ni(e){return e.match(/(100|[0-9]{1,2})(.[0-9]+)?%/)}function Li(e){var t,i;return e&&(t=e.begin||e["tt:begin"],i=e.end||e["tt:end"]),{begin:di(t),end:di(i)}}var Bi={parse:function(e){var t=new Ht;if(!(qt=t.xml2json(e,/ebutts:|xml:|tts:/g)))throw"TTML document could not be parsed";var i=pi(qt,"http://www.w3.org/ns/ttml"),n=i||pi(qt,"http://www.w3.org/2006/10/ttaf1");n&&hi(qt,n);var a=qt.tt;if(!a)throw"TTML document lacks tt element";var o=a.head;if(o||(o={}),o.layout&&(Vt=o.layout.region_asArray),Ut={},o.styling&&o.styling.style_asArray)for(var r=0;r<o.styling.style_asArray.length;r++){var s=o.styling.style_asArray[r],l=s["xml:id"]||s.id;l&&(Ut[l]=s)}var u=a.body;if(!u)throw"TTML document lacks body element";var c=360,d=640,p=pi(qt.tt,"http://www.w3.org/ns/ttml#styling")||pi(qt.tt,"http://www.w3.org/2006/10/ttaf1#styling");if(a.hasOwnProperty(p+":extent")){var h=a[p+":extent"].split("px");3==h.length&&(d=parseInt(h[0],10),c=parseInt(h[1],10))}var f=qt.tt.hasOwnProperty("ttp:cell-resolution")?qt.tt["ttp:cell-resolution"].split(" ").map(parseFloat):[32,15],m=[d/f[0],c/f[1]];Qt[0]="font-size:"+Si(m[1]+"px;");var y=Ti(u,m),g=pi(qt.tt,"http://www.w3.org/ns/ttml#parameter")||pi(qt.tt,"http://www.w3.org/2006/10/ttaf1#parameter");a.hasOwnProperty(g+":frame-rate")&&(a.frameRate=parseInt(a[g+":frame-rate"],10));var v=[],b=a.body_asArray[0].__children,C=!!i;for(r=0;r<b.length;r++){var S=b[r];v.length<1?ri(S,v,m,y,C):ue.asyncDelay(ri,[S,v,m,y,C])}return{captionsList:v,info:{videoHeight:c,videoWidth:d},error:a.parsererror}},applyLinePadding:wi};Wt={},Gt={},zt={},jt={top:"85%",left:"5%",width:"90%",height:"10%","align-items":"flex-end",overflow:"visible;","-ms-writing-mode":"lr-tb, horizontal-tb","-webkit-writing-mode":"horizontal-tb","-moz-writing-mode":"horizontal-tb","writing-mode":"horizontal-tb"},Qt=["font-size:10px","color:rgb(255,255,255)","direction:ltr","font-style:normal","font-weight:normal","text-align:center","justify-content:center","text-decoration:none","unicode-bidi:normal","white-space:normal"],Kt={monospace:"monospace",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif"},Xt={"Reith-sans":!0},Yt={sansSerif:"font-family-sans",serif:"font-family-serif",proportionalSansSerif:"font-family-sans",proportionalSerif:"font-family-serif",default:"font-family-sans"},$t={right:["justify-content:flex-end","text-align:right"],start:["justify-content:flex-start","text-align:start"],center:["justify-content:center","text-align:center"],end:["justify-content:flex-end","text-align:end"],left:["justify-content:flex-start","text-align:left"]},Jt={start:"text-align:start",center:"text-align:center",end:"text-align:end",auto:""},Zt={wrap:"white-space:normal",noWrap:"white-space:nowrap"},ei={normal:"unicode-bidi:normal",embed:"unicode-bidi:embed",bidiOverride:"unicode-bidi:bidi-override"},ti={before:"align-items:flex-start",center:"align-items:center",after:"align-items:flex-end"},ni={lrtb:"-webkit-writing-mode:horizontal-tb;writing-mode:horizontal-tb",rltb:"-webkit-writing-mode:horizontal-tb;writing-mode:horizontal-tb;direction:rtl;unicode-bidi:bidi-override",tbrl:"-webkit-writing-mode:vertical-rl;writing-mode:vertical-rl;-webkit-text-orientation:upright;text-orientation:upright",tblr:"-webkit-writing-mode:vertical-lr;writing-mode:vertical-lr;-webkit-text-orientation:upright;text-orientation:upright",lr:"-webkit-writing-mode:horizontal-tb;writing-mode:horizontal-tb",rl:"-webkit-writing-mode:horizontal-tb;writing-mode:horizontal-tb;direction:rtl",tb:"-webkit-writing-mode:vertical-rl;writing-mode:vertical-rl;-webkit-text-orientation:upright;text-orientation:upright"},ii=ue.checkCssSupport(document.createElement("span"),"boxDecorationBreak");var xi=function(e,t,i,n){var a,o,r=this;return r.live=!1,r.href=e,r.protocol=t||((o=(a=e+"").indexOf(":"))?a.substring(0,o):null),r.supplier=i,r.dpw=n,r.override=!1,r.captionsList=null,r.kind=/^us_closed_captions/.test(i+"")?"closedCaptions":"subtitles",r.loaded=!1,r};xi.prototype={loadSubtitles:function(e,t){var i=this,n=i.href;if(i.captionsList&&i.captionsList.length>0)e(n);else{ue.getXML(n,function(a){i.subtitlesLoaded(a)?e(n,i.error):t(n)},t,i)}},subtitlesLoaded:function(e){var t=this;try{var i=Bi.parse(e);t.captionsList=ue.stableSort(i.captionsList,ue.sortByStart),t.info=i.info,t.error=i.error,t.loaded=!0}catch(n){return!1}return t.captionsList.length>0}};var Oi={min:.5};function Ri(e){return e?parseFloat(e.split("px")[0]):0}function Di(e,t){return e.start<t&&e.end>t}function Mi(e,t){return isNaN(t.max)||isNaN(t.min)?isNaN(t.min)?e:Math.max(e,t.min):Math.min(Math.max(e,t.min),t.max)}function Fi(e,t,i){return function(n){e.currentSubItem&&e.currentSubItem.href===n&&e[t](n,i)}}function Hi(e,t,i){if(e.from===t){var n=e.size;return n>i?n:i}return i}function qi(e,t,i){return{top:i(e.top,t.top),bottom:i(e.bottom,t.bottom),left:i(e.left,t.left),right:i(e.right,t.right)}}function Ui(e,t){return{top:e.bottom-t.top,bottom:-(e.top-t.bottom),left:e.right-t.left,right:-(e.left-t.right)}}function Vi(e){if(e.length>0){for(var t={top:e[0].top,bottom:e[0].bottom,left:e[0].left,right:e[0].right},i=1;i<e.length;i++){var n=e[i];t.top=Math.min(t.top,n.top),t.bottom=Math.max(t.bottom,n.bottom),t.left=Math.min(t.left,n.left),t.right=Math.max(t.right,n.right)}return t.width=t.right-t.left,t.height=t.bottom-t.top,t}}function Wi(e,t,i){return zi(e,t,function(e){return e+i})}function Gi(e,t,i){return zi(e,t,function(e){return e*i})}function zi(e,t,i){return i(parseFloat(e.slice(0,e.indexOf(t))))+t}function ji(e){var t={from:"bottom"};return ue.defineProperties(t,{size:{get:function(){return isNaN(e.config.subtitles.yOffset)?0:(e.UIinfoObject.videoHeight?e.UIinfoObject.videoHeight:ue.getOffset(e.container,"height"))+(e.UIinfoObject.videoY?e.UIinfoObject.videoY:0)-e.config.subtitles.yOffset}}}),t}var Qi=function(e){var t=this;t.player=e;var i=t.container=document.createElement("div");return i.setAttribute("aria-live","polite"),i.setAttribute("role","region"),i.className="p_subtitlesContainer",t.player.mediaContainer.appendChild(t.container),t.failedToLoad=!1,t.enabled=!0,t.eventCallbacks=function(e){function t(){e.clearSubtitles()}function i(){e.clearSubtitles(),e.captionsList=null,e.overrideItem=null,e.currentSubItem=null,e.failedToLoad=!1}return{blockUnwanted:!0,playlistLoading:i,playlistEnded:t,seeking:t,ended:t,error:t,losingControl:t,mediaItemChanged:i,mediaItemInfoChanged:function(){e.failedToLoad=!1,e.load()},timeupdate:function(){e.showingSubs&&!e.player.Chromecast.isCasting&&e.currentSubItem&&e.currentSubItem.captionsList&&e.checkForSubtitles(e.player.time),e.currentSubItem&&e.currentSubItem.hasHLSliveSubs&&e.currentSubItem.loadHLSsubs(e.player.timeHelper.time+6)},seeked:function(){e.clearSubtitles(),e.currentSubItem&&e.currentSubItem.hasHLSliveSubs&&e.currentSubItem.loadHLSsubs(e.player.timeHelper.time+3.84)},playing:function(){e.currentSubItem&&e.currentSubItem.hasHLSliveSubs&&e.currentSubItem.loadHLSsubs(e.player.timeHelper.time+3.84)},ccDisconnect:function(){e.showingSubs?e.on(!0):e.off(!0)}}}(this),t.index=0,t.previousTime=0,t.subtitleMargins=[],t.currentSubtitles=[],t.leftToRight=[],t.topToBottom=[],t.currentSubItem=null,t.overrideItem=null,t.desnakeLiveSubs=!1,t.reformatLiveSubs=!1,t.kind="subtitles",t.considerHLSdelay=!1,t};Qi.prototype={subsClasses:{},showingSubs:!1,failedToLoad:!1,enabled:!0,getDefaultSizeAdjustment:function(){var e=window.innerWidth,t=.67;return e<601?t=1:e<1281?t=.67:e<2561&&(t=.6),t},updateConfig:function(e){var t,i,n=this,a=.8;if((e=e.subtitles).contrast&&"number"==typeof e.contrast&&e.contrast>1&&(a=e.contrast/100),n.sizeAdjustment=n.getDefaultSizeAdjustment(),e.sizeAdjustment&&"number"==typeof e.sizeAdjustment&&e.sizeAdjustment>0&&(n.sizeAdjustment=e.sizeAdjustment),n.player.ui&&n.player.ui.subtitleSettingsPanel&&n.player.ui.subtitleSettingsPanel.indicateSize&&n.player.ui.subtitleSettingsPanel.indicateSize(n.sizeAdjustment),n.container.style.opacity=a,n.kind=e.kind||"subtitles",n.subtitleMargins=[(t=n.player.ui,i={from:"bottom"},ue.defineProperties(i,{size:{get:function(){var e=0;if(t.areControlsVisible()){var i=0,n=t.UIinfoObject;if(n.markersBarVisible?i=ue.getOffset(t.chapterMarkersHolder,"top"):n.seekBarVisible?i=ue.getOffset(t.progressBar.seekBarHolder,"top"):t.controls&&(i=ue.getOffset(t.controls,"top")),t.subtitleSettingsPanel&&t.subtitleSettingsPanel.isPanelOpen()&&(i=Math.min(i,t.subtitleSettingsPanel.getPanelTop())),t.speedPanel.isPanelOpen()&&(i=Math.min(i,t.speedPanel.getPanelTop())),t.playbackSettingsPanel&&t.playbackSettingsPanel.isPanelOpen()&&(i=Math.min(i,t.playbackSettingsPanel.getPanelTop())),i>0){var a=n.videoHeight?n.videoHeight:ue.getOffset(t.container,"height");e=(n.videoY?n.videoY:0)+a-i+10}else e=i}return e}}}),i),ji(n.player.ui)],e.margins)for(var o=0;o<e.margins.length;o++)n.subtitleMargins.push(e.margins[o]);n.desnakeLiveSubs=e.desnakeLiveSubtitles,n.blockDesnake=e.blockDesnake,n.reformatLiveSubs=e.reformatLiveSubtitles,n.currentSubItem&&n.currentSubItem.live&&(n.currentSubItem.enableDesnake=e.desnakeLiveSubtitles),e.defaultOn&&n.on(),n.updatePositions()},persistSizeAdjustment:function(e){ue.persistSettings({subtitles:{sizeAdjustment:e}})},checkForSubtitles:function(e){for(var t=this,i=0;i<t.currentSubtitles.length;)!Di(t.currentSubtitles[i],e)||t.currentSubtitles[i].desnaked?t.removeSubtitle(t.currentSubtitles[i]):i++;var n=0;e>t.previousTime&&(n=t.index);for(i=n;i<t.currentSubItem.captionsList.length;i++){var a=t.currentSubItem.captionsList[i];if(a.start>e)break;a.end>e&&t.displaySubtitle(a)}return t.previousTime=e,null},displaySubtitle:function(e){var t=this;if(e&&t.currentSubtitles.indexOf(e)<0){t.container.appendChild(e.cueHTMLElement);var i=ue.getOffsets(e.cueHTMLElement),n=ue.getOffsets(t.container),a=qi(i,n,ue.sortSimple);a.left/=n.width,a.right/=n.width,a.top/=n.height,a.bottom/=n.height,a.right=-a.right,a.bottom=-a.bottom,e.naturalPos=a,t.topToBottom.push(e),t.topToBottom.sort(function(e,t){return e.naturalPos.top>t.naturalPos.top?1:e.naturalPos.top===t.naturalPos.top?0:-1}),t.leftToRight.push(e),t.leftToRight.sort(function(e,t){return e.naturalPos.left>t.naturalPos.left?1:e.naturalPos.left===t.naturalPos.left?0:-1}),t.currentSubtitles.push(e),e.active=!0,t.updatePositions()}},removeSubtitle:function(e){var t=this,i=t.currentSubtitles.indexOf(e);i>=0&&(t.currentSubtitles.splice(i,1),t.leftToRight.splice(t.leftToRight.indexOf(e),1),t.topToBottom.splice(t.topToBottom.indexOf(e),1),t.container.removeChild(e.cueHTMLElement),e.active=!1)},clearSubtitles:function(){var e=this;e.previousTime=0,e.index=0;for(var t=e.currentSubtitles;t.length>0;)e.removeSubtitle(t[t.length-1])},showLoadErrorMessage:function(){var e=this;if(e.container){var t=document.createElement("div");ue.className(t,"p_subs"),t.innerHTML="Error Loading Subtitles",t.style.cssText="text-align:center; color:#fff; font-size:1.25em; background-color:rgba(0,0,0,1); padding:2px 8px",e.container.appendChild(t),e.updatePositions(),setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t),t=null},5e3)}},updateSubs:function(e){var t=this;t.failedToLoad=!1,t.overrideItem=e?new xi(e,null):null,t.load(),t.player.ui.updateLayout()},on:function(e){var t=this;t.player.Chromecast&&t.player.Chromecast.isCasting?t.player.dispatch({type:"ccSubsOn"}):(!t.showingSubs||t.considerHLSdelay||e)&&(t.considerHLSdelay=!1,t.showingSubs=!0,t.container.style.display="block",t.load(),t.updatePositions(),t.player.ui.UIinfoObject.subtitles=!0,t.player.ui.UIinfoObject.subtitlesEnabled=!0,t.player.ui.dispatchUIInfo(),t.player.dispatch({type:"subtitles",active:!0}))},chromecastSubsOn:function(){var e=this;e.showingSubs=!0,e.player.ui.UIinfoObject.subtitles=!0,e.player.ui.UIinfoObject.subtitlesEnabled=!0,e.player.ui.dispatchUIInfo(),e.player.dispatch({type:"subtitles",active:!0})},off:function(e){var t=this;t.player.Chromecast&&t.player.Chromecast.isCasting?t.player.dispatch({type:"ccSubsOff"}):(t.showingSubs||e)&&(t.currentSubItem&&t.currentSubItem.live&&t.currentSubItem.off(),t.showingSubs=!1,t.container.style.display="none",t.clearSubtitles(),t.player.ui.UIinfoObject.subtitles=!1,t.player.ui.UIinfoObject.subtitlesEnabled=!1,t.player.ui.dispatchUIInfo(),t.player.dispatch({type:"subtitles",active:!1}),t.player.ui.config.subtitles.defaultOn=!1)},chromecastSubsOff:function(){var e=this;e.showingSubs=!1,e.player.ui.UIinfoObject.subtitles=!1,e.player.ui.UIinfoObject.subtitlesEnabled=!1,e.player.ui.dispatchUIInfo(),e.player.dispatch({type:"subtitles",active:!1}),e.player.ui.config.subtitles.defaultOn=!1},subsAvailable:function(){var e=this;if(e.player.Chromecast&&e.player.Chromecast.isCasting)return e.player.Chromecast.hasSubs;var t=e.player.mediaItem;return!(t&&!t.live&&e.player.isPlayingHls&&t.subtitleConnections&&t.subtitleConnections.length>0&&t.subtitleConnections[0].live)&&((!!e.overrideItem||t&&t.subtitleConnections&&t.subtitleConnections.length>0)&&!e.failedToLoad)},updatePositions:function(){var e=this;e.resizeContainer();for(var t=0;t<e.currentSubtitles.length;t++)e.resizeSubtitle(e.currentSubtitles[t]),e.positionSubtitle(e.currentSubtitles[t]);var i=[];for(t=e.topToBottom.length-1;t>=0;t--){var n=e.topToBottom[t];e.deconflictSubtitle(n,i,!1),i.push(n);for(var a=0,o=0;o<e.subtitleMargins.length;o++)a=Hi(e.subtitleMargins[o],"top",a);var r=n.cueHTMLElement.getElementsByClassName("p_paragraph");if(1===r.length){var s=-(ue.getOffsets(r[0]).top-ue.getOffsets(e.container).top-a);if(s>0){r[0].style.top=Wi(r[0].style.top,"px",s);for(var l=[],u=t;u<e.topToBottom.length;u++)e.deconflictSubtitle(e.topToBottom[u],l,!0),l.push(e.topToBottom[u])}}}},deconflictSubtitle:function(e,t,i){for(var n=0;n<t.length;n++){var a=t[n],o=e.cueHTMLElement.getElementsByClassName("p_paragraph"),r=a.cueHTMLElement.getElementsByClassName("p_paragraph");if(1===o.length&&1===r.length){var s=o[0],l=r[0],u=Ui(ue.getOffsets(s),ue.getOffsets(l)),c=this.leftToRight.indexOf(e)>this.leftToRight.indexOf(a),d=c?u.right:u.left,p=i?u.bottom:u.top;d>0&&p>0&&(d<p?s.style.left=Wi(s.style.left,"px",c?d:-d):s.style.top=Wi(s.style.top,"px",i?p:-p))}}return!0},resizeContainer:function(){var e=this,t=e.player.ui.UIinfoObject;isNaN(t.videoWidth)||isNaN(t.videoHeight)?(e.container.style.width="100%",e.container.style.height="100%"):(e.container.style.width=t.videoWidth+"px",e.container.style.height=t.videoHeight+"px"),e.container.style.marginLeft=t.videoX+"px",e.container.style.marginTop=t.videoY+"px"},positionSubtitle:function(e){var t=this;if(e){for(var i={top:0,bottom:0,left:0,right:0},n=0;n<t.subtitleMargins.length;n++){var a=t.subtitleMargins[n];i.top=Hi(a,"top",i.top),i.bottom=Hi(a,"bottom",i.bottom),i.left=Hi(a,"left",i.left),i.right=Hi(a,"right",i.right)}var o=e.cueHTMLElement.getElementsByClassName("p_paragraph");if(1===o.length){var r=o[0];r.style.position="relative",r.style.top="0px",r.style.left="0px";var s=qi(ue.getOffsets(r),ue.getOffsets(t.container),ue.sortSimple);s.bottom=-s.bottom,s.right=-s.right;var l,u,c=qi(i,s,ue.sortSimple);c.top>0?u=c.top:c.bottom>0&&(u=-Math.min(c.bottom,-c.top)),c.left>0?l=c.left:c.right>0&&(l=-Math.min(c.right,-c.left)),u&&(r.style.top=u+"px",c.top-=u,c.bottom+=u),l&&(r.style.left=l+"px",c.left-=l,c.right+=l),e.marginOverflows=c}}},resizeSubtitle:function(e){var t=this;if(e){var i=ue.getOffset(t.container,"height"),n=ue.getOffset(t.container,"width"),a=t.currentSubItem.info,o=a.videoHeight,r=a.videoWidth;if(n/i<2)var s={width:n/r,height:i/o};else s={width:1,height:1};if(s.height=Mi(s.height,Oi),s.width=Mi(s.width,Oi),e.linePadding)for(var l=Gi(e.padding.left,"px",s.width*t.sizeAdjustment),u=Gi(e.padding.right,"px",s.width*t.sizeAdjustment),c=document.getElementsByClassName("p_cueDirUniWrapper"),d=0;d<c.length;d++)Bi.applyLinePadding(c[d],l,u);if(e.fontSize){var p=e.fontSize.slice(0,e.fontSize.indexOf("em")),h=parseFloat(p)*s.height;if(n/i<2){var f=.06*i/16;h=Math.max(h,f);var m=.1*i/16;h=Math.min(h,m)}else h=Math.max(h,.5);if(t.player.isFullScreen){var y=function(e){if(window.screen&&window.screen.width&&window.screen.height&&e.width&&e.height){var t=window.screen.width/e.width,i=window.screen.height/e.height;return Math.min(i,t)}return 1}({width:n,height:i});h*=Math.sqrt(y)}h*=t.sizeAdjustment,h+="em";for(var g=e.cueHTMLElement.getElementsByClassName("p_paragraph"),v=0;v<g.length;v++)g[v].style.fontSize=h}var C=e.cueHTMLElement.getElementsByClassName("p_paragraph");for(d=0;d<C.length;d++){C[d].style.width="100%",C[d].style.height="100%";var S=C[d].getElementsByTagName("span"),T=[];for(v=0;v<S.length;v++)T.push(ue.getOffsets(S[v]));var P=Vi(T),k=1;b.trident&&(k=1.05),P&&P.height>0&&P.width>0&&(C[d].style.width=P.width*k+"px",C[d].style.height=P.height*k+"px")}for(d=0;d<C.length;d++){var w=C[d],E=ue.getOffsets(w),_=ue.getOffsets(e.cueHTMLElement),I=e.cueHTMLElement.style;if((_=qi(_,{left:Ri(I.paddingLeft),right:-Ri(I.paddingRight),top:Ri(I.paddingTop),bottom:-Ri(I.paddingBottom)},function(e,t){return e+t})).width=_.right-_.left,_.height=_.bottom-_.top,_.width>0&&_.height>0)for(v=0;v<e.flexBoxAttr.length;v++){var A=e.flexBoxAttr[v];A.indexOf("align-items")>=0?A.indexOf("flex-start")>=0?w.style.marginTop="0px":A.indexOf("center")>=0?w.style.marginTop=_.height/2-E.height/2+"px":A.indexOf("flex-end")>=0&&(w.style.marginTop=_.height-E.height+"px"):A.indexOf("justify-content")>=0&&(A.indexOf("flex-start")>=0?w.style.marginLeft="0px":A.indexOf("center")>=0?w.style.marginLeft=_.width/2-E.width/2+"px":A.indexOf("flex-end")>=0&&(w.style.marginLeft=_.width-E.width+"px"))}}}},resizeFix:function(){var e=this.container;e&&(e.style.display="none")},resizeFixEnd:function(){var e=this;e.player.ui.config.subtitles&&e.player.ui.config.subtitles.sizeAdjustment||(e.sizeAdjustment=e.getDefaultSizeAdjustment(),e.player.ui.subtitleSettingsPanel&&e.player.ui.subtitleSettingsPanel.indicateSize&&e.player.ui.subtitleSettingsPanel.indicateSize(e.sizeAdjustment));var t=e.container;t&&e.showingSubs&&(t.style.display="block",e.updatePositions())},load:function(e){var t,i=this;if(i.subsAvailable()&&(i.showingSubs||e)){var n=i.player.mediaItem,a=n?n.subtitleConnections:null;if(!(t=i.overrideItem)&&a){"https:"===location.protocol&&(a=a.filter(function(e){return"https"==e.protocol}));var o=a.filter(function(e){return!e.blacklisted});t=o.filter(function(e){return e.kind==i.kind})[0]||o[0]}if(t)return t.live&&(t.enableDesnake=i.desnakeLiveSubs,t.blockDesnake=i.blockDesnake,t.enableReformat=i.reformatLiveSubs),i.currentSubItem=t,i.currentSubItem.loadSubtitles(Fi(i,"subtitlesLoaded"),Fi(i,"subtitlesFailed"),i.player.isPlayingHls),!0}},subtitlesFailed:function(e){var t=this;!t.overrideItem&&(t.currentSubItem.blacklisted=!0,t.load())||(t.failedToLoad=!0,t.showingSubs=!1,ue.callErrorFunction(t.player,v.SUBS_FAILED,e,!0),t.clearSubtitles(),t.showLoadErrorMessage(),t.player.ui.subtitleSettingsPanel.indicateSubsOff())},subtitlesLoaded:function(e,t){var i=this;i.player.ui.UIinfoObject.subtitles=!0,i.player.ui.UIinfoObject.subtitlesEnabled=!0,i.player.ui.dispatchUIInfo(),i.clearSubtitles(),t&&ue.callErrorFunction(i.player,v.SUBS_PARTIALLY_FAILED,e,!0)},onNewConnection:function(){var e=this;e.showingSubs&&!e.currentSubItem&&e.load()}};var Ki=new RegExp("([+-]?)P(?:(\\d+)Y)?(?:(\\d+)M)?(?:(\\d+)D)?(?:T(?:(\\d+)H)?(?:(\\d+)M)?(?:(\\d+(?:\\.\\d+)?)S)?)?","i"),Yi={};function Xi(e,t){return e.replace("$Number%04d$",("0000"+t).slice(-4))}var $i={};function Ji(e,t){var i=Xi(e.storyboardUrlTemplate,t);$i[i]||($i[i]=!0,(new Image).src=i)}var Zi=function(e){this.player=e};function en(e,t){if(e)for(var i=0;i<e.length;i++)for(var n=e[i],a=0;a<t.length;a++){var o=t[a];tn(n,o),n.createdItem&&tn(n.createdItem,o)}}function tn(e,t){e.identifier==t.vpid&&(e.jwtTokenRequired=!1,e.jwtToken=t.token,e.tokenUpdated&&(e.tokenUpdated(),e.tokenUpdated=null))}function nn(e){var t=document.getElementsByTagName("head")[0],i=!1;if(t.querySelectorAll)for(var n=t.querySelectorAll("link"),a=0;a<n.length;a++)if(n[a].href==e){i=!0;break}if(!i){var o=document.createElement("link");o.type="text/css",o.rel="stylesheet",o.href=e,t.appendChild(o)}}function an(e){var t=e.ui;this.onAdsProcessed=function(t){e.onAdsProcessed(t)},this.updateQuality=function(t){e.updateQuality(t)},this.updateUiConfig=function(e){t.updateConfig(e)},this.uiConfigFromBump=function(e){t.updateConfig(e,!0)},this.captureIntent=function(t,i){if(!i){var n=t?t.type:null;e.captureIntent(n)}},this.dispatch=function(t,i){e.dispatch(t,i)},this.updateGuidance=function(t){e.config.guidance=ue.merge(e.config.guidance||{},t),e.ui.updateGuidance(),e.dispatch({type:"guidanceUpdated"},!0)},this.next=function(t){e.next(t)},this.previous=function(t){e.previous(t)},this.readyPlaylist=function(t){try{t=JSON.parse(JSON.stringify(t))}catch(i){}return e.addToPlaylistCollection(t)},this.preloadFromCollection=function(t){return e.preloadFromCollection(t)},this.loadPlaylistFromCollection=function(t,i){return e.loadPlaylistFromCollection(t,i)},this.queuePlaylist=function(t){if(e.playlist){try{t=JSON.parse(JSON.stringify(t))}catch(i){}e.setQueuedItem(t)}},this.setPreviousPlaylist=function(t){if(e.playlist){try{t=JSON.parse(JSON.stringify(t))}catch(i){}e.setPreviousItem(t)}},this.updateConfig=function(t){e.updateConfig(t)},this.focusButton=function(t){var i=t.name,n=t.after;e.ui.focusButton(i,n)},this.configFromBump=function(t){e.updateConfig(t,!1,!0)},this.loadPlaylist2=function(t,i){e.loadingPlaylistURL=null,i=i||t.nonUserBypass;try{var n=JSON.parse(JSON.stringify(t.playlistObject))}catch(r){n=t.playlistObject}var a="video";if(n&&n.items){var o=n.items[0];!o||"audio"!=o.kind&&"radioProgramme"!=o.kind||(a="audio")}i||!t.autoplay||e.willAutoplayWhenPlayCalled[a]||e.captureIntent(a),ue.asyncDelay(function(){n&&n.queueCurrentPlaylist&&(e._queueOptions={playlist:e.playlist,options:{counterName:e.config.counterName,statsObject:e.config.statsObject,startTime:e.time||e.config.startTime}}),e.reset(),e.resetStatsObject(),e.updateConfig(t),n?e.loadPlaylistObject(n,i):t.playlist&&e.loadPlaylistUrl(t.playlist+"",i)})},this.play=function(t,i){e.playWithUserCheck(!t||i)},this.pause=function(){e.pause()},this.stop=function(t){t&&t.destroy&&(e.destroying=!0),e.stop()},this.suspend=function(){e.suspend()},this.volume=function(t){return void 0===t||isNaN(t)||(e.volume=t),e.volume},this.muted=function(t){return e.muted=t,e.muted},this.showSubtitles=function(t){var i=e.Subtitles;return t?i.on():i.off(),i.showingSubs},this.currentTime=function(t){return void 0!==t&&(e.time=t),e.time},this.guidanceClosed=function(i){e.dispatch({type:"guidanceClosed",success:i}),i?t.pGuidance.close(!1,!0):e.isFullScreen&&!e.iframeFullscreen&&e.minimise(),setTimeout(function(){t.focusPlayPauseButton()},100)},this.setData=function(i,n){if(i){var a,o=i.data;ue.asyncDelay(function(){if("SMP.markers"===i.name){if(!n&&o&&o.length)for(a=0;a<o.length;a++)o[a].richDescription=null;t.markerData=o}if("SMP.markers.css"===i.name&&o)for(o instanceof Array||(o=[o]),a=0;a<o.length;a++)nn(o[a]);if("SMP.webcastData"==i.name&&(e.webcastData={},o&&(e.webcastData.accurateStartTime=o.accurateStartTime,e.webcastData.accurateEndTime=o.accurateEndTime,e.webcastData.scheduledEndTime=o.scheduledEndTime,e.webcastData.scheduledStartTime=o.scheduledStartTime,e.webcastData.ignoreJoinTime=o.ignoreJoinTime)),"SMP.subtitlesHref"==i.name&&o&&e.Subtitles.updateSubs(o.url),"SMP.thumbManifestUrl"==i.name&&o&&e.thumbScrub.updateOverrideManifest(o.url),"SMP.protectionData"==i.name&&o&&e.setProtectionData(o),"SMP.availableTime"==i.name&&o&&(e.timeHelper.setAvailableTime(o),e.ui.timeUpdate()),"SMP.mediaSessionAPI"==i.name)return i.fromBumpAPI=!0,void e.dispatch({type:"setMediaSessionAPIdata",data:i});if("SMP.audioTrack"==i.name&&o)if(o.index)e.dashEvents.audioTrack=o.index;else if(!0===o.audioDescription||!1===o.audioDescription){var r=e.dashEvents.audioTracks;if(r)for(a=0;a<r.length;a++)if(r[a].audioDescription==o.audioDescription){e.dashEvents.audioTrack=a;break}}if("SMP.jwtTokens"==i.name&&o){var s=e.playlist,l=s.items,u=o;u instanceof Array||(u=[u]),en(l,u),s.queuedPlaylist&&s.queuedPlaylist.items&&en(s.queuedPlaylist.items,u);var c=e.playlistCollection;for(var d in c)c.hasOwnProperty(d)&&c[d].items&&en(c[d].items,u)}}),e.dispatch({type:"setData",data:i},!0)}},this.pauseAt=function(t){t&&t.sort&&(e.pauseTimes=t.sort(ue.sortSimple))},this.loadPlugin2=function(e){ot.loadPlugin(e.url,e.data,e.waitOnPluginLoad)},this.setPoster=function(i){var n=i.url,a=i.effect;if(e.playlist){if(e.playlist.posterRecipe=n,e.playlist.posterImg=n,t.config.poster.effects&&a&&a.type){switch(a.type){case"fade":t.fadeInNewPosterImage(a);break;case"slide":t.slideInNewPosterImage(a);break;case"zoom":t.zoomInPosterImage(a)}return}t.updatePoster(),t.hideEffects()}},this.ccInfo=function(t){e.Chromecast.handleEventFromBump(t)},this.PINverified=function(e){t.pGuidance.verified(e)},this.playbackRate=function(t){e.playbackRate=t},this.closedPlaybackSettingsPanel=function(e){t.playbackSettingsButton&&(t.playbackSettingsButton.close(),e.focusButton&&t.playbackSettingsButton.focus())},this.repositionBumpPlaybackSettingsPanel=function(){t.bumpPlaybackSettingsPanel&&t.bumpPlaybackSettingsPanel.repositionPanel()},this.closedSettingsPanels=function(){t.playbackSettingsButton&&t.playbackSettingsButton.close(),t.removeCloseSettingsPanelsListener&&t.removeCloseSettingsPanelsListener()},this.bumpSettingsPanelOpen=function(e){t&&t.addCloseSettingsPanelsListener&&t.addCloseSettingsPanelsListener(),"playbackSettings"==e.type&&t.playbackSettingsButton&&t.playbackSettingsButton.open()}}Zi.prototype={updateOverrideManifest:function(e){this.overrideManifestHref=e,this.extractManifestData()},newMediaItem:function(e){this.overrideManifestHref=null,this.connectionIndex=0,this.reset(),this.mediaItem=e},extractManifestData:function(){var e=this.overrideManifestHref;if(this.mediaItem&&(e||(e=this.mediaItem.thumbManifestHref),!e)){var t=this.mediaItem.thumbnailConnections;t[this.connectionIndex]&&(e=t[this.connectionIndex].href)}this.manifestHref!=e&&(e?this._init(e):this.reset())},getThumbnailData:function(e,t,i){var n,a,o,r,s,l,u;if(u=t+"x"+i,n=this.thumbData[u])return a=Math.min(n.totalNumberThumbs-2,Math.max(0,Math.ceil(e/n.thumbInterval)-1)),Ji(n,o=Math.floor(a/n.thumbsPerBoard)),o>0&&Ji(n,o-1),o<n.lastBoard&&Ji(n,o+1),l=(r=a%n.thumbsPerBoard)%n.numberColumns,s=Math.floor(r/n.numberColumns),{storyBoardUrl:Xi(n.storyboardUrlTemplate,o),x:-1*l*t,y:-1*s*i}},reset:function(){this.manifestHref=null,this.thumbData={},this.loaded=!1,this.player.ui&&this.player.ui.controls&&ue.className(this.player.ui.controls,"","p_hasThumbnails")},_init:function(e){var t=this;if(t.manifestHref=e,t.thumbData={},t.loaded=!1,e){Yi[e]={};var i=function(){ue.callErrorFunction(t.player,v.THUMBNAIL_FAILOVER,t.manifestHref,!0),t.connectionIndex++,t.extractManifestData()};ue.getXML(e,function(n){var a={};t.manifestXml=n;try{a=(new Ht).xml2json(n),t.manifestJSON=a}catch(o){return void i()}a&&a.MPD&&a.MPD.Period?(t.duration=function(e){var t=Ki.exec(e);if(t){var i=parseInt("0"+t[2],10),n=parseInt("0"+t[3],10),a=parseInt("0"+t[4],10),o=parseInt("0"+t[5],10),r=parseInt("0"+t[6],10);return parseFloat("0"+t[7])+60*r+60*o*60+24*a*60*60+30*n*24*60*60+365*i*24*60*60}return null}(a.MPD.Period.duration),t.thumbData=function(e,t,i){var n,a,o,r,s,l,u,c,d,p={},h={},f=function(e){var t="";return-1!==e.indexOf("/")&&(-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),t=e.substring(0,e.lastIndexOf("/")+1)),t}(i);for(c=0,d=t.length;c<d;c++)h={},a=(n=t[c]).Representation.width,o=n.Representation.height,r=n.SegmentTemplate.media,s=n.Representation.id,u=a+"x"+o,l=f+r.replace("$RepresentationID$",s),h.storyboardUrlTemplate=l,h.numberRows=n.Representation.EssentialProperty_asArray[0].value,h.numberColumns=n.Representation.EssentialProperty_asArray[1].value,h.thumbsPerBoard=h.numberRows*h.numberColumns,h.maxNumBoards=40,h.thumbInterval=n.SegmentTemplate.timescale/1e3,h.totalNumberThumbs=Math.floor(e/h.thumbInterval),h.lastBoard=Math.ceil(h.totalNumberThumbs/h.thumbsPerBoard)-1,p[u]=h;return p}(t.duration,a.MPD.Period.AdaptationSet_asArray,e),t.player.ui&&t.player.ui.controls&&ue.className(t.player.ui.controls,"p_hasThumbnails"),t.loaded=!0):i()},i,Yi[e])}}};var on=!0,rn=[],sn=!1;function ln(){on=!0,sn=!1}var un=function(e){var t=this;return t.player=e,t.container=document.createElement("div"),t.container.id="narrSubsContainer",t.container.style.cssText="display:none;",t.player.mediaContainer.appendChild(t.container),t.narrativeMainWrap=document.createElement("div"),t.narrativeMainWrap.id="narrative",t.narrativeMainWrap.className="Narrative",t.container.appendChild(t.narrativeMainWrap),t.narrSubWrap=document.createElement("div"),t.narrativeMainWrap.appendChild(t.narrSubWrap),t.textContainer=document.createElement("p"),t.narrSubWrap.appendChild(t.textContainer),t.eventCallbacks=function(e){return{timeupdate:function(){on||e.render()},playing:function(){on&&(e.player.Subtitles.load(!0),on=!1)},playlistLoaded:ln}}(this),t};un.prototype={render:function(){var e=this,t=function(e){var t=e.player.Subtitles&&e.player.Subtitles.currentSubItem&&e.player.Subtitles.currentSubItem.loaded;if(!sn&&t){for(var i=e.player.Subtitles.currentSubItem.captionsList,n=0;n<i.length;n++)i[n].forcedDisplay&&rn.push(i[n]);sn=!0}return 0!==rn}(e);if(t){var i=e.player.timeHelper.time,n=rn.filter(function(e){return e.start<=i&&i<e.end}),a=n[0]&&n[0].cueHTMLElement?n[0].cueHTMLElement.innerText:"";if(!e.textContainer.firstChild||e.textContainer.firstChild.innerText!==a){var o=document.getElementById("caption");o&&e.textContainer.removeChild(o),""!==a&&((o=document.createElement("span")).id="caption",o.textContent=a,e.textContainer.appendChild(o))}}}};var cn=function(e){var t=this;return t.player=e,t.alreadySetFromPlayback=!1,t.alreadySetFromBumpAPI=!1,t.eventCallbacks=function(e){function t(){var t=e.player.ui.config.controls,i=t.includeNextButton&&(e.player.hasNext||t.alwaysEnableNextButton),n=t.previousNextJustEvents,a=navigator.mediaSession;i?n?a.setActionHandler("nexttrack",function(){e.player.dispatch({type:"nextRequested"}),e.player.trackAction("nextTrack_mediaSessionApi","nextTrack")}):a.setActionHandler("nexttrack",function(){e.player.next(),e.player.trackAction("nextTrack_mediaSessionApi","nextTrack")}):a.setActionHandler("nexttrack",null)}function i(){var t=e.player.ui.config.controls,i=t.includePreviousButton&&(t.alwaysEnablePreviousButton||e.player.hasPrevious),n=t.previousNextJustEvents,a=t.includePreviousButton&&e.player.time>=5,o=navigator.mediaSession;i?n?o.setActionHandler("previoustrack",function(){e.player.dispatch({type:"previousRequested"}),e.player.trackAction("previoustrack_mediaSessionApi","previousTrack")}):a?o.setActionHandler("previoustrack",function(){e.player.time=0,e.player.trackAction("previoustrack_mediaSessionApi","backToStart")}):o.setActionHandler("previoustrack",function(){e.player.previous(),e.player.trackAction("previoustrack_mediaSessionApi","previousTrack")}):o.setActionHandler("previoustrack",null)}return{playlistLoading:function(){e.alreadySetFromBumpAPI=!1},playing:function(){e.alreadySetFromPlayback||e.setMetadata(e.player.playlist)},mediaItemInfoChanged:function(){e.alreadySetFromPlayback=!1},setMediaSessionAPIdata:function(t){e.setMetadata(t.data)},mediaItemChanged:function(){t()},playlistsChanged:function(){t(),i()},uiConfigUpdated:function(){t(),i()},timeupdate:function(){i()}}}(t),t};cn.prototype={isSupported:function(){var e=window.navigator&&navigator.mediaSession&&navigator.mediaSession.setActionHandler,t=this.player.ui.config.mediaSessionAPI.enabled;return e&&t},setMetadata:function(e){var t=this;if(!t.alreadySetFromBumpAPI||e.fromBumpAPI){var i=window.MediaMetadata;if(t.isSupported()||!i){e.fromBumpAPI&&(t.alreadySetFromBumpAPI=!0);var n=navigator.mediaSession;if(t.alreadySetFromPlayback=!0,t.title=e.title||"",t.posterURL=e.posterImg||"",t.artist=e.artist||"",t.album=e.album||"",""!==t.posterURL){var a=!!(""!==t.player.ui.config.poster.availableWidths&&"string"==typeof t.player.ui.config.poster.availableWidths)&&t.player.ui.config.poster.availableWidths.split(",");t.posterURL=ue.doChef(t.posterURL,null,t.player.ui.config.poster,512,!0,a)}var o={title:t.title,artist:t.artist,album:t.album};t.posterURL&&(o.artwork=[{src:t.posterURL,sizes:"512x512",type:"image/jpg"}]),n.metadata=new i(o),t.setControls()}}},setControls:function(){var e=this,t=e.calculateSkipTime(),i=navigator.mediaSession;i.setActionHandler("seekforward",function(){e.player.time=e.player.time+t,e.player.trackAction("seekforward_mediaSessionApi","seekforward")}),i.setActionHandler("seekbackward",function(){e.player.time=e.player.time-t,e.player.trackAction("seekbackward_mediaSessionApi","seekbackward")}),i.setActionHandler("play",function(){e.player.mediaPlayer.play(),document.pictureInPictureElement&&document.pictureInPictureElement.play(),e.player.trackAction("play_mediaSessionApi","play")}),i.setActionHandler("pause",function(){e.player.mediaPlayer.pause(),document.pictureInPictureElement&&document.pictureInPictureElement.pause(),e.player.trackAction("pause_mediaSessionApi","pause")})},calculateSkipTime:function(){var e,t=this.player.duration;return(0===(e=this.player.isLive?20:3*t/100)||isNaN(e))&&(e=10),e}},cn.isSupported=window.navigator&&navigator.mediaSession&&navigator.mediaSession.setActionHandler;var dn=function(e){return function(t){return(t[e]||0===t[e])&&(t[e].toString,1)?t[e].toString():null}},pn=function(e,t){return function(i){for(var n=[],a=null,o=function(t){return t[e]===a},r=0;r<t.length;r++)a=t[r],n=n.concat(i.filter(o));return n}},hn=function(e,t){return function(i){return ue.stableSort(i,function(i,n){return t.indexOf(i[e])-t.indexOf(n[e])})}};function fn(e,t){for(var i=new dn(t[0]),n=0;e._data.length>n;){var a=e._data[n],o=i(a);if(o){if(!e[o]){var r=ue.clone(e._splitPath);r[t[0]]=o,e[o]={_data:[],_splitPath:r}}e[o]._data.push(a),e._data.splice(0,1)}else n++}if(t.length>1)for(var s in e)"_data"!=s&&"_splitPath"!=s&&e.hasOwnProperty(s)&&fn(e[s],t.slice(1,t.length))}function mn(e,t){var i=[];for(var n in e)if("_data"!=n&&"_splitPath"!=n&&e.hasOwnProperty(n)){var a=t.length>1?t.slice(1,t.length):[];i=i.concat(mn(e[n],a))}return e._data&&(i=i.concat(e._data)),t[0]&&(i=t[0](i,e._splitPath)),i}var yn=function(e,t){var i=this;return i.splitProperties=e,i.combiners=t||[],i.root={_data:[],_splitPath:{}},i};yn.prototype.getCombinedConnections=function(){return mn(this.root,this.combiners)},yn.prototype.addData=function(e){var t=this;t.root._data=e.slice(),fn(t.root,t.splitProperties)};var gn,vn={},bn={},Cn=[],Sn="https://open.live.bbc.co.uk/mediaselector/6/select/version/2.0/vpid/{id}/format/json/mediaset/mobile-phone-main/jsfunc/{callback}",Tn=null,Pn=null,kn="http",wn=!1;function En(e,t){return"dash"==e&&"plain"==t?1:"dash"==t&&"plain"==e?-1:0}var _n=!1;function In(e,t){for(var i=0;i<e.length;i++)if(!wn||t){if("rtmp"==e[i].protocol||"hds"==e[i].format)return!0;if("video/x-flv"==e[i].mimetype)return!0}else if("hds"==e[i].format&&"https"==e[i].protocol)return!0;return!1}function An(e){return function(e){for(var t="",i=0;i<32*e.length;i+=8)t+=String.fromCharCode(e[i>>5]>>>24-i%32&255);return t}(function(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var i=Array(80),n=1732584193,a=-271733879,o=-1732584194,r=271733878,s=-1009589776,l=0;l<e.length;l+=16){for(var u=n,c=a,d=o,p=r,h=s,f=0;f<80;f++){i[f]=f<16?e[l+f]:xn(i[f-3]^i[f-8]^i[f-14]^i[f-16],1);var m=Bn(Bn(xn(n,5),Nn(f,a,o,r)),Bn(Bn(s,i[f]),Ln(f)));s=r,r=o,o=xn(a,30),a=n,n=m}n=Bn(n,u),a=Bn(a,c),o=Bn(o,d),r=Bn(r,p),s=Bn(s,h)}return Array(n,a,o,r,s)}(function(e){for(var t=Array(e.length>>2),i=0;i<t.length;i++)t[i]=0;for(i=0;i<8*e.length;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<24-i%32;return t}(e),8*e.length))}function Nn(e,t,i,n){return e<20?t&i|~t&n:e<40?t^i^n:e<60?t&i|t&n|i&n:t^i^n}function Ln(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function Bn(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function xn(e,t){return e<<t|e>>>32-t}function On(e){var t=e.supplier+"",i="https"===e.protocol?"https":"";e.format&&t.indexOf(e.format)<0&&(e.supplier+="_"+e.format),i&&t.indexOf(i)<0&&(e.supplier+="_"+i)}function Rn(e){return!!e}function Dn(e){return!wn||"https:"!==(location.protocol+"").toLowerCase()||"https"===e.protocol}function Mn(e,t){for(var i=0;i<t.length;i++)if(e.href===t[i].href)return!1;return!0}function Fn(e){return!(null==e.dpw&&(e.supplier+"").indexOf("vbidi")>-1)}function Hn(e){if(gn)return(e.supplier+"").indexOf(gn)>-1;if(b.noSupportForLocationHeader){var t=e.supplier+"";if(t.indexOf("bidi_")>-1&&t.indexOf("nonbidi_")<0)return!1}return!0}function qn(e){var t=e.href+"";return 0===t.indexOf("http://")||0===t.indexOf("https://")||0===t.indexOf("blob:")||0===t.indexOf("file://")}function Un(e){return-1===Cn.indexOf(e.format?e.format:"plain")}function Vn(e,t,i){if("360"!=i.kind&&"plain"===e.format){var n=vn.plain,a=bn.plain;return!(n&&e.bitrate<n||a&&e.bitrate>a)}return!0}function Wn(e){return!("dash"===e.format&&"https:"===(location.protocol+"").toLowerCase()&&0===(e.href+"").toLowerCase().indexOf("http:"))}function Gn(e,t){return e.dpw&&t.dpw?t.dpw-e.dpw:e.dpw?-1:t.dpw?1:e.priority-t.priority}function zn(e,t){!e||!e.connections||e.connections.length<2||ta(e,t)}function jn(e){return"https"==e.preferProtocol||"https"==kn?["https","http"]:["http","https"]}function Qn(e){var t=0,i=0;if(e.length<2)return e;for(var n=0;n<e.length;n++){var a=e[n].dpw;a>0&&a<=100?(i++,t+=a):e[n].dpw=null}if(e.sort(Gn),0===t)return e;if(t>100){for(n=1;n<e.length;n++)e[n].dpw=null;e.sort(Gn),e[1].dpw=100-e[0].dpw,i=2}else if(t<100){for(n=0;n<e.length;n++)if(null==e[n].dpw){e[n].dpw=100-t,i++,t=100;break}if(t<100){var o=(100-t)/2;e[0].dpw+=o,e[1].dpw+=o}}for(var r=[],s=e.splice(0,i);s.length>1;){var l=Kn(s),u=Math.round(Math.random()*l);t=0;for(var c=0;c<s.length;c++){var d=s[c];if(u<=(t+=d.dpw)){s.splice(c,1),r.push(d);break}}}return s.length>0&&r.push(s[0]),r.concat(e)}function Kn(e){for(var t=0,i=0;i<e.length;i++)e[i].dpw&&(t+=e[i].dpw);return t}function Yn(e){if(e.backgroundVideo)return["plain"];var t=ue.isItemAudio(e),i=b.filterDash||"360"==e.kind&&(b.ios||b.macSafari),n=e.flashAvailable&&b.preferVideoFallbackOverHLS&&!t||"360"==e.kind&&(b.ios||b.macSafari),a=["plain","hls","dash"],o=t?b.supportsAudioDash:b.supportsVideoDash;return o&&b.supportsHls&&!n?a=b.preferHls?["hls","dash","plain"]:b.preferHlsAfterDash?["dash","hls","plain"]:["dash","plain","hls"]:o?a=["dash","plain","hls"]:b.supportsHls&&(a=["hls","plain","dash"]),n&&(a=a.filter(Xn)),i&&(a=a.filter($n)),_n&&(a=ue.stableSort(a,En)),a}function Xn(e){return"hls"!=e}function $n(e){return"dash"!=e}function Jn(e,t){return e?e.toLowerCase():t}function Zn(e,t){var i=parseFloat(e);return isNaN(i)?t:i}function ea(e){return function(t,i){return e&&i.format&&"plain"==i.format?ue.stableSort(t,function(e,t){return e.bitrate-t.bitrate}):ue.stableSort(t,function(e,t){return t.bitrate-e.bitrate})}}function ta(e,t){var i=[new pn("format",Yn(e)),new hn("protocol",jn(e)),ea(t),Qn],n=new yn(["format","protocol","bitrate"],i);n.addData(e.connections),e.connections=n.getCombinedConnections()}function ia(e){if(e.subtitleConnections&&e.subtitleConnections.length>1){var t=[new hn("protocol",jn(e)),Qn],i=new yn(["protocol"],t);i.addData(e.subtitleConnections),e.subtitleConnections=i.getCombinedConnections()}}function na(e){if(e.thumbnailConnections&&e.thumbnailConnections.length>1){var t=[new hn("protocol",jn(e)),Qn],i=new yn(["protocol"],t);i.addData(e.thumbnailConnections),e.thumbnailConnections=i.getCombinedConnections()}}var aa={getFlashAvailable:In,setConfig:function(e){e&&(vn=e.bitrateFloor,bn=e.bitrateCeiling,Cn=e.suppressType,gn=e.mediator&&e.mediator.fck,Sn=e.mediatorHref||Sn,Tn=e.cvidMediatorHref,Pn=e.samlMediatorHref||Pn,wn=e.maintainTheLock,_n=e.preferPlainOverDash&&b&&b.possiblyPreferPlainOverDash,kn=e.preferProtocol||"http")},sortThumbnailConnections:na,sortSubtitleConnections:ia,validateConnections:zn,mediate:function(e,t,i){if(!e.mediationRequested){e.mediationRequested=!0;var n=Sn.replace("{id}",e.identifier);if(e.identifier&&0===e.identifier.indexOf("CVID:")){if(!Tn)return void ue.asyncDelay(function(){e.mediationAttempted=!0,e.mediationRequested=!1,e.result={reason:"nocvidmediator"},i(e)});n=Tn.replace("{id}",e.cvid)}e.jwtToken&&(-1!=n.indexOf("?")?n+="&":n+="?",n+="jwt_auth="+e.jwtToken),e.samltoken&&Pn&&(n=Pn.replace("{id}",e.identifier)+"?saml_auth="+e.samltoken),isNaN(e.ceiling)||0===e.ceiling||(n=n.replace("/jsfunc","/ceiling/"+e.ceiling+"/jsfunc")),b&&b.supportPlayerFallback&&(n=n.replace("/jsfunc","/atk/"+function(e){for(var t,i="0123456789abcdef",n="",a=0;a<e.length;a++)t=e.charCodeAt(a),n+=i.charAt(t>>>4&15)+i.charAt(15&t);return n}(An("7dff7671d0c697fedb1d905d9a121719938b92bf"+e.identifier))+"/asn/1/jsfunc")),n=n.replace("http://","https://");var a=ue.now();ue.getJSON(n,function(n){var o=[];n||(n={result:"error"});var r=n.result;if(e.mediationTime=ue.now()-a,n.media&&n.media.length){for(var s="",l=0;l<n.media.length;l++){var u=n.media[l];parseInt(u.width,10)/parseInt(u.height,10)==2&&(e.type=e.kind="360"),s=u.kind;for(var c=0;c<u.connection.length;c++){var d=u.connection[c];if("audio"==s||"video"==s){var p={href:d.href,protocol:Jn(d.protocol),mimetype:Jn(u.type),encoding:Jn(u.encoding),format:Jn(d.transferFormat,"plain"),supplier:Jn(d.supplier),bitrate:Zn(u.bitrate,0),priority:Zn(d.priority),dpw:Zn(d.dpw)};On(p),o.push(p),s===e.type||"video"==s&&"360"==e.type||(e.type=s)}else e.backgroundVideo||"captions"!=s?e.backgroundVideo||"thumbnails"!=s||e.thumbnailConnections.push({href:d.href,protocol:Jn(d.protocol),supplier:Jn(d.supplier),dpw:Zn(d.dpw),priority:Zn(d.priority)}):e.subtitleConnections.push(new xi(d.href,Jn(d.protocol),Jn(d.supplier),Zn(d.dpw)))}}if(o.length){e.connections=o,ta(e,t),zn(e,t);for(var h=1;h<o.length;h++)for(var f=o[h].supplier,m=0;m<h;m++)o[m].supplier==f&&(o[m].supplier=f+="_");e.originalConnections=ue.clone(o)}else r="noMedia";e.backgroundVideo||(ia(e),na(e))}e.mediationAttempted=!0,e.mediationRequested=!1,e.result={reason:r},e.flashAvailableUnlocked=In(o,!0),b.flashLockMatters?e.flashAvailable=In(o):e.flashAvailable=e.flashAvailableUnlocked,i(e)})}},pickInitialMediaConnection:function(e,t){zn(e,t);var i=e.connections?e.connections:[];return i.length>0?{index:0,connection:i[0]}:{}},filter:function(t){var i=[],n=t.connections.length,a=[Rn,Un,qn,Vn,Hn,Wn,Mn,Dn,Fn];if(1==n&&qn(t.connections[0])&&Dn(t.connections[0]))return!0;for(var o=0;o<n;o++){var r=!0,s=t.connections[o];e;for(var l=0;l<a.length;l++)if(!a[l](s,i,t)){e,r=!1;break}r&&i.push(s)}return t.connections=i,t.originalConnections=ue.clone(i),i.length>0},getAlternateMediaConnections:function(e,t,i){if(e.mediaItem&&!e.mediaItem.failFast&&e.mediaItem.connections&&e.mediaItem.connections.length>1){var n=e.mediaItem.connections,a=[],o=n[0];"plain"==o.format&&(t=!1);for(var r=1;r<n.length;r++)t?n[r].format!=o.format&&a.push(n[r]):e.mediaItem.failedConnections.indexOf(n[r].supplier)<0&&n[r].supplier!=i&&a.push(n[r]);if(e.mediaItem.hasSeenPlaying){var s=e.mediaConnection;if(s){var l=a[0];if(s.format!=l.format||s.protocol!=l.protocol)return void 0}}if(a.length)return a}},switchMediaConnection:function(e,t,i){var n;if(n=i?ue.clone(e.mediaItem.originalConnections):aa.getAlternateMediaConnections(e,t)){e.failedOver=!t;var a=n[0];e.mediaItem.connections=n,t&&(e.mediaItem.originalConnections=ue.clone(n)),e.failingOver=!0;var o=a.href;return e.mediaItem.live&&"hls"==a.format&&e.timeHelper.setStartTimeAvailable(!1),e.waitingForStartTime=e.waitingForStartTime||e.time,e.dispatch({type:"waiting"}),e.mediaSrc(o),e.tryingToPlay&&"dash"!==a&&e.mediaPlayer.play(),!0}return!1},onAdsProcessed:function(e,t){e.mediationAttempted=!0,e.connections=[],t.error||(e.connections[0]={href:t.mediaFile.src,format:"plain"})}},oa=function(e){return e&&(this.name=e.toLowerCase()),this};oa.prototype={getVideoRatio:function(){var e;switch(this.name){case"hd":case"high":e=1;break;case"medium":default:e=.65;break;case"low":e=.2}return e},getAudioRatio:function(){return 1}};var ra=6e4;function sa(e,t){return e==t.els.video?"video":e==t.els.audio?"audio":e==t.els[360]?"360":"unknown"}function la(e,t){return e.id===t.id&&e.viewpoint===t.viewpoint&&e.lang===t.lang&&e.roles.toString()===t.roles.toString()&&!e.accessibility&&!t.accessibility||e.accessibility&&t.accessibility&&e.accessibility.toString()===t.accessibility.toString()&&(!e.audioChannelConfiguration&&!t.audioChannelConfiguration||e.audioChannelConfiguration&&t.audioChannelConfiguration&&e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString())}function ua(e){var t=e.SegmentTemplate;t&&0===t.startNumber&&(t.startNumber=1)}function ca(e){if(e&&e.SegmentTemplate){var t=e.SegmentTemplate;if(t&&t.presentationTimeOffset>0){var i=t.timescale||1;return t.presentationTimeOffset/i}}}function da(e){var t=e.Period_asArray;if(t&&t[0]){var i=t[0].AdaptationSet_asArray;if(i)for(var n=0;n<i.length;n++)if(i[n].InbandEventStream)return!0}return!1}var pa=[],ha=!1;try{var fa=document.cookie.indexOf("dashJsDebug=true")>-1}catch(Ou){}var ma;function ya(){ha=!1;for(var e=0;e<pa.length;e++)pa[e].errorSettingUp()}function ga(e){e.drmErrorTimeout&&(clearTimeout(e.drmErrorTimeout),e.drmErrorTimeout=null)}function va(e){if(!ha){ha=!0;var t=document.createElement("script");t.type="text/javascript";var i=setTimeout(ya,1e4);t.onload=function(){var e;clearTimeout(i),ha=!1,e=window.dashjs.MediaPlayer.errors,(ma={})[e.MANIFEST_ERROR_ID_PARSE_CODE]=v.MPD_PARSE_ERROR,ma[e.MANIFEST_ERROR_ID_MULTIPLEXED_CODE]=v.MPD_PARSE_ERROR,ma[e.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE]=v.MPD_PARSE_ERROR,ma[e.MANIFEST_ERROR_ID_NOSTREAMS_CODE]=v.MPD_NO_STREAMS,ma[e.MANIFEST_ERROR_ID_CODEC_CODE]=v.NO_SUPPORTED_CODECS,ma[e.DOWNLOAD_ERROR_ID_MANIFEST_CODE]=v.MPD_LOAD_FAIL,ma[e.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE]=v.INIT_FRAGMENT_LOAD_FAIL,ma[e.DOWNLOAD_ERROR_ID_CONTENT_CODE]=v.STREAM_FRAGMENT_LOAD_FAIL,ma[e.MEDIASOURCE_TYPE_UNSUPPORTED_CODE]=v.DASH_MEDIASOURCE_ERROR,ma[e.DOWNLOAD_CONTENT_LENGTH_MISMATCH]=v.STREAM_FRAGMENT_CONTENT_LENGTH_MISMATCH;for(var t=0;t<pa.length;t++)pa[t].ready()};var n="https://emp.bbc.co.uk/emp/dashjs/3.2.0-14";e&&(n="https://emp.bbc.co.uk/emp/dashjs/3.2.0-14"),t.src=n+"/dash.all.min.js",document.body.appendChild(t)}}function ba(t,i){if(t.dashPlayer){var n=t.player.consideredMobileConnection?0:.3,a=t.player&&t.player.ui&&t.player.ui.pIp&&t.player.ui.pIp.isPlayingInPicture&&t.player.ui.pIp.isPlayingInPicture();if(document.hidden&&!a&&i>n)return Math.min(n,i);e}return i}function Ca(e){var t=e.player;return function(i){var n={streaming:{abr:{initialRepresentationRatio:{},initialBitrate:{},maxBitrate:{},autoSwitchBitrate:{}}}},a=n.streaming.abr,o=e.initialBitrate.video||0,r=e.initialBitrate.audio||0;try{window.localStorage&&(!o&&localStorage.smphtml5_vbr&&(o=parseInt(localStorage.smphtml5_vbr,10)),!r&&localStorage.smphtml5_abr&&(r=parseInt(localStorage.smphtml5_abr,10),t.consideredMobileConnection&&(r=Math.min(97,r))))}catch(Ou){}if(r)a.initialBitrate.video=o/1e3,a.initialBitrate.audio=r/1e3;else{var s=.6;if(t.config.hasOwnProperty("startingQuality"))s=t.config.startingQuality;else if(t.config.consideredMobileConnection)s=.1;else if(t.config.hasOwnProperty("quality"))switch(t.config.quality){case"hd":case"high":s=1;break;case"medium":t.mediaContainer.clientWidth>=832&&(s=1);break;case"low":s=0}a.initialRepresentationRatio.video=s,a.initialRepresentationRatio.audio=s}t.mediaItem&&"video"==t.mediaItem.type?(a.autoSwitchBitrate.audio=!1,t.consideredMobileConnection?a.initialBitrate.audio=48:a.initialBitrate.audio=97):a.autoSwitchBitrate.audio=!0,e.initialSettings&&e.dashPlayer.updateSettings(e.initialSettings);var l={};if(e.preferAD&&(l.role="alternate",l.accessibility="1"),e.dashPlayer.setInitialMediaSettingsFor("audio",l),n.streaming.stableBufferTime=30,"function"==typeof e.dashPlayer.updateSettings?e.dashPlayer.updateSettings(n):(e.dashPlayer.setAutoSwitchQualityFor("audio",a.autoSwitchBitrate.audio),a.initialBitrate.audio&&e.dashPlayer.setInitialBitrateFor("audio",a.initialBitrate.audio),a.initialBitrate.video&&e.dashPlayer.setInitialBitrateFor("video",a.initialBitrate.video),a.initialRepresentationRatio.audio&&e.dashPlayer.setInitialRepresentationRatioFor("video",a.initialRepresentationRatio.video),a.initialRepresentationRatio.video&&e.dashPlayer.setInitialRepresentationRatioFor("audio",a.initialRepresentationRatio.audio)),t.mediaItem&&t.mediaItem.live&&(e.isLiveWebcast=da(i.data)),e.isLiveWebcast){var u=Sa(i.data);u.ended?(e.isLiveWebcast=!1,Ta(e),e.player.timeHelper.setInbandEndTime(u.endTime)):function(e){e.webcastRefreshId||(e.webcastRefreshId=setInterval(function(){e.player.timeHelper.latestSeek-e.player.time>60&&e.refreshManifest()},ra))}(e)}if(e.manifestRefreshCallback){var c=e.manifestRefreshCallback;e.manifestRefreshCallback=null,c()}}}function Sa(e){return{ended:!isNaN(e.mediaPresentationDuration),endTime:e.mediaPresentationDuration}}function Ta(e){e.webcastRefreshId&&(clearInterval(e.webcastRefreshId),e.webcastRefreshId=null)}function Pa(e,t,i){for(var n=e.dashPlayer.getBitrateInfoListFor(t)||[],a=0;a<n.length;a++)if(n[a].qualityIndex===i)return n[a].bitrate;return-1}function ka(t){return function(i){var n,a=window.dashjs.MediaPlayer.errors;if("key_session"===i.error)return t.delayedErrorHandler(v.DRM_KEY,i.event),void function(e){ga(e),e.drmErrorTimeout=setTimeout(e.errorHandler,1e4,v.DRM_ERROR_TIMEOUT)}(t);if(i.error&&i.error.code){switch(i.error.code){case a.CAPABILITY_MEDIASOURCE_ERROR_CODE:case a.CAPABILITY_MEDIAKEYS_ERROR_CODE:t.delayedErrorHandler(v.DEVICE_NOT_SUPPORTED);break;case a.DOWNLOAD_ERROR_ID_MANIFEST_CODE:case a.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE:case a.DOWNLOAD_ERROR_ID_CONTENT_CODE:case a.DOWNLOAD_CONTENT_LENGTH_MISMATCH:n=i.error.data.request.url+"_"+i.error.data.response.status;break;case a.MANIFEST_ERROR_ID_CODEC_CODE:n=(i.error?i.error.message:"(unknown)").match(/\(.*\)/g)[0]||"unknown";case a.MANIFEST_ERROR_ID_PARSE_CODE:case a.MANIFEST_ERROR_ID_MULTIPLEXED_CODE:case a.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE:case a.MANIFEST_ERROR_ID_NOSTREAMS_CODE:}var o=ma[i.error.code];if(o){if(o==v.NO_SUPPORTED_CODECS&&t.player.config.ignoreCodecErrors)return;o!==v.INIT_FRAGMENT_LOAD_FAIL&&o!==v.STREAM_FRAGMENT_LOAD_FAIL||(o=function(e,t,i){var n=t,a=i.error.data.request,o=e.player.timeHelper.inbandEndTime;if(!isNaN(o)){var r=a.mediaStartTime;if(o&&o-r<10)return e.player.endOnWaiting=!0,v.FRAGMENT_END_DOWNLOAD_INFORMATION}var s=a.mediaInfo.streamInfo.duration,l=a.startTime;if(s-l<1)return e.player.endOnWaiting=!0,v.FRAGMENT_END_DOWNLOAD_INFORMATION;if(function(e,t){e.activeBaseUrls&&(e.blacklist=e.activeBaseUrls.filter(function(e){return e.serviceLocation===t}),e.activeBaseUrls=e.activeBaseUrls.filter(function(e){return e.serviceLocation!==t}))}(e,a.serviceLocation),0!==e.dashFailoversRemaining()||e.streamFragmentErrorSent)switch(t){case v.INIT_FRAGMENT_LOAD_FAIL:n=v.INIT_FRAGMENT_DOWNLOAD_INFORMATION;break;case v.STREAM_FRAGMENT_LOAD_FAIL:n=v.FRAGMENT_DOWNLOAD_INFORMATION}else e.streamFragmentErrorSent=!0;return n}(t,o,i)),o==v.NO_SUPPORTED_CODECS&&ue.asyncDelay(t.reset,[],t),t.delayedErrorHandler(o,n)}else e}}}function wa(e){return function(t){var i=t.newQuality,n=t.mediaType;(function(e,t,i,n){var a=e.player,o=a.mediaConnection;a.dispatch({type:"bitrateChanged",streamType:t,previousBitrate:e.bitrate[t]?e.bitrate[t].rate:NaN,newBitrate:i,newIndex:n}),e.bitrate[t]={rate:i,index:n};for(var r={all:[]},s=a.dashEvents.dashPlayer.getActiveStream().getProcessors()||[],l=0;l<s.length;l++){var u=s[l];if(u){var c=u.getMediaInfo();if(c&&new RegExp('.*codecs="(.*)"',"gim").test(c.codec)){var d=c.type;r.all.push(RegExp.$1),"all"!=d&&(r[d]=RegExp.$1)}}}a.dispatch({type:"loadedmetadata",bitrate:e.currentBitsPerSecond,codecs:r.all.join(","),audioCodec:r.audio,videoCodec:r.video,cdn:o?o.supplier:null});try{window.localStorage&&("audio"===t?localStorage.setItem("smphtml5_abr",i):"video"===t&&localStorage.setItem("smphtml5_vbr",i))}catch(ka){}e.slowDownloadCount[t]=0})(e,n,Pa(e,n,i),i)}}function Ea(e,t){var i=e.indexOf(t);return i>0&&(e.splice(i,1),e.unshift(t)),i>=0}function _a(e){if(!e.eventsInitialised){e.errorHistory=[];var t,i=e.player,n=e.dashPlayer,a=dashjs.MediaPlayer.events;ue.multiAddEventListener(n,[a.METRIC_ADDED,a.METRIC_UPDATED],(t=function(e){var t=e.player;function i(t){e.slowDownloadCount[t]=0}return{metricAdded:{HttpList:function(n){var a=n.mediaType,o="video"==n.mediaType?3:10,r=n.value;try{if(t.mediaItem&&t.mediaItem.live&&r.interval>5e3&&"video"==sa(t.mediaPlayer,t)){var s=r._responseHeaders.match(/^x-amz-cf-id: (.*)$/gim);if(s){var l=s[0].split(":")[1],u=r.url;e.errorHandler(v.DOWNLOAD_WAS_SLOW,u+"__"+l)}}}catch(c){}r.interval&&"MediaSegment"===r.type&&0===r.quality&&r._mediaduration>2&&r.interval/1e3/r._mediaduration>1.05&&(e.canDispatchFragmentWarning&&(e.errorHandler(v.DOWNLOAD_WAS_SLOW),e.canDispatchFragmentWarning=!1),clearTimeout(e.timersClearedOnReset[a]),e.timersClearedOnReset[a]=setTimeout(i,36e3,a),e.slowDownloadCount[a]++,e.slowDownloadCount[a]>o&&0===t.mediaPlayer.playbackRate&&e.delayedErrorHandler(v.DOWNLOADS_OFTEN_SLOW,r.url))},BufferLevel:function(t){var i=t.mediaType,n=t.value.level/1e3;n!=e.bufferLevel[i]&&(e.bufferLevel[i]=n)},DVRInfo:function(i){e.dashPlayer.currentStart=Math.min(i.value.range.end,i.value.range.start+(t.mediaItem&&t.mediaItem.live?30:0)),e.dashPlayer.currentEnd=i.value.range.end,e.player.timeHelper.startTimeAvailable||e.player.timeHelper.setStartTimeAvailable(!0)}}}}(e),function(e){var i=e.metric;t[e.type]&&t[e.type][i]&&t[e.type][i](e)})),n.addEventListener(a.STREAM_INITIALIZED,function(){for(var t=n.getBitrateInfoListFor("video")||[],a=n.getBitrateInfoListFor("audio")||[],o=[],r=[],s=0;s<t.length;s++)o.push({bitrate:t[s].bitrate,qualityIndex:t[s].qualityIndex});for(s=0;s<a.length;s++)r.push({bitrate:a[s].bitrate,qualityIndex:a[s].qualityIndex});var l=e.getAudioTracks();l&&i.dispatch({type:"multipleaudiotracks",tracks:l}),e.audioTracks=l,i.dispatch({type:"streamInitialized",bitrates:o||r,audioBitrates:r})}),n.addEventListener(a.MANIFEST_LOADED,Ca(e)),n.addEventListener(a.ERROR,ka(e)),n.addEventListener(a.QUALITY_CHANGE_REQUESTED,function(e){return function(t){var i=t.newQuality,n=t.mediaType;!function(e,t,i,n){e.streamingBitrate[t]={rate:i,index:n}}(e,n,Pa(e,n,i),i)}}(e)),n.addEventListener(a.QUALITY_CHANGE_RENDERED,wa(e)),n.addEventListener(a.TRACK_CHANGE_RENDERED,function(e){return function(t){t.newMediaInfo&&t.oldMediaInfo&&"audio"==t.newMediaInfo.type&&e.player.dispatch({type:"trackchanged",track:e.audioTrack})}}(e)),n.addEventListener(a.AST_IN_FUTURE,function(t){t.delay>2e4&&(clearTimeout(e.timersClearedOnReset.AST_IN_FUTURE),e.timersClearedOnReset.AST_IN_FUTURE=setTimeout(ue.callErrorFunction,100,i,v.CONTENT_NOT_AVAILABLE_PRE_START))}),a.BASEURL_SELECTED&&(n.addEventListener(a.BASEURL_SELECTED,function(e){return function(t){for(var i,n=0;n<e.connections.length;n++){var a=e.connections[n];if(a.href.indexOf(t.baseUrl.url)>=0){i=a;break}}i&&e.connections[0]!==i&&(Ea(e.connections,i),Ea(e.player.mediaItem.connections,i),e.player.dispatch({type:"changingsrc",supplier:i.supplier,encoding:i.encoding,format:i.format}))}}(e)),n.addEventListener(a.URL_RESOLUTION_FAILED,function(e){return function(){e.player.mediaItem.dashAlternates&&(e.connections=[])}}(e))),n.addEventListener("needkey",function(e){return function(t){e.player.dispatch(t)}}(e)),n.addEventListener(a.MANIFEST_VALIDITY_CHANGED,function(e){return function(t){isNaN(t.newDuration)||e.player.timeHelper.setInbandEndTime(t.newDuration)}}(e)),e._visibilityChangeHandler=function(e){var t,i=function(){if(e.dashPlayer){var t=(e.player.quality||new oa).getVideoRatio();t=ba(e,t),"function"==typeof e.dashPlayer.updateSettings?e.dashPlayer.updateSettings({streaming:{abr:{maxRepresentationRatio:{video:t}}}}):e.dashPlayer.setMaxAllowedRepresentationRatioFor("video",t)}};return function(){clearTimeout(t);var e=document.hidden?2500:100;t=setTimeout(i,e)}}(e),document.addEventListener("visibilitychange",e._visibilityChangeHandler),n.addEventListener("serviceLocationUnblacklisted",function(e){return function(t){!function(e,t){if(e.blacklist){var i=e.blacklist.filter(function(e){return e.serviceLocation===t});i&&1===i.length&&(e.activeBaseUrls.push(i[0]),e.blacklist=e.blacklist.filter(function(e){return e.serviceLocation!==t}))}}(e,t.entry)}}(e)),e.eventsInitialised=!0}}function Ia(e,t){var i=e.href,n=i.split(".ism/");if(n&&-1!=i.indexOf(".ism/")){var a=n[0]+".ism/";return{__text:a,"dvb:priority":t,"dvb:weight":e.dpw,serviceLocation:e.supplier||a}}}var Aa=function(e,t,i){var n=this;return pa.push(n),n.player=e,n.experimentalDash=t,ue.defineProperties(n,function(e){return{audioTrack:{get:function(){for(var t=e.getAudioTracks(),i=e.dashPlayer.getCurrentTrackFor("audio"),n=0;n<t.length;n++)if(la(t[n],i))return t[n]},set:function(t){var i=e.getAudioTracks(),n=-1;if("number"==typeof t){if(!i||!i[t])return;n=t}else for(var a=0;a<i.length;a++)if(la(i[a],t)){n=a;break}n<0||(e.preferAD=i[n].audioDescription,e.dashPlayer.setCurrentTrack(i[n]))}},currentBitsPerSecond:{get:function(){return e.bitrate?Math.round((e.bitrate.video.rate+e.bitrate.audio.rate)/1e3):0}},currentBitrateIndex:{get:function(){var t;return e.bitrate&&(t=e.bitrate.video.index),isNaN(t)&&(t=e.bitrate.audio.index),t}},dashJsDebug:{get:function(){return fa},set:function(t){var i=e.dashPlayer;if(fa=!!t,i){var n=i.getDebug();"function"==typeof n.setLogToBrowserConsole?n.setLogToBrowserConsole(t):i.updateSettings({debug:{logLevel:t?dashjs.Debug.LOG_LEVEL_DEBUG:dashjs.Debug.LOG_LEVEL_NONE}})}}}}}(n)),window.dashjs?n.ready(dashjs.MediaPlayer):va(t),this.codecRefresh=-1,this.setup(),n.errorHandler=function(){i.apply(null,[n,n.player].concat(Array.prototype.slice.call(arguments)))},this};function Na(t){if(t.loadQueue.length>0){var i=t.loadQueue[0];if(!(t.loadedSegments.indexOf(i.index)<0&&(t.baseUrl||t.tryDash)))return t.loadQueue.shift(),Na(t),!1;var n=function(e,t,i){if(e)return e+t+".m4s";if(i){var n=i.replace(/-video=\d*-/,"-caption1=64000-");if(n!=i)return n;if((n=i.replace(/v=pv\d+\/b=\d+/,"s=caption1/b=64000"))!=i)return n}return!1}(t.baseUrl,i.index,i.url);t.loadedSegments.push(i.index);var a=0,o=function(a){var o=a.split(/<\?xml[^\?]+\?>/i)[1],r=new DOMParser;try{var s=r.parseFromString(o,"text/xml");!function(t,i,n,a){var o=!0;if(n)try{var r=Bi.parse(n),s=r.captionsList;if(t.info=r.info,s&&s.length>0){for(var l=0;l<s.length;l++){var u=s[l];u.start<3600&&(u.start+=i-3.84,u.end+=i-3.84),u.start+=t.timeOffset,u.end+=t.timeOffset,u.liveSegmentIndex=a,u.start<i-.01&&(u.start=i),u.end>i+3.84+.01&&(u.end=i+3.84),u.end<=u.start&&(u.delete=!0),t.enableReformat&&(Fa(s[l]),Ha(s[l]),qa(s[l]))}if(function(e,t){var i="captionsList";e[i]||(e[i]=[]);for(var n=0;n<t.length;n++)t[n].delete||e[i].push(t[n]);e[i]=ue.stableSort(e[i],ue.sortByStart)}(t,s),t.enableDesnake&&(t.blockDesnake?(La(t.captionsList,Ma),La(t.captionsList,Da)):La(t.captionsList,Ba)),t.enableReformat){t.blockDesnake?function(e){for(var t=0;t<e.length;){for(var i=!1,n=e[t],a=t-1;a>=0;a--){var o=Ra(n,e[a]);if(o){for(var r=o.cueHTMLElement.children[0].children[0],s=o.cueHTMLElement.children[0].children[1],l=a-1;l>=0;l--)if(e[l].cueHTMLElement.textContent===r.textContent){o.start=e[l].start,e.splice(l,1),a--,t--;break}for(var u=t+1;u<e.length;u++)if(e[u].cueHTMLElement.textContent===s.textContent){e.splice(u,1);break}e.splice(t,1,o),e.splice(a,1),i=!0;break}}i||t++}}(t.captionsList):La(t.captionsList,Ra);for(var c=0;c<s.length;c++){var d=s[c];t.lastBaseline&&Wa(t.lastBaseline,d),Ua(d)&&(t.lastBaseline=d)}}var p=t.captionsList.length;if(p>180){for(var h=[],f=s[0].start,m=0;m<t.captionsList.length;){var y=t.captionsList[m];y.start<f-120||y.start>f+300||h.indexOf(y.liveSegmentIndex)>0?(h.indexOf(y.liveSegmentIndex)<0&&h.push(y.liveSegmentIndex),t.captionsList.splice(m,1)):m++}t.loadedSegments=t.loadedSegments.filter(function(e){return h.indexOf(e)<0})}}}catch(Ou){e}else o=!1;return o}(t,i.start,s,i.index)?t.errorCallback(n):t.loadedCallback&&(t.loadedCallback(n),t.loadedCallback=null)}catch(Ou){t.errorCallback(n)}t.loadQueue.shift(),Na(t)},r=function(){a++>3?t.errorCallback(n):setTimeout(function(){ue.getText(n,o,r,t)},400)};n&&ue.getText(n,o,r,t)}return!0}function La(e,t){for(var i=0;i<e.length;){for(var n=!1,a=e[i],o=i-1;o>=0;o--){var r=t(a,e[o]);if(r){e.splice(i,1,r),e.splice(o,1),n=!0;break}}n||i++}}function Ba(e,t){var i=null;return e.start<=t.end&&function(e,t){var i=!1;return 0===e.cueHTMLElement.textContent.indexOf(t.cueHTMLElement.textContent)&&e.cueHTMLElement.style.left===t.cueHTMLElement.style.left&&e.cueHTMLElement.style.top===t.cueHTMLElement.style.top&&e.cueHTMLElement.style.width===t.cueHTMLElement.style.width&&e.cueHTMLElement.style.height===t.cueHTMLElement.style.height&&(i=!0),i}(e,t)&&(e.start=t.start,t.desnaked=!0,i=e),i}function xa(e){return{left:parseFloat(e.cueHTMLElement.style.left),top:parseFloat(e.cueHTMLElement.style.top),width:parseFloat(e.cueHTMLElement.style.width),height:parseFloat(e.cueHTMLElement.style.height)}}Aa.prototype={ready:function(){var e=dashjs.MediaPlayer,t=this;if(!t.dashPlayer){if(t.dashPlayer=e().create(),t.dashPlayer.addEventListener=t.dashPlayer.on,t.dashPlayer.removeEventListener=t.dashPlayer.off,fa)if("function"!=typeof t.dashPlayer.updateSettings)t.dashPlayer.getDebug().setLogLevel(dashjs.Debug.LOG_LEVEL_DEBUG);t.dashPlayer.initialize(),_a(t)}t.connections&&t.connections.length&&t.go()},resetSrc:function(){this.connections=null},setSrc:function(e){var t=this;t.connections=e.filter(function(t){return t.protocol===e[0].protocol&&"dash"==t.format}),(t.player.config.disableDashBaseUrlFailover||t.player.isLive)&&(t.connections=t.connections.slice(0,1)),window.dashjs?t.ready(dashjs.MediaPlayer):va()},updatePortalSize:function(){var e=this;e.dashPlayer&&(clearTimeout(e.portalResizer),e.portalResizer=setTimeout(e.dashPlayer.updatePortalSize.bind(e.dashPlayer),300))},applyQuality:function(){var e=this,t=e.player,i=t.quality||new oa;if(e.dashPlayer){var n={streaming:{abr:{initialRepresentationRatio:{},maxRepresentationRatio:{video:ba(e,i.getVideoRatio()),audio:i.getAudioRatio()},initialBitrate:{},minBitrate:{},maxBitrate:{video:NaN},autoSwitchBitrate:{video:!0,audio:!0}}}},a=n.streaming.abr;if(isNaN(parseInt(t.config._dashVideoIndex))){a.autoSwitchBitrate.video=!0;var o=t.mediaItem,r=!(o&&"360"===o.kind);a.limitBitrateByPortal=r}else a.autoSwitchBitrate.video=!1,a.limitBitrateByPortal=!1,e.dashPlayer.setQualityFor("video",t.config._dashVideoIndex);isNaN(parseInt(t.config._dashAudioIndex))||(a.autoSwitchBitrate.audio=!1,e.dashPlayer.setQualityFor("audio",t.config._dashAudioIndex)),"function"==typeof e.dashPlayer.updateSettings?e.dashPlayer.updateSettings(n):(e.dashPlayer.setMaxAllowedRepresentationRatioFor("video",a.maxRepresentationRatio.video),e.dashPlayer.setMaxAllowedRepresentationRatioFor("audio",a.maxRepresentationRatio.audio),e.dashPlayer.setMaxAllowedBitrateFor("video",a.maxBitrate.video),e.dashPlayer.setAutoSwitchQualityFor("video",a.autoSwitchBitrate.video),e.dashPlayer.setAutoSwitchQualityFor("audio",a.autoSwitchBitrate.audio),e.dashPlayer.setLimitBitrateByPortal(a.limitBitrateByPortal))}},go:function(){var e=this,t=e.player;e.dashPlayer.reset(),t.storedProtectionData&&function(e,t){e.dashPlayer&&(ga(e),e.dashPlayer.setProtectionData(t))}(e,t.storedProtectionData);var i={debug:{logLevel:fa?dashjs.Debug.LOG_LEVEL_DEBUG:dashjs.Debug.LOG_LEVEL_NONE},streaming:{abr:{limitBitrateByPortal:!0,portalScale:1,portalMinimum:2e3},lastBitrateCachingInfo:{enabled:!0},lastMediaSettingsCachingInfo:{enabled:!0},bufferToKeep:90,scheduleWhilePaused:!0,lowLatencyEnabled:!1,useSuggestedPresentationDelay:!1}};t.config.fragmentTimeout&&(i.streaming.fragmentRequestTimeout=t.config.fragmentTimeout),t.config.lowLatencyMode?(i.streaming.lowLatencyEnabled=!0,i.streaming.useSuggestedPresentationDelay=!0):(i.streaming.liveDelay=10,i.streaming.useSuggestedPresentationDelay=!1),"function"==typeof e.dashPlayer.updateSettings?e.dashPlayer.updateSettings(i):(e.dashPlayer.setScheduleWhilePaused(i.streaming.scheduleWhilePaused),e.dashPlayer.setLimitBitrateByPortal(i.streaming.abr.limitBitrateByPortal),e.dashPlayer.enableLastBitrateCaching(i.streaming.lastBitrateCachingInfo.enabled),e.dashPlayer.enableLastMediaSettingsCaching(i.streaming.lastMediaSettingsCachingInfo.enabled),e.dashPlayer.setBufferToKeep(i.streaming.bufferToKeep),e.dashPlayer.setLowLatencyEnabled(i.streaming.lowLatencyEnabled),e.dashPlayer.useSuggestedPresentationDelay(i.streaming.useSuggestedPresentationDelay),i.streaming.liveDelay&&e.dashPlayer.setLiveDelay(i.streaming.liveDelay),e.dashPlayer.setPortalScale(i.streaming.abr.portalScale),e.dashPlayer.setPortalLimitMinimum(i.streaming.abr.portalMinimum)),e.dashPlayer.clearDefaultUTCTimingSources(),e.dashPlayer.setSelectionModeForInitialTrack(t.config.lowBandwidth?"lowestBitrate":"highestBitrate"),e.applyQuality(),e.dashPlayer.setInitialMediaSettingsFor("audio",{audioChannelConfiguration:2}),e.mediaElement&&(e.dashPlayer.attachView(e.mediaElement),e.dashPlayer.updatePortalSize(),e.dashPlayer.setPlaybackRate(t.targetPlaybackRate));var n,a,o=sa(t.mediaPlayer,t),r=e.connections[0].href,s="";if(e._preloadMediaItem?a=(n=e._preloadMediaItem).playStartTime:(n=t.mediaItem,a=t.waitingForStartTime),n&&!n.identifier&&t.config.useCredentials&&t.config.useCredentials.indexOf){var l=t.config.useCredentials;e.dashPlayer.setXHRWithCredentialsForType("MPD",l.indexOf("MPD")>=0),e.dashPlayer.setXHRWithCredentialsForType("InitializationSegment",l.indexOf("InitializationSegment")>=0),e.dashPlayer.setXHRWithCredentialsForType("MediaSegment",l.indexOf("MediaSegment")>=0)}n&&(e.preferAD=n.preferAD),n&&a&&(n.live?(s="#t=pto_posix:","audio"===n.type&&(a=t.timeHelper.utcToTai(a))):s="#t=",r+=s+a),e.dashPlayer.retrieveManifest(r,function(i,n){if(n&&n.code==window.dashjs.MediaPlayer.errors.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&e.errorHandler(v.MPD_PARSE_ERROR),i&&e.connections){e.connections.length>1&&!t.config.disableDashBaseUrlFailover&&!i.BaseURL&&function(e,t){if(!e.player.isLive){var i=[],n=e.connections.slice(1),a=e.connections[0];i.push({__text:t.baseUri,"dvb:priority":1,serviceLocation:a.supplier}),n=n.filter(function(e){return-1==(e.supplier+"").indexOf("_bidi")});for(var o=2,r=0;r<n.length;r++)i.push(Ia(n[r],o));if(o++,n.length>1)for(var s=0;s<n.length;s++)i.push(Ia(n[s],o++));i.length>0&&(t.BaseURL_asArray=i,delete t.baseUri,e.player.mediaItem&&(e.player.mediaItem.dashAlternates=!0,e.activeBaseUrls=i))}}(e,i),b.requiresDashAVC3CodecHack&&(i=function(e){var t=e.Period_asArray;if(t)for(var i=0;i<t.length;i++){var n=t[i].AdaptationSet_asArray;if(n)for(var a=0;a<n.length;a++){var o=n[a].Representation_asArray;if(o)for(var r=0;r<o.length;r++){var s=o[r];"video/mp4"==s.mimeType&&(s.codecs=s.codecs.replace("avc3","avc1"))}}}return e}(i)),i.UTCTiming&&"https://time.akamai.com/?iso"==i.UTCTiming.value&&(i.UTCTiming.value="https://time.akamai.com/?iso&ms");var a=function(e){var t=e.Period_asArray;if(t)for(var i=0;i<t.length;i++){var n=t[i].AdaptationSet_asArray;if(n)for(var a=0;a<n.length;a++){var o=ca(n[a]);if(!isNaN(o))return o;var r=n[a].Representation_asArray;if(r)for(var s=0;s<r.length;s++){var l=ca(r[s]);if(!isNaN(l))return l}}}return 0}(i)||0;if(t.mediaItem&&t.mediaItem.subtitleConnections.length>0&&t.mediaItem.subtitleConnections[0].live){var r=t.Subtitles.currentSubItem;r||(r=t.mediaItem.subtitleConnections[0]),r.timeOffset=-a,e.dashPlayer.addEventListener(dashjs.MediaPlayer.events.MEDIA_FRAGMENT_LOADED,function(e){if("video"==e.chunk.mediaInfo.type){var i=t.Subtitles.currentSubItem;i||(i=t.mediaItem.subtitleConnections[0]),i.onFragmentLoaded(e.chunk,e.request)}})}e.player.timeHelper.setPresentationTimeOffset(a),t.mediaItem&&t.mediaItem.live&&(e.isLiveWebcast=da(i)),e.isLiveWebcast?Sa(i).ended&&(e.isLiveWebcast=!1):t.mediaItem&&!t.isAudio&&t.mediaItem.live&&function(e){var t=e.Period_asArray;if(t)for(var i=0;i<t.length;i++){var n=t[i].AdaptationSet_asArray;if(n)for(var a=0;a<n.length;a++)ua(n[a])}}(i),e.player.waitingForChange[o]=!1,e.mediaElement&&(e.dashPlayer.setAutoPlay(e.manuallyFailingOver||e.mediaElement.autoplay),e.manuallyFailingOver=!1),e.dashPlayer.attachSource(i),e.mediaElement||e.dashPlayer.preload(),e.dashPlayer.setBlacklistExpiryTime(12e4)}})},reset:function(){var e=this;for(var t in e.audioTracks=null,e.setup(),e.resetSrc(),e.codecRefresh&&(clearTimeout(e.codecRefresh),e.codecRefresh=-1),e.dashPlayer&&(!function(e){for(var t=dashjs.MediaPlayer.events,i=[t.METRIC_ADDED,t.METRIC_UPDATED,t.MANIFEST_LOADED,t.ERROR,t.QUALITY_CHANGE_REQUESTED,t.QUALITY_CHANGE_RENDERED,t.AST_IN_FUTURE,t.MEDIA_FRAGMENT_LOADED,t.BASEURL_SELECTED,t.SERVICE_LOCATION_BLACKLIST_CHANGED,t.URL_RESOLUTION_FAILED,t.STREAM_INITIALIZED,t.MANIFEST_VALIDITY_CHANGED,"needkey"],n=e.dashPlayer,a=0;a<i.length;a++)n.removeEventListener(i[a]);document.removeEventListener("visibilitychange",e._visibilityChangeHandler),e.eventsInitialised=!1}(e),e.dashPlayer.reset(),e.dashPlayer=null),ga(e),e.timersClearedOnReset)e.timersClearedOnReset.hasOwnProperty[t]&&clearTimeout(e.timersClearedOnReset[t]);Ta(e),e.qualityLimits=null},setup:function(){var e=this;e.slowDownloadCount={video:0,audio:0},e.bitrate={video:{rate:0,index:NaN},audio:{rate:0,index:NaN}},e.bufferLevel={},e.streamingBitrate={video:{rate:0,index:NaN},audio:{rate:0,index:NaN}},e.streamFragmentErrorSent=!1,e.eventsInitialised=!1,e.canDispatchFragmentWarning=!0,e.isLiveWebcast=!1,e.initialBitrate={},e.timersClearedOnReset={},e.errorHandler=function(){}},errorSettingUp:function(){var e=this;e.connections&&e.connections.length&&(e.errorHandler(v.DASH_INIT_TIMEOUT),e.mediaItem=null)},getHttpRequests:function(e){if(!this.player||!this.dashPlayer)return[];var t=this.dashPlayer,i=t.getDashMetrics(),n=t.getMetricsFor(e);return i.getHttpRequests(n)},create:function(){},refreshManifest:function(e){var t=this,i=t.dashPlayer;i&&"function"==typeof i.refreshManifest&&(i.refreshManifest(),e&&!t.manifestRefreshCallback&&(t.manifestRefreshCallback=e))},setMediaElement:function(e){var t=this;t.mediaElement=e,t.dashPlayer&&(t.dashPlayer.attachView(t.mediaElement),t.dashPlayer.updatePortalSize())},setInitialBitrate:function(e){isNaN(e.audio)||(this.initialBitrate.audio=e.audio),isNaN(e.video)||(this.initialBitrate.video=e.video)},setErrorHandler:function(e){var t=this;t.errorHandler=function(){e.apply(null,[t,t.player].concat(Array.prototype.slice.call(arguments)))}},delayedErrorHandler:function(e,t,i,n){this.errorHandler(e,t,i,n,!0)},getAudioTracks:function(){var e=this.dashPlayer.getTracksFor("audio");if(e&&e.length>1){for(var t=0;t<e.length;t++){var i=e[t];i.audioDescription=i.accessibility.length>0&&i.roles.length>0&&"alternate"==i.roles[0]}return e}},getBitrateListFor:function(e){if(this.dashPlayer){var t=this.dashPlayer.getActiveStream();if(t)return t.getBitrateListFor(e)}return[]},dashFailoversRemaining:function(){return this.activeBaseUrls?this.activeBaseUrls.length:0},detachView:function(){this.dashPlayer.detachView()},reattachView:function(){this.dashPlayer.reattachView(this.mediaElement)}};var Oa=4.17;function Ra(e,t){var i,n,a,o,r=xa(e),s=xa(t);if(r.top>s.top){var l=t;t=e,e=l;var u=s;s=r,r=u}else if(r.top===s.top)return null;if(function(e,t){return e.end===t.end}(e,t)&&(i=r,a=(n=s).top-(i.top+i.height)<=Oa+.1,o=i.left+i.width/2,a&=n.left<=o&&n.left+n.width>=o)){for(var c=0;c<t.cueHTMLElement.children.length;c++)for(var d=e.cueHTMLElement.children[0],p=t.cueHTMLElement.children[0],h=0;h<p.children.length;h++)d.appendChild(p.children[h]);return e.blockPartnerRegionID=t.regionID,e.cueHTMLElement.style.left=Math.min(r.left,s.left)+"%",e.cueHTMLElement.style.width=Math.max(r.width,s.width)+"%",e.cueHTMLElement.style.height=r.height+s.height+(s.top-r.top)+"%",e}return null}function Da(e,t){if(t.blockPartnerRegionID&&t.blockPartnerRegionID!==e.regionID){var i=e.cueHTMLElement.children[0].children;if(1===i.length){var n=t.cueHTMLElement.children[0].children;if(n.length>=1)for(var a=0;a<n.length;a++)if(0===i[0].textContent.indexOf(n[a].textContent))return e.desnaked=!0,t}}return null}function Ma(e,t){if(e.start<=t.end){var i=e.cueHTMLElement.children[0].children;if(1!==i.length)return null;var n=t.cueHTMLElement.children[0].children;if(!(n.length>=1))return Ba(e,t);for(var a=0;a<n.length;a++)if(0===i[0].textContent.indexOf(n[a].textContent)&&(t.regionID===e.regionID||t.blockPartnerRegionID===e.regionID))return t.cueHTMLElement.children[0].replaceChild(i[0],n[a]),t.blockPartnerRegionID&&t.blockPartnerRegionID!==e.regionID||(t.end=Math.max(e.end,t.end)),e.desnaked=!0,t}return null}function Fa(e){e.cueHTMLElement.style.width=parseFloat(e.cueHTMLElement.style.width)-parseFloat(e.cueHTMLElement.style.left)+"%"}function Ha(e){for(var t=e.cueHTMLElement.children,i=0;i<t.length;i++)t[i].style.fontFamily="ReithSans, sans-serif"}function qa(e){for(var t=parseFloat(e.cueHTMLElement.style.top),i=0;i<e.flexBoxAttr.length;i++)if(0===e.flexBoxAttr[i].indexOf("align-items:")){e.flexBoxAttr[i]="align-items:"+t<40?"flex-start;":"flex-end;";break}}function Ua(e){return Va(e)}function Va(e){var t=parseFloat(e.cueHTMLElement.style.height);return t>2*Oa&&t<=4*Oa}function Wa(e,t){if(e&&!Va(t)){var i=xa(e),n=xa(t);Math.abs(i.top-n.top)<=Oa?t.cueHTMLElement.style.height=Math.max(i.height,n.height)+"%":Math.abs(n.top+n.height-(i.top+i.height))<=Oa&&(t.cueHTMLElement.style.height=Math.max(i.height,n.height)+"%",t.cueHTMLElement.style.top=Math.min(i.top,n.top)+"%")}}var Ga=function(e,t,i,n){var a=this;if(a.live=!0,a.loadedSegments=[],a.unloadedSegments=[],a.captionsList=null,a.off(),a.enableDesnake=!1,a.hasHLSliveSubs=!1,a.baseUrl=null,a.lastBaseline=null,a.protocol="https",n)a.protocol=a.protocol,a.baseUrl=e.substring(0,e.indexOf("$Number$"));else if(t){var o=e.match(/.*\/([^\/]*)\.isml/);if(o&&o.length>0){a.hasHLSliveSubs=!0;var r=o[0].replace("hls","dash");a.baseUrl=r+"/dash/"+o[1]+"-caption1=64000-"}else i&&((o=i.match(/https?:\/\/([^\/]*)\/(.*\/?)manifest\/(x=\d+)\/(.*)\/[^\/]*/))&&o.length>0?(a.hasHLSliveSubs=!0,a.baseUrl="https://"+o[1]+"/"+o[2]+"content/"+o[3]+"/s=caption1/b=64000/t=3840/"+o[4]+"/"):(o=i.match(/https?:\/\/([^\/]*)\/(x=\d+)\/(.*)\/[^\/]*/))&&o.length>0&&(a.hasHLSliveSubs=!0,a.baseUrl="https://"+o[1]+"/"+o[2]+"/"+o[3]+"/t=3840/s=caption1/b=64000/"))}else a.tryDash=!0;return a.timeOffset=0,a};Ga.prototype={loadSubtitles:function(e,t,i){var n=this;n.loadedCallback=e,n.errorCallback=t,n.active=!0,i&&(n.hasHLSliveSubs=!0);for(var a=n.unloadedSegments.slice(-17);a.length>0;){var o=a.shift();if(!o)break;n.loadQueue.push(o),1==n.loadQueue.length&&Na(n)}},onFragmentLoaded:function(e,t){var i=this,n=/[-\/]([0-9]*)\.m4s/g.exec(t.url);if(n&&2===n.length){var a={index:+n[1],start:e.start,url:t.url};i.active?(i.loadQueue.push(a),1==i.loadQueue.length&&Na(i)):i.unloadedSegments.push(a)}},loadHLSsubs:function(e){var t=this,i={index:Math.floor(e/3.84)+1,start:e-e%3.84};t.active?(t.loadQueue.push(i),1==t.loadQueue.length&&Na(t)):t.unloadedSegments.push(i)},off:function(){var e=this;e.active=!1,e.loadQueue=[],e.loadedCallback=null,e.errorCallback=null}};var za=function(e,t,i,n,a,o,r,s,l,u,c,d,p,h,f,m){var y,g=this;return g.identifier=e,g.versionID=t,g.serviceID=i,g.cvid=h,g.vpid=n,g.id=a,g.castConnectUrl=m,g.kind=o,g.live=r,g.simulcast=s,g.type="360"==o?"360":"audio"==o||"radioProgramme"==o?"audio":"video",g.itemGroup=d,g._startTime=0,g.itemAlternate=p,g.isProgramme="programme"==(y=o)||"radioProgramme"==y||"audio"==y||"video"==y||"trailer"==y||"360"==y,g.isIdent=function(e){return"ident"==e}(o),g.isIdentOrWarning=function(e){return"ident"==e||"warning"==e}(o),g.connections=l,g.originalConnections=ue.clone(l),g.thumbManifestHref=c,g.mediationAttempted=!0,g.failureMode=g.isIdent?za.FAST:za.NORMAL,g.subtitleConnections=[],g.thumbnailConnections=[],g.failedConnections=[],u&&g.subtitleConnections.push(new xi(u,null)),g.metadata=f,ue.defineProperties(g,function(e){return{startTime:{get:function(){return e._startTime}},changeEvent:{get:function(){return e.annotateEvent({type:"mediaItemChanged"})}},infoChangeEvent:{get:function(){return e.annotateEvent({type:"mediaItemInfoChanged"})}},failSilent:{get:function(){return e.failureMode==za.SILENT||e.failureMode==za.FAST_SILENT}},failFast:{get:function(){return e.failureMode==za.FAST||e.failureMode==za.FAST_SILENT}}}}(g)),g};function ja(e,t){t.kind=e.kind,t.identifier=e.identifier,t.isLive=!!e.live,t.duration=e.duration,t.simulcast=!!e.simulcast,t.versionID=e.versionID,t.serviceID=e.serviceID,t.type=t.type||e.type,t.castConnectUrl=e.castConnectUrl;var i=e.getSubtitlesOfKind("subtitles");return t.captionsURL=i.length>0?i[0].href:null,t.captionsList=e.subtitleConnections,t.thumbnailList=e.thumbnailConnections,t.connections=e.mediationAttempted?e.connections:null,t}function Qa(e,t,i,n){if(e)for(var a=0;a<e.length;a++)if(e[a].getAttribute(t)==i)return n?e[a].getAttribute(n):e[a]}function Ka(e,t,i,n){var a=e.getElementsByTagName(t);return a.length?i?a[0].getAttribute(i):a[0].textContent||a[0].nodeValue||"":n||""}function Ya(e,t,i){var n=e.getAttribute(t);return n?n.toLowerCase():i}function Xa(e,t,i){var n=Ya(e,t,i);return isNaN(n)?0:n}za.NORMAL="normal",za.FAST="fast",za.FAST_SILENT="fastsilent",za.SILENT="silent",za.prototype={annotateEvent:function(e){return ja(this,e),e.mediaItem=ja(this,{}),e},addFailedConnection:function(e){var t=this;t.failedConnections.push(e),setTimeout(function(){t.failedConnections=t.failedConnections.filter(function(t){return t!=e})},12e4)},getSubtitlesOfKind:function(e){var t=this;if(t.subtitleConnections.length>0){var i=t.subtitleConnections.filter(function(t){return t.kind==e});return i.length>0?i:t.subtitleConnections}return[]},getRewindWindow:function(t){var i=this;if(!i.gotWindow&&i.connections[0]&&"hls"==i.connections[0].format){i.gotWindow=!0;var n=i.connections[0].href,a=n.substring(0,n.lastIndexOf("/")+1);e;var o=new XMLHttpRequest;o.open("GET",n,!0),o.onerror=function(){e},o.onload=function(){i.bitratesMap={};for(var e,n,r="",s=(o.responseText+"").split("\n"),l=0;l<s.length-1;l++)-1!=s[l].indexOf("#EXT-X-STREAM-INF:")&&(r=decodeURIComponent(s[l+1].trim()),-1!=s[l].indexOf("BANDWIDTH=")&&-1!=s[l].indexOf("RESOLUTION=")&&(e=s[l].match("RESOLUTION=([0-9]*)")[1],n=Math.round(parseInt(s[l].match("BANDWIDTH=([0-9]*)")[1])/1e3),i.bitratesMap[e]=n));if(""!==r){var u=new XMLHttpRequest;0!==r.indexOf("http")&&(r=a+r),u.open("GET",r,!0),u.onload=function(){s=(u.responseText+"").split("\n");for(var e=0,n=0;n<s.length-1;n++){var a=s[n].split("#EXT-X-PROGRAM-DATE-TIME:")[1];a&&(e||(e=ue.parseISODate(a.trim())))}e&&(e=e.valueOf(),isNaN(e)&&(e=0),i._startTime=e/1e3,t())},u.send(null)}},o.send(null)}},startLiveHLSsubs:function(t){var i=this,n=i.originalConnections.filter(function(e){return"dash"==e.format}),a=n[0]&&n[0].href;if("hls"==i.connections[0].format){var o=i.connections[0].href,r=new XMLHttpRequest;r.open("GET",o,!0),r.onerror=function(){e},r.onload=function(){var e=(r.responseText+"").split("\n")[3];i.liveSubsItem=new Ga(e,!0,a),i.subtitleConnections.push(i.liveSubsItem),t.Subtitles.considerHLSdelay=!0,t.Subtitles.load(),t.ui.updateLayout()},r.send(null)}}};var $a=["mundo","gahuza","sinhala","afrique","portuguese","somali","swahili","turkce","persian","arabic","bengali","burmese","hausa","hindi","kyrgyz","pashto","nepali","russian","uzbek","tamil","ukrainian","urdu","vietnamese","zhongwen","ukchina"];function Ja(e){return e&&e.replace?e.replace("http://wsodprogrf.bbc.co.uk","https://wsodprogrf.akamaized.net"):e}var Za=[/playlists\.bbc\.co\.uk/i,/news.bbc.co.uk\/media\/emp/i,/www\.bbc\.com/i,/www\.bbc\.co\.uk/i];function eo(e){return e&&e.replace?e.replace("http://ichef.bbci.co.uk","https://ichef.bbci.co.uk").replace("http://newsimg","https://newsimg").replace("http://a.files","https://a.files"):e}function to(e,t){""===e.guidance&&t.forceGuidance&&(e.guidance=t.forceGuidance),t.overrideHoldingImage&&(e.posterRecipe=t.overrideHoldingImage),t.overrideCtaDuration&&(e.programmeDuration=t.overrideCtaDuration)}function io(e){for(var t=0;t<e.items.length;t++){var i=e.items[t];if(i.live&&(e.hasLive=!0),i.isProgramme){i.duration&&!i.live&&(e.programmeDuration=ue.secondsToTime(i.duration));break}}}function no(e){e&&((e.url+"").indexOf("https://"),this.push({href:e.url,format:e.format,protocol:"http",supplier:e.supplier,bitrate:e.bitrate}))}function ao(e){return!(!e||"undefined"==e||!(e+"").match(/^[a-z0-9_]+$/))}function oo(e,t,i,n,a){var o=this;if(ue.defineProperties(o,{onlyAdverts:{get:function(){for(var e=0;e<this.items.length;e++)if("advert"!==this.items[e].kind)return!1;return!0}},hasAds:{get:function(){for(var e=0;e<this.items.length;e++)if("advert"==this.items[e].kind)return!0;return!1}},mediaType:{get:function(){if(this.items.length>0){for(var e=0;e<this.items.length;e++)if(this.items[e].isProgramme)return this.items[e].type;return this.items[0].type}return"video"}},firstProgramme:{get:function(){for(var e=0;e<this.items.length;e++)if(this.items[e].isProgramme)return e;return 0}}}),a=a||{},o.suppressItemKind=a.suppressItemKind||[],o.programmeDuration="",function(e){e.id="",e.title="",e.summary="",e.updated="",e.posterImg="",e.noItemsReason="",e.guidance="",e.warning="",e.groupId="",e.identifier="",e.isRadio=!1,e.masterbrand={},e.relatedLinks=[],e.items=[],e.hasLive=!1}(o),o.filterIdentAndWarning=a.startTime>0,n)!function(e,t,i){e.id=t.id||"",e.title=t.title||"",e.guidance=t.guidance||"",e.warning=t.warning||"",e.posterImg=e.holdingImageURL=eo(t.holdingImageURL)||"";var n=t.holdingImage;n&&n.url&&n.orientation&&(e.holdingImage=n),e.videoHoldingImage=t.videoHoldingImage||"",e.summary=t.summary||"",e.liveRewind=!1!==t.liveRewind,e.embedRights=t.embedRights||"",e.embedRight="true"==e.embedRights||"allowed"==e.embedRights,e.originalNoItemsReason=t.noItemsReason;var a={},o=!1;if(t.masterbrand&&(a=t.masterbrand,o=!0),t.masterBrandId&&(o=!0,a.id=t.masterBrandId),t.masterBrandName&&(o=!0,a.title=t.masterBrandName),o&&(e.masterbrand=a),t.items)for(var r=0;r<t.items.length;r++){var s;if(s=t.items[r].createdItem?t.items[r].createdItem:e.createMediaItem(t,r,i)){s.simulcast&&(t.simulcast=!0);var l="0";i.statsObject&&(i.statsObject.parentPID&&(l=i.statsObject.parentPID),i.statsObject.episodePID&&(l=i.statsObject.episodePID),i.statsObject.clipPID&&(l=i.statsObject.clipPID));var u=l;s.live&&"0"==u&&(u=s.identifier),s.itemGroup=u,e.groupId=u,e.addItem(s)}}e.queuedPlaylist=t.queuedPlaylist,e.queuedOptions=t.queuedOptions,(0===e.items.length||e.onlyAdverts)&&(t.noItemsReason?e.noItemsReason=t.noItemsReason:e.noItemsReason="EmptyPlaylistObject"+(e.filteredItem?"Filtered":""))}(this,n,a),io(o),to(o,a),ue.asyncDelay(t);else{e=function(e,t){if(e&&e.replace){if(t&&e.indexOf("meta/dps")>0)for(var i=0;i<$a.length;i++){var n="/"+$a[i]+"/";if(e.indexOf(n)>0){t.indexOf("?")>0&&(t=t.substring(0,t.indexOf("?")));var a=t.split(n)[1]+"";(a=a.replace(".shtml","")+"/smp_playlist.xml")&&(e=(e.substring(0,e.indexOf(n))+n+a).replace("www.bbc.co.uk","www.bbc.com"))}}if("https:"===(location.protocol+"").toLowerCase()&&0===e.indexOf("http://"))for(i=0;i<Za.length;i++)if(Za[i].test(e))return e.replace("http://","https://")}return e}(e,a.embedPageURL),o.url=e;var r=function(t,n){var a=n?v.ERROR_PARSING_PLAYLIST:v.ERROR_LOADING_PLAYLIST,o=v.getError(a);o.extra=e,i(o)},s=function(e){try{!function(e,t){if(t.getElementsByTagName("parsererror").length)throw{message:"invalid/incomplete playlist xml"};var i=t.getElementsByTagName("link"),n=t.getElementsByTagName("item");if(e.id=Ka(t,"id"),e.title=Ka(t,"title"),e.summary=Ka(t,"summary"),e.updated=Ka(t,"updated"),e.originalNoItemsReason=e.noItemsReason=Ka(t,"noItems","reason"),e.guidance=Ka(t,"guidance"),e.warning=Ka(t,"warning"),e.posterImg=eo(Qa(i,"rel","holding","href")),e.posterRecipe=eo(Qa(i,"rel","holdingrecipe","href")),e.alternateHref=Qa(i,"rel","alternate","href"),"embed"===Ka(t,"right","name")){var a=Ka(t,"right");e.embedRights=a,e.embedRight="true"==a||"allowed"==a}for(var o=t.getElementsByTagName("relatedLink"),r=0;r<o.length;r++){var s=o[r],l=Ka(s,"summary"),u=Ka(s,"title",!1,l),c=Qa(i,"rel","alternate","href");if(u&&c){var d=Qa(s.getElementsByTagName("link"),"rel","thumb"),p=d?{href:d.getAttribute("href"),width:d.getAttribute("width"),height:d.getAttribute("height")}:null;e.relatedLinks.push({title:u,summary:l,href:c,thumb:p})}}var h=!1;for(r=0;r<n.length;r++){var f=n[r],m=null,y=Ka(f,"id"),g=f.getAttribute("kind"),v="true"==f.getAttribute("live"),b="true"==f.getAttribute("simulcast"),C=f.getAttribute("group"),S=Ka(f,"alternate","id"),T="",P=[],k="",w=Ka(f,"mediator","identifier");if(w)(m=new za(w,null,null,y,y,g,v,b,[],null,null,C,S,null)).mediationAttempted=!1;else{for(var E=f.getElementsByTagName("media"),_=0;_<E.length;_++){var I=E[_];T=I.getAttribute("kind");for(var A=I.getElementsByTagName("connection"),N=0;N<A.length;N++){var L=A[N];"audio"==T||"video"==T?("audio"==T&&"programme"==g&&(g="radioProgramme"),c=Ja(L.getAttribute("href")),P.push({href:c,protocol:Ya(L,"protocol"),mimetype:Ya(I,"type"),encoding:Ya(I,"encoding"),format:Ya(L,"transferFormat","plain"),supplier:Ya(L,"supplier"),bitrate:Xa(I,"bitrate")})):"captions"==T&&(k=L.getAttribute("href"))}}P.length&&(m=new za("",null,null,null,y,g,v,b,P,k,null,C,S,null),aa.validateConnections(m),m.fallbackPlaylist=e.url)}if(m&&(e.addItem(m),m.isProgramme&&!h)){h=!0,e.isRadio="audio"==m.type,e.groupId=m.itemGroup,e.identifier=f.getAttribute("identifier")||"";var B=f.getElementsByTagName("masterbrand");B.length&&(B=B[0],e.masterbrand={id:B.getAttribute("id"),href:B.getAttribute("href"),title:B.textContent||B.nodeValue})}}!function(e){for(var t=e.items,i=[],n={},a=0;a<t.length;a++){var o=t[a].itemGroup;o&&""!==o&&(n[o]||(n[o]=[],i.push(o)),n[o].push(a))}var r=[];for(a=0;a<i.length;a++){var s=n[o=i[a]];if(s.length>1)for(var l=0;l<s.length;l++)"default"!=t[s[l]].itemAlternate&&r.push(s[l])}for(r.sort(),a=r.length-1;a>=0;a--)e.items.splice(r[a],1)}(e)}(o,e)}catch(Ou){return void r(0,!0)}to(o,a),io(o),t()};ue.asyncDelay(function(){ue.getXML(e,s,r,o,!1,a.setWithCredentials)})}return o}function ro(e,t){return(e=(e+"").replace("0x","#")).match(/^#[a-z0-9]{3,6}$/i)||"transparent"==e?e:t}oo.prototype={getNextItem:function(e){var t=this;if(t.items)for(var i=e+1;i<t.items.length;i++)if(t.items[i]&&"advert"!==t.items[i].kind)return t.items[i];return null},getPreviousItemIndex:function(e){var t=this;if(t.items)for(var i=e-1;i>=0;i--)if(t.items[i]&&"advert"!==t.items[i].kind)return i;return null},addItem:function(e){var t=this,i=!1;"advert"!=e.kind&&"ad"!=e.kind&&(i=(i=t.filterIdentAndWarning&&("ident"==e.kind||"warning"==e.kind)||t.suppressItemKind.indexOf(e.kind)>-1)||!1===e.mediationAttempted&&("null"==e.identifier||"undefined"==e.identifier)),i?t.filteredItem=!0:t.items.push(e)},createMediaItem:function(e,t,i){var n=e.items[t],a=e.simulcast,o=function(e){return ao(e.versionID)?e.versionID:e.serviceID?e.serviceID:ao(e.vpid)?e.vpid:e.cvid?"CVID:"+e.cvid:null}(n);if(n.serviceID&&o===n.serviceID&&(n.live=!0,!1!==a&&(a=!0)),o){var r=new za(o+"",n.versionID,n.serviceID,n.vpid,n.id,n.kind||"programme",n.live,a,[],null,null,null,null,n.cvid,n.metadata,n.castConnectUrl);return r.preferProtocol=function(e,t){return!!(e&&t&&t.indexOf(e)>=0)}(o,i.httpsVpids)?"https":null,r.mediationAttempted=!1,r.samltoken=n.samltoken,r.ceiling=n.ceiling,r.duration=n.duration,r.fake=n.fake,n.jwtTokenRequired&&(r.jwtTokenRequired=!0),r.jwtToken=n.jwtToken,n.failureMode&&(r.failureMode=n.failureMode),n.preferAD&&(r.preferAD=!0),r}var s=[];if(n.href&&(n.href.forEach?n.href.forEach(no,s):s.push({href:n.href,format:"plain",protocol:"http"})),s.length>0||"advert"==n.kind||"ad"==n.kind)return(r=new za(null,null,null,null,n.id,n.kind||"programme",n.live,a,s,n.captionsUrl,n.thumbManifestUrl,null,null,null,n.metadata)).duration=n.duration,n.failureMode&&(r.failureMode=n.failureMode),"ad"==n.kind&&(r.mediationAttempted=!1),n.preferAD&&(r.preferAD=!0),aa.validateConnections(r),r}};var so={buffer:["width","thickness"],controls:["timeout","timeoutTouch","volumeDismissTime"],markers:["hideBelowWidth"]};function lo(e,t){for(var i in so)if(so.hasOwnProperty(i)&&e[i])for(var n=0;n<so[i].length;n++)isNaN(e[i][so[i][n]])&&(e[i][so[i][n]]=t[i][so[i][n]]);return e}var uo=function(e,t,i){var n=this;n.player=e,n.container=null,n.UIinfoObject={},n.enabled=!0,i=lo(i,t),n.config=ue.merge(t,i),function(){var e,t,i=!1,n=!1,a=!1,o=!1;function r(){clearTimeout(e),i=!0,n=!0,a=!1,ue.hasClass(document.body,"nonPointerFocus")&&ue.className(document.body,"","nonPointerFocus"),e=setTimeout(function(){i||(n=!1),a=!0},250)}function s(){a&&(n=!1),i=!1}ue.hasClass(document.body,"nonPointerFocus")||ue.className(document.body,"nonPointerFocus"),window.PointerEvent?(document.addEventListener("pointerdown",r,!0),document.addEventListener("pointerup",s,!0)):(document.addEventListener("touchstart",r,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("touchend",s,!0),document.addEventListener("mouseup",s,!0)),window.addEventListener("focus",function(){clearTimeout(t),o=!0,t=setTimeout(function(){o=!1},250)}),document.addEventListener("focus",function(){n||o||ue.hasClass(document.body,"nonPointerFocus")||ue.className(document.body,"nonPointerFocus")},!0)}(),n.config.disableReithFonts||(e.config.delayEmbed?n.player.delayedEmbedFuncs.push(function(){ue.loadFontFile(this.player,"ReithSans")}):ue.loadFontFile(this.player,"ReithSans"),n.config.useFontSalt&&ue.className(document.body,"font-feature-salt")),n.togglePlay=function(t){(e.paused||e.ended)&&"notplaying"===e.playingState?(e.requestGuidanceAndPlay(),e.trackAction("play",t)):"playing"===e.playingState&&(e.pause(),e.trackAction("pause",t))},n.config.colour=ro(n.config.colour,t.colour),n.config.foreColour=ro(n.config.foreColour,t.foreColour),n.config.alternateColour=ro(n.config.alternateColour,t.colour),n.config.alternateForeColour=ro(n.config.alternateForeColour,t.foreColour),n.config.miniMode.backgroundColour=ro(n.config.miniMode.backgroundColour,t.miniMode.backgroundColour),n.config.cta.backgroundColour=ro(n.config.cta.backgroundColour,t.cta.backgroundColour),n.config.useHighResIcons=n.config.useHighResIcons&&!b.disallowHighResIcons,n.config.useHighResIcons&&b.loadSVGForHighResIcon(n),ue.defineProperties(n,{markerData:{get:function(){return null},set:function(){},configurable:!0}}),document.addEventListener("keydown",function(e){return function(t){var i=document.getElementById("guidancePopup"),n=i&&i.contains(document.activeElement),a=e.pluginContainer.contains(document.activeElement);if(ue.className(document.body,"focusEnabled"),!t.metaKey&&!t.ctrlKey){if((t.keyCode==k&&e.config.controls.spaceControlsPlayback||75===t.keyCode&&e.config.controls.experimentalShortcuts)&&(t.target==document.body||ue.hasClass(t.target,"p_accessibleHitArea"))&&(e.togglePlay("shortcut_key_press"),E(t)),!t.shiftKey&&t.keyCode>=48&&t.keyCode<=57){if(e.config.controls.experimentalShortcuts&&!n&&!a){if(e.canDisplayRemoteInput()){e.displayRemoteInput();var o=(t.keyCode-48).toString();e.appendRemoteInputContent(o)}else{var r=t.keyCode-48;e.player.seekToPercent(r/10),e.player.trackAction("seek_numberkey_"+r.toString(),"shortcut_key_press")}E(t)}!e.config.controls.experimentalShortcuts&&56===t.keyCode&&e.canDisplayRemoteInput()&&(e.displayRemoteInput(),e.appendRemoteInputContent("8"))}77==t.keyCode&&(e.player.trackAction(e.player.mediaPlayer.muted?"unmute":"mute","shortcut_key_press"),e.player.muted=!e.player.muted),74===t.keyCode&&e.config.controls.experimentalShortcuts&&(e.player.trackAction("seekbackward","shortcut_key_press"),e.player.seekBackward(e.config.skipInterval),E(t)),76===t.keyCode&&e.config.controls.experimentalShortcuts&&(e.player.trackAction("seekforward","shortcut_key_press"),e.player.seekForward(e.config.skipInterval),E(t)),"MediaPlayPause"==t.code||"MediaPlayPause"==t.key?(e.togglePlay("shortcut_key_press"),E(t)):"MediaTrackNext"==t.code||"MediaTrackNext"==t.key?(e.player.next(),E(t)):"MediaTrackPrevious"!=t.code&&"MediaTrackPrevious"!=t.key||(e.player.previous(),E(t))}}}(n))};uo.prototype={initialise:function(){var e=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(e),this.stylesheet=e.sheet,b.iPhoneIos10&&ue.className(document.body,"iPhoneIos10",""),b.iPhoneIos11orGreater&&ue.className(document.body,"iPhoneIos11orGreater",""),this.config.useHighResIcons&&ue.className(document.body,"svg")},updateConfig:function(e){e=lo(e,this.config),this.config=ue.merge(this.config,e),this.player.config.ui=this.config;var t=JSON.stringify(this.config);return t!=this.lastConfigUpdate&&(this.lastConfigUpdate=t,this.updateStyles(),this.player.Subtitles.updateConfig(this.config),this.player.dispatch({type:"uiConfigUpdated"}),!0)},remainingSpace:function(e){return e},timeUpdate:C,updateStyles:C,fadeInNewPosterImage:C,slideInNewPosterImage:C,zoomInPosterImage:C,showPoster:C,updatePoster:C,hidePoster:C,hideEffects:C,updateLayout:C,hideControlBar:C,showControlBar:C,updateDisplayedProgress:C,displayCover:C,checkIfCanDisplaySeekBar:C,showCta:function(){ue.className(document.body,"cta"),this.inPrePlayState=!0},hideCta:function(){ue.className(document.body,"","cta"),this.inPrePlayState=!1},hideAllControls:C,dispatchUIInfo:C,getBackgroundImageUrl:C,resizeFixEnd:C,resetGuidance:C,updateTimeDisplay:C,updateGuidance:C,canDisplayRemoteInput:function(){return!0},displayRemoteInput:C,appendRemoteInputContent:function(e){var t=this;t.ensureRemoteInput(),3===t.remoteInput.textContent.length&&(t.remoteInput.textContent=""),t.remoteInput.textContent+=e,t.remoteInput.timeout&&clearTimeout(t.remoteInput.timeout),3===t.remoteInput.textContent.length?(wo(t),t.remoteInput.timeout=setTimeout(t.clearRemoteInput.bind(t),2e3)):t.remoteInput.timeout=setTimeout(ko,2e3,t)},getRemoteInputContent:function(){return this.remoteInput?this.remoteInput.textContent:""},clearRemoteInput:function(){var e=this;e.remoteInput&&(e.remoteInput.style.display="none",e.remoteInput.textContent="")},ensureRemoteInput:function(){var e=this;e.remoteInput||(e.remoteInput=document.createElement("div"),e.remoteInput.id="p_remoteInput",e.remoteInput.style.display="none",e.player.mediaContainer.appendChild(e.remoteInput))}};var co,po,ho,fo,mo,yo,go,vo,bo,Co,So,To,Po,ko=function(e){wo(e),e.clearRemoteInput()},wo=function(e){var t=e.getRemoteInputContent(),i=parseInt(t,10),n=e.player.Subtitles;e.fakeShow&&e.fakeShow(),e.config.controls.experimentalShortcuts&&i>=0&&i<=9&&(e.player.seekToPercent(i/10),e.player.trackAction("seek_numberkey_"+i,"shortcut_key_press")),888===i&&n.subsAvailable()&&e.config.subtitles.enabled&&(n.showingSubs?(n.off(),e.player.trackAction("subtitles_off","shortcut_key_press")):(n.on(),e.player.trackAction("subtitles_on","shortcut_key_press")))},Eo=function(e,t){var i=this;return i.ui=e,i.player=t,i.nowShowing=!1,bo=[],Co=!1,i.isOver16=t.config.over16,i.isUnder16=t.config.under16,i.isOver16&&i.isUnder16&&(i.isOver16=!1),i};function _o(e,t,i){var n=document.getElementById(t);n.onmouseover=n.onfocus=function(){n.style.transition="0.3s",i?n.style.backgroundColor=e.player.config.ui.guidance.pgColour:n.style.color=e.player.config.ui.guidance.pgColour},n.onmouseout=n.onblur=function(){n.style.transition="0.3s",i?n.style.backgroundColor=e.player.config.ui.guidance.pgBackgroundColour:n.style.color="#ffffff"}}function Io(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ao(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function No(e,t){bo.push(e),e.setAttribute("tabindex","0"),e.onkeydown=function(t){var i=(t=t||window.event).keyCode||t.which;if(9==i||13==i)if(Io(t),9==i){var n=bo.length-1;vo=t.shiftKey?0===vo?n:vo-1:vo===n?0:vo+1,setTimeout(function(){bo[vo].focus()},200)}else setTimeout(function(){To=!0,e.click()},200)},t&&(vo=bo.length-1,e.focus())}function Lo(){vo=0,bo=[],No(mo)}function Bo(e,t,i){t&&i&&i.isUnder16&&(Co=!1);var a="";Co?(e.style.backgroundPosition="center",a=n.pgAriaAgeConfirmCheckBox):(e.style.backgroundPosition="-30px",a=n.pgAriaAgeConfirmCheckBoxUnchecked),e.setAttribute("aria-label",a),e.textContent=e.innerText=a}function xo(e,t,i,n){var a=document.getElementById("pgErrorMessage"),o=document.getElementById("needPINinfo");if(a)Ao(a);else{(a=document.createElement("div")).id="pgErrorMessage";var r=a.style;r.width=po.style.width,r.backgroundColor=n.player.config.ui.guidance.pgSeparatorColour,r.marginTop="15px",r.marginBottom="5px",r.position="relative"}o?o.appendChild(a):e.appendChild(a);var s=document.createElement("div"),l=s.style;if(l.fontSize="14px",l.position="relative",l.width="100%",l.color="#ffffff",l.fontSize="11px",l.textAlign="center",l.paddingTop=l.paddingBottom="10px",l.lineHeight="23px",n.ui.config.useHighResIcons){var u=document.createElement("div");u.innerHTML=t,u.style.display="inline-block",u.style.marginLeft="5px";var c=document.createElement("div"),d=c.style;d.width=d.height="18px",d.display="inline-block";var p=ue.generateSVG(18,18,"guidance-alert","p_guidance-alertIcon");p.style.top="4px",c.appendChild(p),s.appendChild(c),s.appendChild(u)}else s.innerHTML='<span style="display:inline-block;  background-image: url(https://emp.bbc.co.uk/emp/assets/2.2.6/alert-color.png); background-repeat: no-repeat; background-size: 100% 100%; margin-right:5px; width:15px; height:13px;"></span>'+t;a.appendChild(s)}function Oo(e,t){var i=document.createElement("a");i.id=t.id,i.innerHTML=t.text,i.setAttribute("aria-label",t.text+" button");var n=i.style;n.cursor="pointer";try{n.display="table"}catch(Ou){n.display="block"}n.lineHeight="3.5",n.width="100%",n.fontSize="14px",n.color="#ffffff",fo.appendChild(i),n.backgroundColor=e.player.config.ui.guidance.pgBackgroundColour,_o(e,t.id,!0);var a=!1;setTimeout(function(){a=!0},500);var o=t.clickFunction;return i.onclick=function(){a&&(e.player.trackAction(i.id,To?"key_press":"click"),To=!1,o())},No(i,t.focus),i}function Ro(e,t,i){Ao(fo),function(e,t){var i=document.createElement("div"),n=i.style;n.marginTop="-1px",n.position="absolute",n.width="100%",n.height="1px",n.backgroundColor=e.player.config.ui.guidance.pgSeparatorColour,t.appendChild(i)}(e,fo);var n=Oo(e,t);i&&(n.style.borderBottom="1px solid "+e.player.config.ui.guidance.pgSeparatorColour,Oo(e,i))}function Do(e){document.getElementById("pgHeader").innerHTML=n[e]}function Mo(e){Ao(ho),Lo();var t=document.createElement("div");if(t.setAttribute("role","alertdialog"),t.setAttribute("aria-labelledby","pgInfoHeader"),t.setAttribute("aria-describedby","pgInfo"),t.style.marginBottom="24px",ho.appendChild(t),Do("newPgTurnOnParentalGuidance"),So)var i="pgUnlock";else{var a=e._intent;i="download"==a?"pgDownload":"play"==a?"newToolTipPlay":a}var o=document.createElement("div");o.id="infoLinkContainer";var r=document.createElement("div");r.style.color="#b2b7c4";var s=n.notSuitableForChildMessage+'</br> </br>  <a id="pgLink" target="_blank" style="color:#ffffff; text-decoration:none; font-size:0.9em;" href="//www.bbc.co.uk/iplayer/guidance"> <div style="display:inline-block; margin-right: 5px; color:black; font-weight:bold; width:13px; height:13px; background-color:white; border-radius:50px;">i</div>'+n.findOutMore+"</a> ",l=document.createElement("div");l.id="pgInfo",l.style.fontSize="13px",l.style.color="#868686",l.style.marginTop="35px",t.appendChild(l),l.appendChild(o),o.style.margin=" 0 auto",o.appendChild(r),r.innerHTML=s;var u=document.getElementById("pgLink");u.setAttribute("aria-label",n.findOutMore),u.style.outline="none",r.style.display="inline-block",o.style.textAlign="center";var c=l.getElementsByTagName("p");if(c)for(var d=0;d<c.length;d++)c[d].style.color="#868686",c[d].style.fontSize="13px";var p=document.getElementById("pgLink"),h=!1;setTimeout(function(){h=!0},500),p.onclick=function(){return h},No(p,!0);var f={id:"pgTurnOn",text:n.newPgTurnOn,clickFunction:function(){h&&(e.player.dispatch({type:"setGuidanceSkipped",skipped:!0}),function(e){Ao(ho),Lo(),Do("newPgTurnOnParentalGuidancePINsection");var t=document.createElement("div");t.id="activatePIN",t.style.marginTop="35px",t.style.fontSize="14px",t.style.color="#ffffff",ho.appendChild(t);var i=document.createElement("span");i.innerHTML=n.newPgEnterPIN,i.style.fontSize="14px",i.style.color="#ffffff",t.appendChild(i);var a=document.createElement("div");a.innerHTML='<span style="color:#b2b7c4;">'+n.newPgActivateInfo+"</span>",a.style.marginTop="10px",a.style.marginBottom="24px",a.style.fontSize="14px",a.style.color="#868686",ho.appendChild(a),(go=Fo(ho)).setAttribute("aria-label",n.pgAriaPINEntryDescription+"."+n.pgAriaPINPrompt),No(go,!0);var o=function(){if(/^\d{4}$/.test(go.value)){var t=go.value;e.player.dispatch({type:"setPIN",PIN:t}),e.close(!So)}else go.value="",xo(a,n.newPgPINvalidationError,0,e),go.focus()},r=Vo(e._intent,"pgActivate");Ho(go,o,e),Ro(e,{id:"pgActivate",text:n[r],clickFunction:o})}(e))}},m={id:"toolTipPlay",text:n[i],clickFunction:function(){h&&(e.player.dispatch({type:"setGuidanceSkipped",skipped:!0}),e.close(!0))}};Ro(e,f,So?null:m),_o(e,"pgLink")}function Fo(e){var t=document.createElement("div");t.id="pinEntry",t.style.width="100%",t.style.height="40px",t.style.marginBottom="20px",e.appendChild(t);var i=document.createElement("input"),n=i.style;return i.setAttribute("maxlength",4),n.letterSpacing="5px",n.display="block",n.margin="0 auto",n.height="100%",n.width="60%",n.padding="0px",n.resize="none",n.color="#868686",n.fontSize="30px",n.textAlign="center",i.setAttribute("type","password"),i.pattern="[0-9]*",t.appendChild(i),i}function Ho(e,t,i){var n=!1;setTimeout(function(){n=!0},400),e.addEventListener("keyup",function(a){13===((a=a||window.event).keyCode||a.which)&&n&&(i.player.trackAction(e.id,"key_press"),setTimeout(t,300))})}function qo(e){Ao(ho),Lo(),Do("newPgTurnOnParentalGuidanceInsertPIN");var t=document.createElement("div"),i=document.createElement("div"),a=document.createElement("span"),o=document.createElement("div");o.id="needPINinfo",t.id="enterPIN",a.innerHTML=n.newPgEnterPINprompt,t.style.marginTop=t.style.paddingBottom="16px",t.style.width="100%",t.style.position="relative",t.style.fontSize=a.style.fontSize="14px",a.style.color="#ffffff",t.style.marginTop="5px",ho.appendChild(t),t.appendChild(i),i.appendChild(a),t.appendChild(o),o.innerHTML=n.newPgEnterPINinfo,o.style.color="rgb(134, 134, 134)",o.style.marginTop="15px",(go=Fo(ho)).setAttribute("aria-label",n.pgAriaPINEntryDescription+"."+n.newPgEnterPINprompt),No(go,!0);var r=function(e,t,i){var n=document.createElement("div");n.style.marginBottom="25px",n.style.width="100%",n.style.height="15px",t.appendChild(n);var a=document.createElement("a");return a.setAttribute("target","_blank"),a.setAttribute("href","//www.bbc.co.uk/iplayer/guidance"),a.id="manageLock",a.innerHTML=i,a.style.color="#ffffff",a.style.textDecoration="none",a.style.fontSize="12px",n.appendChild(a),_o(e,"manageLock"),a}(e,ho,n.newPgManageYourPIN);No(r),r.onclick=function(){return s};var s=!1;setTimeout(function(){s=!0},500);var l=function(){if(s){var t=go.value;e.isUnder16&&e.player.dispatch({type:"setUnder16Permission",hasPermission:!0}),e.player.dispatch({type:"verify",verifyPIN:t,lockClicked:So})}};Ho(go,l,e);var u=Vo(e._intent,"pgUnlock");Ro(e,{id:"pgTurnOff",text:n[u],clickFunction:l})}function Uo(){clearTimeout(Po),Po=setTimeout(Wo,100)}function Vo(e,t){return So?t:"download"==e?"pgDownload":"play"==e?"toolTipPlay":e}function Wo(){if(co){var e=co.style;e.left=e.top="-500px",e.height=e.width="5000px"}if(po){var t=Math.floor(window.innerWidth/2-po.offsetWidth/2);po.style.left=t+"px";var i=window.innerHeight-po.offsetHeight;if(window.innerHeight>=po.offsetHeight)var n=Math.floor(i/2);else n=2;po.style.marginTop=po.style.marginLeft="0px",po.style.top=n+"px"}}Eo.prototype={showInPlayerGuidance:function(e,t){var i=this;e&&(So=e.lockClicked,i._intent=e.intent||"play");var a=i.player.config.guidance,o=a.guidanceSkipped;(function(e,t){if(co)return!1;e.nowShowing=!0,document.body.style.cursor="default",(co=document.createElement("div")).setAttribute("tabindex","0"),co.id="parentalGuidanceBackground",co.className="smpPG p_parentGuidanceBackground",(po=document.createElement("div")).id="guidancePopup",po.style.backgroundColor=e.player.config.ui.guidance.pgBackgroundColour,po.setAttribute("role","alertdialog"),po.setAttribute("aria-labelledby","pgHeaderTitle"),po.className="smpPG p_parentalGuidancePopup",t.appendChild(co),t.appendChild(po),po.onkeydown=function(t){27===((t=t||window.event).keyCode||t.which)&&e.close(!1)};var i=document.createElement("div");i.id="guidanceContainer",po.appendChild(i);var a=document.createElement("div");a.id="pgHeaderTitle",i.appendChild(a),(yo=document.createElement("span")).innerHTML=n.pgHeader,yo.id="pgHeader",yo.style.color=e.player.config.ui.guidance.pgColour,a.appendChild(yo),(ho=document.createElement("div")).id="guidanceBody",i.appendChild(ho),(fo=document.createElement("div")).id="guidanceFooter",po.appendChild(fo),(mo=document.createElement("a")).setAttribute("aria-label",n.pgClose),mo.id="pgExit";var o=mo.style;if(mo.title=n.pgClose,e.ui.config.useHighResIcons){var r=ue.generateSVG(18,18,"gel-exitLink","p_gel-exitLinkIcon");mo.appendChild(r)}else o.backgroundImage="url(https://emp.bbc.co.uk/emp/assets/2.2.6/GEL_Remove_icon.png)";o.backgroundRepeat="no-repeat",po.appendChild(mo);var s=!1;return setTimeout(function(){s=!0},500),mo.onclick=function(t){s&&(Io(t=t||window.event),e.player.trackAction(mo,To?"key_press":"click"),To=!1,e.close(!1))},!0})(i,t)&&(a.hasGuidancePIN&&a.isGuidanceLocked&&!a.under16permissionConfirmed?qo(i):So&&o||i.isOver16?Mo(i):function(e,t){Ao(ho),Lo();var i=document.createElement("div");i.id="guidanceMessage";var a=i.style;if(a.marginTop=e.ui.config.useHighResIcons?"0":"15px",a.marginBottom="5px",a.width="100%",a.position="relative",a.fontSize="13px",ho.appendChild(i),Do("newAgeConfirmationTitle"),e.ui.config.useHighResIcons){var o=document.createElement("div");o.id="guidanceG",o.style.display="inline-block";var r=ue.generateSVG(44,44,"guidance","p_guidanceIcon");r.style.top="10px",o.appendChild(r),i.appendChild(o)}else{var s=document.createElement("div");s.id="guidanceG";var l=s.style;l.display="inline-block",l.margin="auto",l.borderRadius="50%",l.width=l.height="15px",l.backgroundColor="red",l.position="relative",l.top="-2px",l.fontSize="12px",i.appendChild(s);var u=document.createElement("span");u.innerHTML="G";var c=u.style;c.lineHeight="normal",c.position="relative",c.left="-0.5px",c.top="1px",c.color="#ffffff",s.appendChild(u),i.appendChild(s)}var d=document.createElement("span");d.id="guidanceText",d.innerHTML=e.isUnder16?t+"</br></br>"+n.newUnder16WithPermission:t,(c=d.style).left="0px",c.top="16px",c.marginLeft=e.ui.config.useHighResIcons?"0":"5px",c.lineHeight="16px",c.color="#b2b7c4",i.appendChild(d);var p=document.createElement("div");p.id="ageConfirm";var h=p.style;h.width="100%",h.height="57px",h.position="relative",h.fontSize="14px",h.color="#ffffff",h.display="-ms-inline-flexbox",h.justifyContent="center",ho.appendChild(p);var f=document.createElement("button");f.id="ageConfirmCheck";var m=f.style;m.background="url(https://emp.bbc.co.uk/emp/assets/2.2.6/tick.png) no-repeat center",m.backgroundPosition="-30px",m.position="absolute",m.top="16px",m.height=m.width="25px",m.cursor="pointer",m.backgroundColor="#ffffff",m.borderWidth="0",m.textIndent="-9999px",m.whiteSpace="nowrap",m.overflow="hidden",p.appendChild(f),No(f,!0),Bo(f,!0,e);var y=document.createElement("span");y.innerHTML=e.isUnder16?n.newPgAgeConfirmationUnder16:n.pgAgeConfirmation,y.style.position="relative",y.style.top="20px",y.style.marginLeft="35px",p.appendChild(y);var g=!1;setTimeout(function(){g=!0},500),f.onclick=function(){g&&(Co=!Co,Bo(f))};var v=e.isUnder16?n.newPgPlay:n.pgContinue;Ro(e,{id:"pgAgeContinue",text:v,clickFunction:function(){if(e.isUnder16&&Co)e.player.dispatch({type:"setGuidanceSkipped",skipped:!0}),e.player.dispatch({type:"setUnder16Permission",hasPermission:!0}),e.close(!0);else if(Co)Mo(e);else{var t=e.isUnder16?n.pgUnder16PermissionValidationError:n.pgPasswordValidationError;xo(i,t,0,e)}}})}(i,e.guidance),window.addEventListener("resize",Wo),window.addEventListener("orientationchange",Uo))},guidanceLock:function(){this.player.dispatch({type:"guidanceLocked",locked:!0})},verified:function(e){e.isCorrect?this.close(!So):(go.value="",xo(yo,n.newPgIncorrectPIN,0,this),go.focus())},close:function(e,t){var i=this;if(i.nowShowing=!1,co&&(co.parentNode.removeChild(co),co=void 0),po&&(po.parentNode.removeChild(po),po=void 0),!t){var n=!1;i.player.guidanceOk&&(n=!0,e&&i.player.startPlayback()),i.player.delayedDispatch({type:"guidanceClosed",success:n})}window.removeEventListener("resize",Wo),window.removeEventListener("orientationchange",Uo)}};function Go(e){clearTimeout(e.showBufferTimer),e.player.dispatch({type:"showBuffer"}),e.visiblyShowBuffer(),this.showing=!0,e.player.isSeeking||u.buffering()}function zo(e){e.ui.enabled&&(e.showing?e.startBufferTimer():e.hideBuffer())}function jo(e){this.ui=e,this.player=e.player,this.config=e.config,this.showing=!1}function Qo(e){ue.deleteCssRules(e.ui.stylesheet,[".p_fadingRing"]),e.ui.stylesheet.insertRule(".p_fadingRing { fill: "+e.ui.config.baseColour+"; }",e.ui.stylesheet.cssRules.length)}jo.prototype={getEventCallbacks:function(){var e=this;return{ccConnect:function(){e.startBufferTimer()},playingState:function(){e.hideBuffer()},playing:function(){e.hideBuffer()},tryingToPlay:function(){e.startBufferTimer()},play:function(){e.startBufferTimer()},pause:function(){e.hideBuffer()},notPlayingState:function(){e.hideBuffer()},losingControl:function(){e.hideBuffer()},waiting:function(){"playing"==e.player.playingState&&(e.startBufferTimer(),e.player.mediaPlayer.seeking||e.player.qos.buffering())},seeking:function(){e.startBufferTimer(),"playing"==e.player.playingState&&e.player.qos.seeking()},seeked:function(){e.hideBuffer()},playlistStopped:function(){e.hideBuffer()},playlistLoading:function(){e.startBufferTimer()},fullscreenExit:function(){zo(e)},playlistLoaded:function(){e.player.autoPlayNextItem?e.startBufferTimer():e.hideBuffer()}}},startBufferTimer:function(){this.config.buffer.enabled&&(clearTimeout(this.showBufferTimer),this.showBufferTimer=setTimeout(Go,750,this))},hideBuffer:function(e){clearTimeout(this.showBufferTimer),this.config.buffer.forceShow&&!e||(this.visiblyHideBuffer(),this.player.dispatch({type:"bufferHidden"}),this.showing=!1,u.buffering(!0)),this.player.qos.endBuffering()},updateConfig:function(e){var t=this.config.buffer.forceShow;this.config=e,this.applyConfig(),this.config.buffer.forceShow!=t&&(this.config.buffer.forceShow?this.startBufferTimer():this.hideBuffer()),this.config.buffer.enabled||this.hideBuffer(!0)},resizeFixEnd:function(){zo(this)},applyConfig:function(){}};var Ko=function(e){jo.call(this,e),function(e){var t,i,n,a=33.5,o=30.5,r=2*Math.PI/256,s=1,l=s/255,u=[[34,.5],[34,3.5]],c=ue.createSVGElement("g",{});c.setAttribute("class","p_fadingRing");for(var d=1;d<=256;d++)n=ue.createSVGElement("path",{}),i=d*r,t=[[34-a*Math.sin(i),34-a*Math.cos(i)],[34-o*Math.sin(i),34-o*Math.cos(i)]],n.setAttribute("d","M "+u[0]+" A "+a+" "+a+", 0, 0, 1, "+t[0]+" L "+t[1]+" A "+o+" "+o+", 0, 0, 0, "+u[1]),n.setAttribute("opacity",s),u=t,s-=l,c.appendChild(n);e.angle=0,e.buffer=c,e.buffer.style.opacity=0}(this),Qo(this),e.player.pushMediaEventFunctions(this.getEventCallbacks()),e.player.pushMediaEventFunctions(this.getSpecificEventCallbacks()),this.animationDuration=1e3};function Yo(){b.ios||ue.className(this.button,"hovering")}function Xo(){ue.className(this.button,"","hovering")}function $o(){ue.className(this.button,"pressed")}function Jo(){ue.className(this.button,"","pressed")}function Zo(e){var t=e.button=document.createElement("button"),i=e.buttonInner=document.createElement("div");i.className="p_audioButton_buttonInner",t.appendChild(i),t.className="audioButton";try{var n=$o.bind(e),a=Jo.bind(e);ue.hoverMoveAction(t,Yo.bind(e)),ue.hoverLeaveAction(t,Xo.bind(e)),ue.downAction(t,n),ue.upAction(document,a,!0),ue.multiAddEventListener(t,"focus focusin",ue.getActionFn(function(){ue.className(t,"focused")},!0)),ue.multiAddEventListener(t,"blur focusout",ue.getActionFn(function(){ue.className(t,"","focused")},!0)),t.addEventListener("keydown",function(e){e.keyCode!=w&&e.keyCode!=k||n()}),t.addEventListener("keyup",function(){a()}),window.PointerEvent?(t.addEventListener("pointerdown",function(e){"touch"==e.pointerType&&ue.className(t,"touched")},!0),ue.multiAddEventListener(t,"pointerup pointercancel",function(){ue.className(t,"","touched")},!0)):(t.addEventListener("touchstart",function(){ue.className(t,"touched")},!0),ue.multiAddEventListener(t,"touchend touchcancel",function(){ue.className(t,"","touched")},!0))}catch(Ou){}t.addEventListener("contextmenu",function(e){ue.hasClass(t,"touched")&&(e.stopPropagation(),e.preventDefault())})}function er(){Zo(this)}function tr(e){ue.deleteCssRulesContaining(e.ui.stylesheet,["p_audioui_playpause"]),e.ui.stylesheet.insertRule("#p_audioui_playpause_highlightCircle { fill: "+e.ui.config.colour+"; }",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule("#p_audioui_playpause { fill: "+e.ui.config.baseColour+"; }",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule("#p_audioui_playpause_circle { stroke: "+e.ui.config.baseColour+"; }",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule("#p_audioui_playpause.hovering #p_audioui_playpause_centralIcons, #p_audioui_playpause.pressed #p_audioui_playpause_centralIcons, .nonPointerFocus #p_audioui_playpause.focused #p_audioui_playpause_centralIcons { fill: "+e.ui.config.colourOnHighlightColour+"; }",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule("#p_audioui_playpause.hovering .p_fadingRing, #p_audioui_playpause.pressed .p_fadingRing, .nonPointerFocus #p_audioui_playpause.focused .p_fadingRing { fill: "+e.ui.config.colourOnHighlightColour+"; }",e.ui.stylesheet.cssRules.length)}function ir(e,t){this.ui=e,this.state="play",er.call(this),this.spinner=new Ko(e),function(e,t){e.button.id=t||"p_audioui_playpause",e.button.setAttribute("aria-label",n.toolTipPlay);var i=ue.createSVGElement("svg",{width:68,height:68,viewBox:"0 0 68 68"}),a=e.surroundingCircle=ue.createSVGElement("circle",{id:"p_audioui_playpause_circle",cx:34,cy:34,r:32}),o=e.highlightCircle=ue.createSVGElement("circle",{id:"p_audioui_playpause_highlightCircle",cx:34,cy:34,r:34}),r=e.pauseIcon=ue.createSVGElement("g",{id:"p_audioui_playpause_centralIcons"}),s=e.playIcon=ue.createSVGElement("polygon",{id:"p_audioui_playpause_playIcon",points:"27 46 46 34 27 22"}),l=e.pauseIcon=ue.createSVGElement("g",{id:"p_audioui_playpause_pauseIcon"}),u=ue.createSVGElement("rect",{x:26,y:24,width:6,height:20}),c=ue.createSVGElement("rect",{x:36,y:24,width:6,height:20});l.appendChild(u),l.appendChild(c),r.appendChild(s),r.appendChild(l),i.appendChild(a),i.appendChild(o),i.appendChild(e.spinner.getDomNodes()[0]),i.appendChild(r),e.buttonInner.appendChild(i)}(this,t),tr(this)}function nr(e){e.button.setAttribute("aria-label",n.skipBack.replace("{seconds}",e.ui.config.skipInterval))}function ar(e){e.ui.config.controls.includeBackIntervalButton?e.restore():e.remove(),e.cssChanges("#p_audioui_backInterval")}function or(e,t){var i=t._.timeHelper;!i.canSeek()||i.time<=i.earliestSeek&&"playing"!=t._.playingState?e.disable():e.enable()}function rr(e,t,i){this.ui=e,this.oldStyle=t,er.call(this),function(e,t){e.button.id="p_audioui_backInterval",ue.className(e.button,"p_audioui_intervalButton"),nr(e);var i=ue.createSVGElement("svg",{width:48,height:48,viewBox:"0 0 48 48"}),n=ue.createSVGElement("path",{id:"p_audioui_backInterval_backArrow",class:"p_audioui_intervalArrow",d:"M23.9785895,8.59327393 C23.926122,8.59327393 23.8224363,8.59327393 23.8224363,8.59327393 L22.3845769,8.5920247 L25.6962756,5.28657205 L23.9298697,3.52391381 L17.3039737,10.1348191 L23.9298697,16.7457244 L25.6962756,14.9830662 L22.4158075,11.7088442 L23.8224363,11.7113426 C23.8224363,11.7113426 23.926122,11.7100934 23.9785895,11.7100934 C31.9124254,11.7100934 38.3446914,18.1286179 38.3446914,26.0462138 C38.3446914,33.9638098 31.9124254,40.3823343 23.9785895,40.3823343 C16.0435044,40.3823343 9.61248769,33.9638098 9.61248769,26.0462138 C9.61248769,26.0299739 9.61498614,26.0149832 9.61498614,25.9987433 L6.49192052,25.9987433 C6.49192052,26.0149832 6.48942206,26.0299739 6.48942206,26.0462138 C6.48942206,35.6852436 14.3195722,43.4991538 23.9785895,43.4991538 C33.6376069,43.4991538 41.467757,35.6852436 41.467757,26.0462138 C41.467757,16.4071841 33.6376069,8.59327393 23.9785895,8.59327393"}),a=e.iconNumber=document.createElement("div");a.className="p_audioui_iconNumber",a.textContent=e.ui.config.skipInterval;var o,r,s,l=e.popNumber=document.createElement("div");l.className="p_audioui_popNumber",l.textContent="-"+e.ui.config.skipInterval,e.setActionFunction(function(){t||(clearTimeout(o),clearTimeout(r),clearTimeout(s),e.button.classList.add("rotated"),window.matchMedia("(prefers-reduced-motion: reduce)").matches||(e.iconNumber.style.opacity=0),e.popNumber.style.opacity=1,e.popNumber.classList.add("p_up"),o=setTimeout(function(){e.button.classList.remove("rotated")},150),r=setTimeout(function(){e.iconNumber.style.opacity=1,e.popNumber.style.opacity=0},400),s=setTimeout(function(){e.popNumber.classList.remove("p_up")},650))}),i.appendChild(n),e.buttonInner.appendChild(i),e.buttonInner.appendChild(a),e.buttonInner.appendChild(l)}(this,i),ar(this)}function sr(e){e.button.setAttribute("aria-label",n.skipForward.replace("{seconds}",e.ui.config.skipInterval))}function lr(e){e.ui.config.controls.includeForwardIntervalButton?e.restore():e.remove(),e.cssChanges("#p_audioui_forwardInterval")}function ur(e,t){var i=t._.timeHelper;!i.canSeek()||i.time-i.latestSeek>-.002?e.disable():e.enable()}function cr(e,t,i){this.ui=e,this.oldStyle=t,er.call(this),function(e,t){e.button.id="p_audioui_forwardInterval",ue.className(e.button,"p_audioui_intervalButton"),sr(e);var i=ue.createSVGElement("svg",{width:48,height:48,viewBox:"0 0 48 48"}),n=ue.createSVGElement("path",{id:"p_audioui_forwardInterval_forwardArrow",class:"p_audioui_intervalArrow",d:"M23.9911839,8.58201848 C24.043535,8.58201848 24.1469905,8.58201848 24.1469905,8.58201848 L25.5816575,8.58077203 L22.2773116,5.28265844 L24.0397956,3.52391381 L30.6509802,10.120141 L28.8872498,11.8801321 L24.0397956,16.7176146 L22.2773116,14.9576235 L25.5504962,11.6919177 L24.1469905,11.6931642 C24.1469905,11.6931642 24.043535,11.6919177 23.9911839,11.6919177 C16.0749635,11.6919177 9.656979,18.0961912 9.656979,25.9962078 C9.656979,33.8962244 16.073717,40.3004979 23.9911839,40.3004979 C31.9074044,40.3004979 38.3253889,33.8962244 38.3253889,25.9962078 C38.3253889,25.9800039 38.322896,25.9650465 38.322896,25.9488426 L41.4390275,25.9488426 C41.4390275,25.9650465 41.4415204,25.9800039 41.4415204,25.9962078 C41.4415204,35.6138361 33.6287555,43.4103971 23.9911839,43.4103971 C14.3536124,43.4103971 6.54084749,35.6138361 6.54084749,25.9962078 C6.54084749,16.3785795 14.3536124,8.58201848 23.9911839,8.58201848"}),a=e.iconNumber=document.createElement("div");a.className="p_audioui_iconNumber",a.textContent=e.ui.config.skipInterval;var o,r,s,l=e.popNumber=document.createElement("div");l.className="p_audioui_popNumber",l.textContent="+"+e.ui.config.skipInterval,e.setActionFunction(function(){t||(clearTimeout(o),clearTimeout(r),clearTimeout(s),e.button.classList.add("rotated"),window.matchMedia("(prefers-reduced-motion: reduce)").matches||(e.iconNumber.style.opacity=0),e.popNumber.style.opacity=1,e.popNumber.classList.add("p_up"),o=setTimeout(function(){e.button.classList.remove("rotated")},150),r=setTimeout(function(){e.iconNumber.style.opacity=1,e.popNumber.style.opacity=0},400),s=setTimeout(function(){e.popNumber.classList.remove("p_up")},650))}),i.appendChild(n),e.buttonInner.appendChild(i),e.buttonInner.appendChild(a),e.buttonInner.appendChild(l)}(this,i),lr(this)}function dr(e){e.cssChanges("#p_audioui_previousButton")}function pr(e,t){t._.mediaItem&&!t._.mediaItem.live&&t._.ui.config.controls.includePreviousButton?e.restore():e.remove()}function hr(e,t){var i=t._.hasPrevious,n=t._.ui.config.controls.alwaysEnablePreviousButton;i||n?e.enable():e.disable()}function fr(e,t){this.ui=e,this.oldStyle=t,er.call(this),function(e){e.button.id="p_audioui_previousButton",ue.className(e.button,"p_audioui_playlistButton"),e.button.setAttribute("aria-label",n.previousItem);var t=ue.createSVGElement("svg",{width:48,height:48,viewBox:"0 0 48 48"}),i=ue.createSVGElement("path",{id:"p_audioui_previousButton_chevron",class:"p_audioui_playlistChevron",d:"M16.9954676,31.996911 L16.9954676,16.0004999 L18.495178,16.0004999 L18.495178,31.996911 L16.9954676,31.996911 Z M18.495178,23.9984555 L30.9927648,16 L30.9927648,20.0792123 L24.3585458,23.9984555 L30.9927648,27.9181986 L30.9927648,31.996911 L18.495178,23.9984555 Z"});t.appendChild(i),e.buttonInner.appendChild(t)}(this),dr(this)}function mr(e){e.cssChanges("#p_audioui_nextButton")}function yr(e,t){t._.mediaItem&&!t._.mediaItem.live&&t._.ui.config.controls.includeNextButton?e.restore():e.remove()}function gr(e,t){var i=t._.hasNext,n=t._.ui.config.controls.alwaysEnableNextButton;i||n?e.enable():e.disable()}function vr(e,t){this.ui=e,this.oldStyle=t,er.call(this),function(e){e.button.id="p_audioui_nextButton",ue.className(e.button,"p_audioui_playlistButton"),e.button.setAttribute("aria-label",n.nextItem);var t=ue.createSVGElement("svg",{width:48,height:48,viewBox:"0 0 48 48"}),i=ue.createSVGElement("path",{id:"p_audioui_nextButton_chevron",class:"p_audioui_playlistChevron",d:"M29.5034828,32 L29.5034828,16 L31.0034828,16 L31.0034828,32 L29.5034828,32 Z M17.0034828,20.0803 L17.0034828,16.0003 L29.5034828,23.9998 L17.0034828,31.9998 L17.0034828,27.9203 L23.6399828,23.9998 L17.0034828,20.0803 Z"});t.appendChild(i),e.buttonInner.appendChild(t)}(this),mr(this)}function br(e){e.button.id="p_audioui_backToStartButton",ue.className(e.button,"p_audioui_jumpButton"),e.button.setAttribute("aria-label",n.listenFromStart),e.setActionFunction(function(e){return function(){var t;e.animationID&&cancelAnimationFrame(e.animationID),e.animationID=requestAnimationFrame(function i(n){void 0===t&&(t=n,e.textholder.style.opacity=0);var a=(n-t)/e.animationDuration*360;e.angle=e.angle-a,e.angle<-360&&(e.angle=-360),e.arrowForText.setAttribute("transform","rotate("+e.angle+",26,26)"),e.arrowForNoText.setAttribute("transform","rotate("+e.angle+",24,26)"),t=n,e.angle>-360?e.animationID=requestAnimationFrame(i):(e.angle=0,e.textholder.style.opacity=1,t=void 0)})}}(e));var t=ue.createSVGElement("svg",{width:48,height:48,viewBox:"0 0 48 48"}),i=e.arrowForText=ue.createSVGElement("g",{id:"p_audioui_backToStartButton_arrow",class:"p_audioui_jumpButtonArrow"}),a=ue.createSVGElement("polygon",{points:"20.185946 9.0716033 15.2310161 14.0162552 16.5522061 15.3346422 20.185946 18.9599727 21.5080704 17.6415858 17.8743305 14.0162552 21.5080704 10.3899903"}),o=ue.createSVGElement("path",{d:"M16.6028486,35.1420282 C18.9705259,37.5078367 22.2436014,38.9719843 25.8595883,38.9719843 C33.0840873,38.9719843 38.940678,33.1275403 38.940678,25.9198599 C38.940678,18.7112452 33.0840873,12.8677355 25.8595883,12.8677355 C25.820345,12.8677355 25.7427929,12.8677355 25.7427929,12.8677355 L24.666406,12.8668012 L27.1443382,10.3944752 L25.8231481,9.07608824 L20.8672839,14.0207401 L25.8231481,18.9644577 L27.1443382,17.6460707 L24.6906995,15.1980382 L25.7418585,15.1989726 C25.7418585,15.1989726 25.820345,15.1980382 25.8595883,15.1980382 C31.7937312,15.1980382 36.6047691,19.9978638 36.6047691,25.9198599 C36.6047691,31.8409217 31.7937312,36.6407473 25.8595883,36.6407473 C22.8864435,36.6407473 20.1954765,35.4363527 18.2501316,33.489139"}),r=e.arrowForNoText=ue.createSVGElement("path",{d:"M23.964 9.004l1.321 1.324-2.478 2.48H24c7.228 0 13.088 5.864 13.088 13.097S31.228 39 24 39c-7.228 0-13.088-5.862-13.086-13.132 1.557.017 2.335.029 2.335.037 0 5.94 4.813 10.757 10.751 10.757 5.937 0 10.75-4.816 10.75-10.757 0-5.942-4.813-10.758-10.75-10.758h-1.169l2.454 2.456-1.321 1.323-4.959-4.96 4.959-4.962zM18.303 9l1.322 1.323-3.636 3.638 3.636 3.639-1.322 1.323-3.636-3.639-1.322-1.323L18.303 9z"}),s=e.textholder=document.createElement("div");s.id="p_audioui_backToStartButton_text",s.innerHTML="START",i.appendChild(o),i.appendChild(a),t.appendChild(i),t.appendChild(r),e.buttonInner.appendChild(t),e.buttonInner.appendChild(s)}function Cr(e){e.cssChanges("#p_audioui_backToStartButton"),e.ui.config.controls.displayJumpButtonText?(e.arrowForNoText.style.display="none",e.arrowForText.style.display="block",e.textholder.style.display="block"):(e.arrowForNoText.style.display="block",e.arrowForText.style.display="none",e.textholder.style.display="none")}function Sr(e,t){var i=t._.timeHelper;!i.canSeek()||i.time<=i.earliestSeek&&"playing"!=t._.playingState?e.disable():e.enable()}function Tr(e){this.ui=e,this.angle=0,this.animationDuration=600,er.call(this),br(this),Cr(this)}function Pr(e){e.button.id="p_audioui_toLiveButton",ue.className(e.button,"p_audioui_jumpButton"),e.button.setAttribute("aria-label",n.goToLivePoint),e.setActionFunction(function(e){return function(){var t;e.animationID&&cancelAnimationFrame(e.animationID),e.animationID=requestAnimationFrame(function i(n){void 0===t&&(t=n,e.textholder.style.opacity=0);var a=(n-t)/e.animationDuration*360;e.angle=e.angle+a,e.angle>360&&(e.angle=360),e.arrowForText.setAttribute("transform","rotate("+e.angle+",22,26)"),e.arrowForNoText.setAttribute("transform","rotate("+e.angle+",24,26)"),t=n,e.angle<360?e.animationID=requestAnimationFrame(i):(e.angle=0,e.textholder.style.opacity=1,t=void 0)})}}(e));var t=ue.createSVGElement("svg",{width:48,height:48,viewBox:"0 0 48 48"}),i=e.arrowForText=ue.createSVGElement("g",{id:"p_audioui_toLiveButton_arrow",class:"p_audioui_jumpButtonArrow"}),a=ue.createSVGElement("polygon",{points:"31.413028 15.2730478 27.7728902 18.9047616 26.4493738 17.5840533 30.0895117 13.9523395 26.4493738 10.3196897 27.7728902 8.99898137 32.7374804 13.9523395"}),o=ue.createSVGElement("path",{d:"M31.3627644,35.1147477 C28.9909183,37.4847218 25.7120798,38.9514474 22.089726,38.9514474 C14.8525067,38.9514474 8.98560405,33.0976489 8.98560405,25.8763417 C8.98560405,18.6550345 14.8525067,12.801236 22.089726,12.801236 C22.1290384,12.801236 22.2067271,12.802172 22.2067271,12.802172 L23.2850092,12.8003 L20.8027141,10.3245569 L22.1262304,9.00384862 L27.0908206,13.9562707 L22.1262304,18.9096288 L20.8027141,17.5879845 L23.2606729,15.1356417 L22.2076631,15.1365777 C22.2076631,15.1365777 22.1290384,15.1356417 22.089726,15.1356417 C16.1451347,15.1356417 11.3256258,19.9439185 11.3256258,25.8763417 C11.3256258,31.8078289 16.1451347,36.6161057 22.089726,36.6161057 C25.0681058,36.6161057 27.7638109,35.4095904 29.712581,33.4589483"}),r=e.arrowForNoText=ue.createSVGElement("path",{d:"M24.036 9.004L29 13.966l-4.964 4.96-1.323-1.323 2.458-2.456H24c-5.943 0-10.761 4.816-10.761 10.758 0 5.94 4.818 10.757 10.761 10.757 5.944 0 10.761-4.816 10.761-10.757l-.001-.037h2.339l.002.037C37.1 33.138 31.235 39 24 39c-7.235 0-13.1-5.862-13.1-13.095 0-7.233 5.865-13.096 13.1-13.096h.117l1.077-.001-2.48-2.48 1.322-1.324zM29.7 9l4.963 4.961-1.324 1.323-3.639 3.639-1.324-1.323 3.64-3.639-3.64-3.638L29.7 9z"}),s=e.textholder=document.createElement("div");s.id="p_audioui_toLiveButton_text",s.innerHTML="LIVE",i.appendChild(o),i.appendChild(a),t.appendChild(i),t.appendChild(r),e.buttonInner.appendChild(t),e.buttonInner.appendChild(s)}function kr(e){e.cssChanges("#p_audioui_toLiveButton"),e.ui.config.controls.displayJumpButtonText?(e.arrowForNoText.style.display="none",e.arrowForText.style.display="block",e.textholder.style.display="block"):(e.arrowForNoText.style.display="block",e.arrowForText.style.display="none",e.textholder.style.display="none")}function wr(e,t){t._.timeHelper.time-t._.timeHelper.latestSeek>-.002?e.disable():e.enable()}function Er(e){this.ui=e,this.angle=0,this.animationDuration=600,er.call(this),Pr(this),kr(this)}function _r(e){e.ui.config.controls.popout?e.restore():e.remove(),e.cssChanges("#p_audioui_popOutPlayerButton")}function Ir(e){this.ui=e,er.call(this),function(e){e.button.id="p_audioui_popOutPlayerButton";var t=ue.createSVGElement("svg",{width:20,height:20,viewBox:"0 0 20 20"}),i=ue.createSVGElement("path",{d:"M17.5,2.5v8.75H8.75V2.5H17.5M20,0H6.25V13.75H20V0Z"}),a=ue.createSVGElement("polygon",{points:"12.5 18.75 1.25 18.75 1.25 7.5 5 7.5 5 6.25 0 6.25 0 20 13.75 20 13.75 15 12.5 15 12.5 18.75"});t.appendChild(a),t.appendChild(i);var o=e.buttonText=document.createElement("div");ue.className(o,"p_audioui_popOutPlayerButton_text"),o.textContent=n.popOutPlayer,e.buttonInner.appendChild(o),e.buttonInner.appendChild(t)}(this),_r(this)}function Ar(e){e.ui.config.playQueue.on?(e.title=n.playQueueOn,e.button.setAttribute("aria-label",n.playQueueOn)):(e.title=n.playQueueOff,e.button.setAttribute("aria-label",n.playQueueOff)),e.cssChanges("#p_audioui_playQueueButton"),e.ui.config.playQueue.enabled?e.enabled=!0:e.enabled=!1,e.ui.config.playQueue.on?e.line.style.display="block":e.line.style.display="none",Nr(e)}function Nr(e){e.enabled&&(window.innerWidth>399||e.ui.config.threeRows&&window.innerHeight>219)?e.restore():e.remove()}function Lr(e){this.ui=e,er.call(this),function(e){e.button.id="p_audioui_playQueueButton";var t=ue.createSVGElement("svg",{width:20,height:20,viewBox:"0 0 32 32"}),i=ue.createSVGElement("path",{d:"M24.6 11.3H13.6V7.6H24.5V11.3H24.6ZM24.6 14.9H9.8V18.6H24.5V14.9H24.6ZM24.6 22.3H9.8V26H24.5V22.3H24.6ZM7.4 6V12.8H9L11.8 9.4L9 6H7.4Z"});t.appendChild(i),e.line=document.createElement("div"),e.line.className="p_indicatorLine",e.buttonInner.appendChild(t),e.buttonInner.appendChild(e.line)}(this),Ar(this);var t=this;window.addEventListener("resize",function(){Nr(t)})}(Ko.prototype=ue.object(jo.prototype)).getDomNodes=function(){return[this.buffer]},Ko.prototype.visiblyShowBuffer=function(){var e,t;this.buffer.style.opacity=1,this.animationID&&cancelAnimationFrame(this.animationID),this.animationID=requestAnimationFrame((e=this,function i(n){t||(t=n);var a=(n-t)/e.animationDuration*360;e.angle=(e.angle+a)%360,e.buffer.setAttribute("transform","rotate("+e.angle+",34,34)"),t=n,e.animationID=requestAnimationFrame(i)}))},Ko.prototype.visiblyHideBuffer=function(){this.buffer.style.opacity=0,this.animationID&&cancelAnimationFrame(this.animationID)},Ko.prototype.applyConfig=function(){},Ko.prototype.getSpecificEventCallbacks=function(){var e=this;return{uiConfigUpdated:function(){Qo(e)}}},er.prototype={cssChanges:function(e,t){if(ue.deleteCssRulesContaining(this.ui.stylesheet,[e]),this.oldStyle){var i=this.ui.config.baseColour,n=this.ui.config.foreColour;this.ui.stylesheet.insertRule(e+":hover, .nonPointerFocus "+e+":focus { background-color: "+this.ui.config.colour+"; }",this.ui.stylesheet.cssRules.length)}else i=this.ui.config.baseColour,n=this.ui.config.colour;t||this.ui.stylesheet.insertRule(e+" { color: "+i+"; fill: "+i+"; }",this.ui.stylesheet.cssRules.length),this.ui.stylesheet.insertRule(e+":not([disabled]).hovering, "+e+":not([disabled]).pressed, .nonPointerFocus "+e+":not([disabled]).focused { color: "+n+"; fill: "+n+"; }",this.ui.stylesheet.cssRules.length)},getDomNodes:function(){return this.button},show:function(){ue.className(this.button,"","hidden"),ue.hasClass(this.button,"removed")||(this.button.setAttribute("aria-hidden","false"),ue.hasClass(this.button,"disabled")||(this.button.disabled=!1))},hide:function(){ue.className(this.button,"hidden"),this.button.setAttribute("aria-hidden","true"),this.button.disabled=!0,Jo.bind(this)(),Xo.bind(this)()},remove:function(){ue.className(this.button,"removed"),this.button.setAttribute("aria-hidden","true"),this.button.disabled=!0,Jo.bind(this)(),Xo.bind(this)()},restore:function(){ue.className(this.button,"","removed"),ue.hasClass(this.button,"hidden")||(this.button.setAttribute("aria-hidden","false"),ue.hasClass(this.button,"disabled")||(this.button.disabled=!1))},setActionFunction:function(e){window.PointerEvent?ue.multiAddEventListener(this.button,"pointerup click",ue.getActionFn(e,!0)):ue.multiAddEventListener(this.button,"mouseup touchend click",ue.getActionFn(e,!0))},disable:function(){ue.className(this.button,"disabled"),this.button.disabled=!0,Jo.bind(this)(),Xo.bind(this)()},enable:function(){ue.className(this.button,"","disabled"),ue.hasClass(this.button,"hidden")||ue.hasClass(this.button,"removed")||(this.button.disabled=!1)}},ir.prototype=ue.object(er.prototype),ir.prototype.getEventCallbacks=function(){var e=this;return{notPlayingState:function(){e.state="play",e.playIcon.style.opacity=1,e.pauseIcon.style.opacity=0,e.button.setAttribute("aria-label",n.toolTipPlay)},playingState:function(){e.state="pause",e.playIcon.style.opacity=0,e.pauseIcon.style.opacity=1,e.button.setAttribute("aria-label",n.toolTipPause)},uiConfigUpdated:function(){tr(e)},showBuffer:function(){e.surroundingCircle.style.opacity=0},bufferHidden:function(){e.surroundingCircle.style.opacity=1},languageUpdated:function(){"play"==e.state?e.button.setAttribute("aria-label",n.toolTipPlay):e.button.setAttribute("aria-label",n.toolTipPause)}}},rr.prototype=ue.object(er.prototype),rr.prototype.getEventCallbacks=function(){var e=this;return{uiConfigUpdated:function(){ar(e),nr(e),e.iconNumber.textContent=e.ui.config.skipInterval,e.popNumber.textContent="-"+e.ui.config.skipInterval},seeked:function(t){or(e,t)},timeupdate:function(t){or(e,t)},playing:function(t){or(e,t)},languageUpdated:function(){nr(e)}}},cr.prototype=ue.object(er.prototype),cr.prototype.getEventCallbacks=function(){var e=this;return{uiConfigUpdated:function(){lr(e),sr(e),e.iconNumber.textContent=e.ui.config.skipInterval,e.popNumber.textContent="+"+e.ui.config.skipInterval},seeked:function(t){ur(e,t)},timeupdate:function(t){ur(e,t)},playing:function(t){ur(e,t)},languageUpdated:function(){sr(e)}}},fr.prototype=ue.object(er.prototype),fr.prototype.getEventCallbacks=function(){var e=this;return{playlistsChanged:function(t){pr(e,t),hr(e,t)},uiConfigUpdated:function(t){dr(e),pr(e,t),hr(e,t)},mediaItemChanged:function(t){pr(e,t),hr(e,t)},languageUpdated:function(){e.button.setAttribute("aria-label",n.previousItem)},seeked:function(){},playing:function(){},timeupdate:function(t){hr(e,t)}}},vr.prototype=ue.object(er.prototype),vr.prototype.getEventCallbacks=function(){var e=this;return{playlistsChanged:function(t){yr(e,t),gr(e,t)},uiConfigUpdated:function(t){mr(e),yr(e,t),gr(e,t)},mediaItemChanged:function(t){yr(e,t),gr(e,t)},languageUpdated:function(){e.button.setAttribute("aria-label",n.nextItem)}}},Tr.prototype=ue.object(er.prototype),Tr.prototype.getEventCallbacks=function(){var e=this;return{uiConfigUpdated:function(){Cr(e)},mediaItemChanged:function(t){t._.mediaItem&&t._.mediaItem.live?e.restore():e.remove()},seeked:function(t){Sr(e,t)},timeupdate:function(t){Sr(e,t)},playing:function(t){Sr(e,t)},languageUpdated:function(){e.button.setAttribute("aria-label",n.listenFromStart)}}},Er.prototype=ue.object(er.prototype),Er.prototype.getEventCallbacks=function(){var e=this;return{uiConfigUpdated:function(){kr(e)},mediaItemChanged:function(t){t._.mediaItem&&t._.mediaItem.live?e.restore():e.remove()},seeked:function(t){wr(e,t)},timeupdate:function(t){wr(e,t)},playing:function(t){wr(e,t)},languageUpdated:function(){e.button.setAttribute("aria-label",n.goToLivePoint)}}},Ir.prototype=ue.object(er.prototype),Ir.prototype.getEventCallbacks=function(){var e=this;return{uiConfigUpdated:function(){_r(e)},languageUpdated:function(){e.buttonText.textContent=n.popOutPlayer}}},Lr.prototype=ue.object(er.prototype),Lr.prototype.getEventCallbacks=function(){var e=this;return{uiConfigUpdated:function(){Ar(e)},languageUpdated:function(){Ar(e)}}};var Br=[.5,.8,1,1.2,1.5,2],xr=2;function Or(e,t,i){var n=t+"x",a=(new er).button;return a.className="p_speedSettingButton p_button font-family-sans",a.setAttribute("aria-pressed","false"),a.setAttribute("aria-label",i),a.title=i,a.firstChild.textContent=n,a.addEventListener("click",ue.getActionFn(function(i){return e.ui.player.playbackRate=t,e.ui.player.trackAction("speed_control_"+t+"x",i),!1})),a}var Rr=function(e){this.ui=e,this.speedButtons=[],this.speedContainer=function(e){var t=document.createElement("div");t.id="p_speedContainer",t.className="p_dontCloseSettingsPanel",ue.multiAddEventListener(t,"focusout blur",function(i){var n=i.relatedTarget;null!==n&&!t.contains(n)&&ue.hasClass(document.body,"nonPointerFocus")&&e.closePanel(),e.hasFocus=!1},!0),ue.multiAddEventListener(t,"focusin focus",function(){e.hasFocus=!0},!0);var i=document.createElement("div");i.className="p_speedMask",t.appendChild(i);var a=document.createElement("div");a.className="p_speedBox",t.appendChild(a);var o=e.speedTitleLabel=document.createElement("div");o.className="p_speedLabel",o.textContent=n.speedTitle,a.appendChild(o);var r=document.createElement("div");r.className="p_downArrow",t.appendChild(r);var s=document.createElement("div");s.className="p_sizingButtonsContainer",a.appendChild(s);for(var l=0;l<Br.length;l++){var u=Or(e,Br[l],n["speedButton"+l]);e.speedButtons.push(u),s.appendChild(u)}var c=e.speedIndicator=document.createElement("div");return c.id="p_speedIndicator",a.appendChild(c),t}(this)};function Dr(e,t){if(e.title=t,e.button)e.button.setAttribute("aria-label",t);else{var i=e.getElementsByClassName("p_hiddenElement")[0];i&&(i.textContent=t)}}function Mr(e){e.cssChanges("#p_audioui_speedButton"),e.cssChanges(".p_speedSettingButton",!0),e.ui.config.controls.speed?e.enabled=!0:e.enabled=!1,Fr(e)}function Fr(e){e.enabled&&(window.innerWidth>399||e.ui.config.threeRows&&window.innerHeight>219)?e.restore():e.remove()}function Hr(e){var t=this;this.ui=e,er.call(this),function(e){e.button.id="p_audioui_speedButton",ue.className(e.button,"p_dontCloseSettingsPanel"),e.button.setAttribute("aria-label",n.openSpeedMenu);var t=document.createElement("div");t.textContent="1x",e.buttonInner.appendChild(t),e.displayItem=t}(this),Mr(this),window.addEventListener("resize",function(){Fr(t)})}function qr(e){e.cssChanges("#p_audioui_playbackSettingsButton"),e.ui.config.playbackSettingsPanel&&e.ui.config.playbackSettingsPanel.enabled?e.enabled=!0:e.enabled=!1,Ur(e),e.showHideBumpButton()}function Ur(e){e.enabled&&(window.innerWidth>599||e.ui.config.threeRows&&window.innerHeight>219)?e.restore():e.remove()}function Vr(e){var t=this;this.ui=e,er.call(this),function(e){e.button.id="p_audioui_playbackSettingsButton",ue.className(e.button,"p_dontCloseSettingsPanel"),e.button.setAttribute("aria-label",n.openPlaybackSettingsMenu);var t=ue.createSVGElement("svg",{width:48,height:48,viewBox:"0 0 44 44"}),i=ue.createSVGElement("path",{d:"M22.76522,23.847576 C21.7467559,24.2695688 20.5757973,23.785077 20.1528122,22.7645945 C19.7303271,21.744612 20.21531,20.575132 21.234774,20.1521393 C22.254238,19.7306465 23.4246967,20.2146382 23.8476818,21.2341207 C24.2706668,22.2546033 23.784184,23.4260832 22.76522,23.847576 M29.8439701,23.8605758 L28.0525333,23.1185885 C28.1885285,22.3896009 28.1955283,21.6326139 28.0560332,20.8801268 L29.8439701,20.1396395 C29.9724655,20.0861404 30.0339634,19.9376429 29.9809652,19.8096451 L29.1919931,17.9051777 C29.139495,17.7776799 28.9910002,17.715681 28.8630047,17.7691801 L27.0735679,18.5101674 C26.6400832,17.8791782 26.0996023,17.3481873 25.4891238,16.9286945 L26.2310976,15.1377251 C26.2840957,15.0092273 26.2225979,14.8607299 26.0941025,14.8077308 L24.1906696,14.0192443 C24.0626742,13.9657452 23.9146794,14.0277441 23.8611813,14.1562419 L23.1192075,15.9472113 C22.3902332,15.8122136 21.6327599,15.8047137 20.8807865,15.9442113 L20.1393127,14.1562419 C20.0863145,14.0277441 19.9378198,13.9657452 19.8093243,14.0192443 L17.9058915,14.8077308 C17.777396,14.8617299 17.7153982,15.0102273 17.7693963,15.1377251 L18.5098702,16.9271945 C17.8798924,17.3596871 17.3489112,17.9001778 16.929926,18.5106674 L15.1384892,17.7686801 C15.0104937,17.715681 14.861499,17.7776799 14.8090008,17.9051777 L14.0200287,19.8096451 C13.9670305,19.9376429 14.0280284,20.0861404 14.1570238,20.1396395 L15.9479606,20.8816268 C15.8129654,21.6091143 15.8049657,22.3666013 15.9444607,23.1190885 L14.1560239,23.8605758 C14.0275284,23.9135748 13.9655306,24.0620723 14.0195287,24.1905701 L14.8090008,26.0945375 C14.8619989,26.2225353 15.0104937,26.2845342 15.1384892,26.2315352 L16.927426,25.4900479 C17.3609107,26.121037 17.9008917,26.651528 18.5113701,27.0700208 L17.7698963,28.8619901 C17.7163982,28.9899879 17.777896,29.1384854 17.9063915,29.1919845 L19.8103243,29.980471 C19.9388197,30.03447 20.0868145,29.9724711 20.1398126,29.8439733 L20.8817865,28.052504 C21.6102607,28.1875017 22.367234,28.1955015 23.1207074,28.0555039 L23.8616813,29.8439733 C23.9151794,29.9724711 24.0636741,30.03347 24.1916696,29.980471 L26.0951024,29.1914845 C26.2235979,29.1384854 26.2850957,28.9899879 26.2320976,28.8619901 L25.4901238,27.0730207 C26.1216015,26.6395282 26.6515828,26.0995374 27.071068,25.4890479 L28.8625047,26.2310352 C28.9900002,26.2845342 29.139495,26.2225353 29.1919931,26.0945375 L29.9809652,24.1905701 C30.0339634,24.0620723 29.9724655,23.9130749 29.8439701,23.8605758"});t.appendChild(i),e.buttonInner.appendChild(t)}(this),qr(this),window.addEventListener("resize",function(){Ur(t),t.showHideBumpButton()})}function Wr(e){e.player.dispatch({type:"addBumpPlaybackSettingsPanel"}),e.addedBumpPlaybackSettingsPanel=!0,window.addEventListener("resize",function(){e.ui.playbackSettingsButton.isOpen()&&e.repositionPanel()})}function Gr(e){this.ui=e,this.player=e.player,this.addedBumpPlaybackSettingsPanel=!1,this.ui.config.playbackSettingsPanel&&this.ui.config.playbackSettingsPanel.enabled&&Wr(this)}Rr.prototype={showPanel:function(){this.speedPanelShowing||(this.ui.addCloseSettingsPanelsListener&&this.ui.addCloseSettingsPanelsListener(),this.ui.closeSettingsPanels(),this.speedContainer.style.display="block",this.speedPanelShowing=!0,this.ui.player.Subtitles.updatePositions(),ue.className(document.body,"controlsPanelOpen",""),Dr(this.ui.speedButton,n.closeSpeedMenu))},closePanel:function(){this.speedPanelShowing&&(this.ui.removeCloseSettingsPanelsListener&&this.ui.removeCloseSettingsPanelsListener(),this.speedContainer.style.display="none",this.speedPanelShowing=!1,this.ui.player.Subtitles.updatePositions(),ue.className(document.body,"","controlsPanelOpen"),Dr(this.ui.speedButton,n.openSpeedMenu)),this.hasFocus=!1},updateRate:function(e){xr=Br.length-1;for(var t=0;t<Br.length;t++)this.speedButtons[t].setAttribute("aria-pressed","false"),e>=Br[t]&&(xr=t);e==Br[xr]?(this.speedIndicator.style.display="block",this.speedButtons[xr].setAttribute("aria-pressed","true")):this.speedIndicator.style.display="none",this.speedIndicator.style.left=5+45*xr+"px"},getPanelTop:function(){return ue.getOffset(this.speedContainer,"top")},isPanelOpen:function(){return this.speedPanelShowing},updateLanguage:function(){this.speedTitleLabel.textContent=n.speedTitle;for(var e=0;e<this.speedButtons.length;e++)Dr(this.speedButtons[e],n["speedButton"+e])}},Hr.prototype=ue.object(er.prototype),Hr.prototype.getRight=function(){return this.button.getBoundingClientRect().right},Hr.prototype.getTop=function(){return this.button.getBoundingClientRect().top},Hr.prototype.getEventCallbacks=function(){var e=this;return{ratechange:function(){var t=e.ui.player.playbackRate;e.ui.speedPanel.updateRate(t);var i=(Math.floor(t)==t?t:t.toFixed(1))+"x";e.displayItem.textContent=i},closeSettingsPanels:function(){e.ui.speedPanel.closePanel()},uiConfigUpdated:function(){Mr(e)},languageUpdated:function(){e.isOpen()?e.button.setAttribute("aria-label",n.closeSpeedMenu):e.button.setAttribute("aria-label",n.openSpeedMenu)}}},Hr.prototype.open=function(){ue.className(this.button,"p_open",""),this.button.setAttribute("aria-label",n.closeSpeedMenu)},Hr.prototype.close=function(){ue.className(this.button,"","p_open"),this.button.setAttribute("aria-label",n.openSpeedMenu)},Hr.prototype.isOpen=function(){return ue.hasClass(this.button,"p_open")},Hr.prototype.focus=function(){this.button.focus()},Vr.prototype=ue.object(er.prototype),Vr.prototype.getRight=function(){return this.button.getBoundingClientRect().right},Vr.prototype.getTop=function(){return this.button.getBoundingClientRect().top},Vr.prototype.getEventCallbacks=function(){var e=this;return{uiConfigUpdated:function(){qr(e)},languageUpdated:function(){e.isOpen()?e.button.setAttribute("aria-label",n.closePlaybackSettingsMenu):e.button.setAttribute("aria-label",n.openPlaybackSettingsMenu)}}},Vr.prototype.open=function(){ue.className(this.button,"p_open",""),this.button.setAttribute("aria-label",n.closePlaybackSettingsMenu)},Vr.prototype.close=function(){ue.className(this.button,"","p_open"),this.button.setAttribute("aria-label",n.openPlaybackSettingsMenu)},Vr.prototype.isOpen=function(){return ue.hasClass(this.button,"p_open")},Vr.prototype.focus=function(){this.button.focus()},Vr.prototype.showHideBumpButton=function(){this.enabled&&window.innerWidth<600&&(!this.ui.config.threeRows||window.innerHeight>219)&&!this.ui.inPrePlayState?this.ui.player.dispatch({type:"showPlaybackSettingsButton"}):this.ui.player.dispatch({type:"hidePlaybackSettingsButton"})},Gr.prototype={repositionPanel:function(){this.player.dispatch({type:"repositionBumpPlaybackSettingsPanel",x:this.ui.playbackSettingsButton.getRight(),y:this.ui.playbackSettingsButton.getTop()})},getEventCallbacks:function(){var e=this;return{uiConfigUpdated:function(){e.ui.config.playbackSettingsPanel&&e.ui.config.playbackSettingsPanel.enabled&&!e.addedBumpPlaybackSettingsPanel&&Wr(e)}}}};function zr(e){var t=getComputedStyle(e.seekBar).getPropertyValue("left");return parseInt(t,10)}function jr(e,t,i){clearTimeout(e.seekTrackTimer),e.seekTrackTimer=setTimeout(function(){e.player.trackAction("seek_bar",t,{seek_time:i,before_seek_time:e.startingTime}),e.startingTime=-1},2e3)}function Qr(e,t){return n.audioToolTipSeekBarPrefix+" "+e+(t?" "+n.audioToolTipSeekBarSuffix+" "+t:"")}function Kr(e){ue.className(e.progressBar,"","p_progressBarAnimate"),ue.className(e.seekThumb,"","p_seekThumbAnimate"),Xr(e,null),ue.applyVendorStyles([e.progressBar,e.seekThumb],"transform",null),e.progressBar&&(e.progressBar.style.width=null,e.progressBar.animation.cssApplied=!1,e.progressBar.animation.paused=!1,e.progressBar.animation.animating=!1)}function Yr(e){var t=getComputedStyle(e.progressBar).getPropertyValue("transform")+"";return parseFloat(t.split(",")[0].split("(")[1])}function Xr(e,t){ue.applyVendorStyles([e.progressBar,e.seekThumb],"animationPlayState",t)}function $r(e,t){var i=e.seekBar.clientWidth,n=t-ue.getOffset(e.seekBar),a=Math.max(0,Math.min(n,i))/i,o=e.player.timeHelper.getLatestAllowableSeekPercent();return a>o&&(a=o),a}function Jr(e){ue.deleteCssRulesContaining(e.ui.stylesheet,["p_playerSeekBarHolder","p_timeTip"]),e.ui.stylesheet.insertRule(".p_playerSeekBarHolder .p_progressBar { background: "+(e.ui.config.controls.seekbarBackground?e.ui.config.controls.seekbarBackground:e.ui.config.colour)+"; }",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule(".audioUI .p_playerSeekBarHolder .p_seekThumb { background-color: "+e.ui.config.colour+"; }",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule(".storyKitUI .p_playerSeekBarHolder .p_seekThumb { background-color: "+e.ui.config.colour+"; }",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule(".audioUI .p_playerSeekBarHolder .p_seekThumbHalo { background-color: "+e.ui.config.colour+"; }",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule(".audioUI .p_playerSeekBarHolder .p_seekBar { background-color: "+ue.hextoRGBA(e.ui.config.baseColour,.45)+"; }",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule(".audioUI .p_playerSeekBarHolder .p_progressBar.p_progressBarAvailable { background-color: "+e.ui.config.baseColour+"; }",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule(".audioUI .p_playerSeekBarHolder .p_seekBarPositionLine { background-color: "+e.ui.config.baseColour+"; }",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule(".audioUI .p_timeTip { background-color: "+e.ui.config.baseColour+"; color: "+e.ui.config.colourOnBaseColour+"; }",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule(".audioUI .p_timeTip .p_timeTipTriangle { border-top-color: "+e.ui.config.baseColour+"; }",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule(".classicUI .focusEnabled .p_playerSeekBarHolder .p_seekThumb:focus { background-color: "+e.ui.config.colour+"; }",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule(".classicUI .focusEnabled .p_playerSeekBarHolder .p_seekThumb:focus > .p_seekThumbLine { background-color: "+e.ui.config.foreColour+"; }",e.ui.stylesheet.cssRules.length)}var Zr=function(e){this.player=e.player,this.ui=e,this.disabled=!0,this.seekThumbHasFocus=!1,this.seekTrackTimer=-1,this.usingAccessibleSlider=!1,Jr(this),this.drawDesktopUI()};function es(e){e.addEventListener("mouseover",function(){ue.className(e,"p_buttonHover")}),e.addEventListener("mouseout",function(){ue.className(e,"","p_buttonHover")}),e.addEventListener("touchstart",function(){ue.className(e,"p_buttonHover p_buttonTouch")},{passive:!0}),e.addEventListener("touchend",function(){ue.className(e,"","p_buttonHover p_buttonTouch")})}Zr.prototype={getSeekBarOffsetWidth:function(){return this.seekBar.offsetWidth},drawDesktopUI:function(){var e=this.seekBarHolder=I("div","p_playerSeekBarHolder"),t=this.seekBar=I("div","p_bar p_seekBar");e.appendChild(t);var i=this.seekBarPositionLine=I("div","p_seekBarPositionLine");t.appendChild(i);var a=this.progressBar=I("div","p_bar p_progressBar");a.animation={cssApplied:!1,paused:!1,animating:!1,supported:b.scrubAnimation&&ue.checkCssSupport(e,"transform"),supportsCompensation:b.animationCompensationSupported};var o=this.progressBarAvailable=I("div","p_bar p_progressBar p_progressBarAvailable");e.appendChild(o),e.appendChild(a);var r=this.seekThumb=I("button","p_button p_seekThumb");r.title=n.seekBarName,r.setAttribute("aria-label",n.seekBarName),r.style.display="none",r.setAttribute("role","slider"),r.setAttribute("aria-control","video"),r.setAttribute("aria-valuemin","0"),r.setAttribute("aria-valuemax","100"),r.setAttribute("aria-valuetext",Qr("00:00","00:00"));var s=I("div","p_seekThumbLine");r.appendChild(s);var l,u,c=this.seekThumbHalo=I("div","p_seekThumbHalo");if(r.appendChild(c),b.ios||b.android||this.ui.touchDetected){this.usingAccessibleSlider=!0;var d=this.accessibleSeekThumb=I("input","p_accessibleSeekThumb");d.setAttribute("aria-label",n.seekBarName),d.setAttribute("title",n.seekBarName),d.setAttribute("type","range"),d.setAttribute("aria-control","video"),d.setAttribute("aria-valuemin","0"),d.setAttribute("aria-valuemax","100"),d.setAttribute("aria-valuenow","0"),d.setAttribute("aria-valuetext",Qr("00:00","00:00")),d.setAttribute("step","1"),d.setAttribute("value","0"),d.setAttribute("min","0"),d.setAttribute("max","100"),d.setAttribute("aria-hidden","true"),d.setAttribute("aria-hidden","false"),r.setAttribute("aria-hidden","true"),e.appendChild(d),d.addEventListener("change",(l=this,function(){u=l.accessibleSeekThumb.value/(l.accessibleSeekThumb.max-l.accessibleSeekThumb.min),l.updateProgressBar(u);var e=l.player.timeHelper.percentToTime(u);l.player.time=e,jr(l,"fromAT",Math.floor(e))}))}e.appendChild(r);var p=this.tip=I("div","p_timeTip",'<span class="p_timeTipText"></span>');p.setAttribute("aria-hidden","true");var h=this.tipTriangle=I("div","p_timeTipTriangle");return p.appendChild(h),this.thumbnailDiv=I("div","p_thumbnail"),r.addEventListener("keydown",function(e){var t=function(t){e.player.isSeeking=!0,e.updateProgressBar(t,!0),e.ui.updateTimeDisplay(e.ui.player.timeHelper.percentToTime(t))};return function(i){if(e.seekDone||(e.seekDone=function(){e.player.isSeeking=!1}),e.player.isSeeking||(e.seekToPos=e.player.timeHelper.timeToPercent(e.player.time)),!e.disabled){var n=i.keyCode;40!=n&&37!=n||(e.seekToPos=Math.max(0,e.seekToPos-.01),t(e.seekToPos),E(i)),38!=n&&39!=n||(e.seekToPos=Math.min(e.seekToPos+.01,e.player.timeHelper.getLatestAllowableSeekPercent()),t(e.seekToPos),E(i)),36!=n&&35!=n||(e.seekToPos=36==n?e.player.timeHelper.earliestSeek:e.player.timeHelper.latestAllowableSeekTime,E(i)),n==k&&(e.ui.togglePlay("shortcut_key_press"),E(i))}}}(this)),r.addEventListener("keyup",function(e){return function(t){var i=NaN,n="",a=t.keyCode;if(40!=a&&37!=a&&38!=a&&39!=a&&36!=a&&35!=a||(i=e.player.timeHelper.percentToTime(e.seekToPos),E(t)),36!=a&&35!=a||(n="shortcut_"),!isNaN(i)){e.seekDone&&e.seekDone(),e.player.time=i;var o=e.player.timeHelper.timeToPercent(i);e.updateProgressBar(o,!0),jr(e,n+"key_press",i)}e.seekThumb.setAttribute("aria-valuetext",Qr(e.player.timeHelper.timeToString(e.player.time),e.player.timeHelper.getDurationOrEndString()))}}(this)),ue.multiAddEventListener(r,"keyup",function(e){return function(t){if(9==t.keyCode){var i=e.player.timeHelper.timeToPercent(e.player.time);e.drawTip(i),e.seekThumbHasFocus=!0}}}(this)),ue.multiAddEventListener(r,"blur focusout",function(e){return function(){e.hideTip(),e.seekDone&&e.seekDone(),e.seekThumbHasFocus=!1}}(this)),ue.downAction(this.seekBarHolder,function(e){var t,i=window.document,n=!1,a=0;function o(){r&&(i.removeEventListener("mousemove",r,!0),i.removeEventListener("touchmove",r,!0),i.removeEventListener("pointermove",r,!0)),s&&(i.removeEventListener("mouseup",s,!0),i.removeEventListener("touchend",s,!0),i.removeEventListener("pointerup",s,!0))}function r(i){var o="touch"==i.type.substr(0,5)?i.targetTouches[0].clientX:i.clientX,r=$r(e,o);a=e.player.timeHelper.percentToTime(r),Math.abs(t-o)>2&&(e.updateProgressBar(r,!0),e.ui.updateTimeDisplay(a),n=!0)}function s(t){var i="click",o=!0;if(n)i="drag";else{var r="touch"==t.type.substr(0,5)?t.changedTouches[0].clientX:t.clientX,s=$r(e,r);a=e.player.timeHelper.percentToTime(s)}a==e.player.timeHelper.time&&(o=!1),o&&(e.player.time=a,jr(e,i,Math.floor(a)));var l="touchend"==t.type||"pointerup"==t.type&&"mouse"!=t.pointerType||!e.seekBarHolder.contains(t.target)||b.ios,u=e.player.timeHelper.timeToPercent(a);e.updateProgressBar(u,!l),l&&e.hideTip(),e.seekDone(),e.player.paused&&e.player.mediaEnded&&(e.player.mediaEnded=!1,e.player.requestGuidanceAndPlay())}return e.seekDone=function(){o(),e.player.isSeeking=!1},function(a){e.disabled||(t="touch"==a.type.substr(0,5)?a.targetTouches[0].clientX:a.clientX,e.player.timeHelper.duration<1||"controlsFadedOut"==e.ui.container.className||(e.startingTime=e.player.time,e.player.isSeeking=!0,n=!1,o(),"mousedown"==a.type?(i.addEventListener("mousemove",r,!0),i.addEventListener("mouseup",s,!0)):"pointerdown"==a.type?(i.addEventListener("pointermove",r,!0),i.addEventListener("pointerup",s,!0)):(i.addEventListener("touchmove",r,!0),i.addEventListener("touchend",s,!0))))}}(this),!0),ue.hoverMoveAction(this.seekBarHolder,function(e){var t=!0,i=null;return function(n){if(!e.player.isSeeking&&!e.disabled)if(clearTimeout(i),i=setTimeout(function(){t=!0},500),t)t=!1;else{var a=e.player.timeHelper.duration;if(a<1||isNaN(a))e.hideTip();else{var o=$r(e,n.clientX);e.drawTip(o),e.seekOver=!0}}}}(this),!0),ue.hoverLeaveAction(this.seekBarHolder,function(e){return function(){e.player.isSeeking||e.hideTip(),e.seekOver=!1}}(this),!1),e},getDomNodes:function(){return[this.seekBarHolder,this.thumbnailDiv,this.tip]},updateProgressBar:function(e,t){var i=this;if(!(i.seekBar.clientWidth<50)){var n=i.player.timeHelper;n.duration&&!isNaN(e)?i.seekThumb.style.display="block":(e=0,i.seekThumb.style.display="none");var a=function(t){if(h)isNaN(t)&&1===(t=Yr(i))&&(t=e),ue.className(i.progressBar,"","p_progressBarAnimate"),ue.className(i.seekThumb,"","p_seekThumbAnimate"),Xr(i,null),ue.applyVendorStyles([i.progressBar,i.seekThumb],"transform",null),i.progressBar.style.right="",i.seekThumb.style.right=l+"px",i.progressBar.style.width=u+"px",ue.applyVendorStyles([i.progressBar],"transform","scale("+t+", 1)"),ue.applyVendorStyles([i.seekThumb],"transform","translate("+-Math.round(u*(1-t)-i.seekThumb.offsetWidth/2)+"px, 0px)"),i.progressBar.animation.cssApplied=!0;else{t=isNaN(t)?e:t;var n=Math.round(u*(1-t))+l;i.progressBar.style.right=n+"px",i.seekThumb.style.right=Math.round(n-i.seekThumb.offsetWidth/2)+"px"}},o=function(t){a(t);var o=1/c*n.duration*(1-e)+"s";ue.applyVendorStyles([i.progressBar,i.seekThumb],"animationDuration",o),ue.className(i.progressBar,"p_progressBarAnimate"),ue.className(i.seekThumb,"p_seekThumbAnimate"),i.progressBar.animation.animating=!0},r=function(e){a(e),Xr(i,"paused"),i.progressBar.animation.paused=!0},s=function(e){o(e),Xr(i,"running"),i.progressBar.animation.paused=!1},l=zr(i),u=i.seekBar.clientWidth,c=void 0===i.player.mediaPlayer.playbackRate?1:i.player.mediaPlayer.playbackRate,d=void 0===i.progressBar.animation.target||i.progressBar.animation.target!=l,p=void 0===i.progressBar.animation.width||i.progressBar.animation.animating&&i.progressBar.animation.width!=u,h=!i.player.Chromecast.isCasting&&!i.player.isLive&&!i.player.isSeeking&&i.progressBar.animation.supported&&!i.ui.UIinfoObject.markersBarVisible&&u/n.duration>1&&!i.player.isPlayingFake;if(h)if("playing"==i.player.playingState&&!i.player.waiting&&c>0&&e<1&&(void 0===i.player.mediaPlayer.readyState||i.player.mediaPlayer.readyState>2))if(d||p)a(e),i.progressBar.animation.target=l,i.progressBar.animation.width=u;else if(i.progressBar.animation.paused)s();else if(i.progressBar.animation.animating){var f=Yr(i)||0,m=Math.abs((e-f)*n.duration);m>.5&&!i.progressBar.animation.supportsCompensation?(i.progressBar.animation.supported=!1,h=!1,Kr(i),a(f)):m>.25&&i.progressBar.animation.supportsCompensation&&(r(),s())}else o(e);else i.progressBar.animation.animating&&!i.player.isSeeking&&e>0&&e<1?r():(Kr(i),a(e));else i.progressBar.animation.cssApplied&&Kr(i),a(e);var y=i.player.timeHelper.getLatestAllowableSeekPercent();if(y<1){if(ue.setOrUnsetClassOnlyAfterCheck(i.ui.container,"seekingBarNotFullyAvailable",!0,null),y>e){var g=Math.round(u*(1-y))+l;i.progressBarAvailable.style.right=g+"px"}}else ue.setOrUnsetClassOnlyAfterCheck(i.ui.container,"seekingBarNotFullyAvailable",null,!0);if(!i.seekThumbHasFocus){var v=n.percentToTimeString(e);i.seekThumb.setAttribute("aria-valuetext",Qr(v,i.player.timeHelper.getDurationOrEndString()))}i.usingAccessibleSlider&&(i.accessibleSeekThumb.setAttribute("aria-valuetext",Qr(v,i.player.timeHelper.getDurationOrEndString())),i.accessibleSeekThumb.setAttribute("aria-valuenow",Math.floor(100*e)),i.accessibleSeekThumb.value=100*e);var b=Math.floor(n.time);!t||h&&i.seekThumbHasFocus&&i.progressBar.animation.thumbnail==b||(i.drawTip(e),i.progressBar.animation.thumbnail=b)}},hideTip:function(){this.tip.style.opacity="0",this.seekBarPositionLine.style.display="none",ue.className(this.seekThumbHalo,"","p_showing"),this.hideThumbnail()},drawTip:function(e){var t=this,i=t.player.timeHelper.getLatestAllowableSeekPercent();e>i&&(e=i);var n=t.seekBarHolder.clientWidth,a=Math.floor(t.seekBar.clientWidth*e);t.tip.firstChild.textContent=t.player.timeHelper.percentToTimeString(e,!0),t.tip.style.opacity=1;var o=ue.getOffset(t.tip,"width"),r=a-Math.floor(o/2)+zr(t),s=Math.floor(o/2)-6;t.player.isFullScreen||(r<0?(s+=r,r=0):r+o>n&&(s+=r+o-n,r=n-o)),t.tip.style.left=r+"px",t.tipTriangle.style.left=s+"px",t.seekBarPositionLine.style.display="block",t.seekBarPositionLine.style.left=a+"px",ue.className(t.seekThumbHalo,"p_showing"),t.drawThumbnail(e)},drawThumbnail:function(e){var t,i,n=this,a=n.player;if(n.ui.config.thumbnail.enabled&&a.thumbScrub.loaded){var o=n.seekBarHolder.clientWidth,r=n.ui.container.clientWidth,s=Math.floor(n.seekBar.clientWidth*e);if(r<400)return void n.hideThumbnail();r<800?(t=128,i=72):r<1009?(t=192,i=108):(t=224,i=126);var l=t+2,u=r<o+l,c=s-Math.floor(l/2)+zr(n),d=n.player.timeHelper.percentToTime(e),p=n.player.thumbScrub.getThumbnailData(d,t,i);if(!p)return void n.hideThumbnail();n.player.isFullScreen&&!u||(c=ue.clamp(c,0,o-l));var h=n.thumbnailDiv.style,f=t+"x"+i+p.storyBoardUrl;f!=n.thumbnailData&&(n.thumbnailData=f,h.width=t+"px",h.height=i+"px",h.backgroundImage="url("+p.storyBoardUrl+")"),h.left=c+"px",h.backgroundPosition=p.x+"px "+p.y+"px",h.visibility="visible",h.opacity=1}},hideThumbnail:function(){this.thumbnailDiv.style.visibility="hidden",this.thumbnailDiv.style.opacity=0},hide:function(){ue.className(this.seekBarHolder,"hidden"),this.seekBarHolder.setAttribute("aria-hidden","true"),this.seekThumb.disabled=!0},show:function(){ue.className(this.seekBarHolder,"","hidden"),this.seekBarHolder.setAttribute("aria-hidden","false"),this.seekThumb.disabled=!1},isVisible:function(){return!ue.hasClass(this.seekBarHolder,"hidden")},getEventCallbacks:function(){var e=this;function t(){e.updateProgressBar(e.player.timeHelper.percent)}function i(){Kr(e),e.seekDone&&e.seekDone()}function n(t){e.disabled=t,ue.setOrUnsetClass(e.ui.container,"p_seekBarDisabled",t)}return{tryingToPlay:t,play:t,playing:function(){n(!e.player.timeHelper.canSeek()),t()},pause:t,waiting:t,error:t,playlistEnded:t,fixSize:t,playerDisconnected:i,playlistStopped:i,ended:i,mediaItemChanged:function(){i(),n(!e.player.timeHelper.canSeek()),e.hideThumbnail()},canPauseChange:function(){e.disabled=!e.player.timeHelper.canSeek()},seeked:function(){e.player.isSeeking||(Kr(e),e.updateProgressBar(e.player.timeHelper.percent,e.seekThumbHasFocus&&!e.seekOver))},seeking:function(){Xr(e,"paused")},showCta:function(){Kr(e)},playlistLoading:function(){e.updateProgressBar(0),e.seekDone&&e.seekDone()},timeupdate:function(){!e.player.isSeeking&&e.ui.areControlsVisible()&&e.updateProgressBar(e.player.timeHelper.percent,e.seekThumbHasFocus&&!e.seekOver)},uiConfigUpdated:function(){Jr(e)}}}};var ts=function(e){this.ui=e,this.player=e.player};ts.prototype={shouldShowSmallErrorVersion:function(){return!!("audio"==this.ui.config.skin||"classic"==this.ui.config.skin&&this.ui.miniModeEnabled)},hideErrorDialog:function(){var e=this;e.error&&(e.player.dispatch({type:"beforeErrorHide"}),e.error.className="p_none",e.error=null,e.errorWrapper&&e.errorWrapper.parentNode.removeChild(e.errorWrapper),ue.className(document.body,"","errorShowing"))},createErrorDialog:function(e){var t=this;if(!t.error){var i=t.shouldShowSmallErrorVersion();i?ue.className(document.body,"p_smallErrorVersion"):ue.className(document.body,"","p_smallErrorVersion"),e==v.FLASH_NO_LONGER_AVAILABLE?ue.className(document.body,"p_flashNotAvailable"):ue.className(document.body,"","p_flashNotAvailable");var a=I("div","p_errorDialog"),o=I("div","p_errorBackground");a.appendChild(o),t.alertImageContainer=ue.generateSVG(50.3,44,"alert","p_alertIcon"),ue.className(t.alertImageContainer,i?" alertIconHolder showSmallVersion":" alertIconHolder"),t.errorMessageContainer=I("div","","<span class='p_errorPrimary'></span>"),t.errorMessageContainer.setAttribute("role","alert"),i||(o.appendChild(t.alertImageContainer),o.appendChild(t.errorMessageContainer)),t.updateErrorDialog();var r=document.createElement("a"),s=document.createElement("a");e==v.FLASH_NO_LONGER_AVAILABLE?(r.textContent=n.deprecationMessageLongLink,r.href="https://www.bbc.co.uk/iplayer/help/questions/computer-issues/flash",r.target="new_page"):e==v.EMBED_NOT_ALLOWED?(r.textContent=n.viewThisContentOnTheBBC,r.href=t.ui.player.playlist.alternateHref,r.target="new_page"):r.textContent=n.tryAgain;var l=ue.generateSVG(34,34.5,"refresh","p_refreshIcon");s.appendChild(l),es(r),es(s);var u=function(e,t){return function(i){var n=!0,a="error";t==v.FLASH_NO_LONGER_AVAILABLE?(n=!1,a="flash_faq_link"):t==v.EMBED_NOT_ALLOWED&&(n=!1,a="embed_error_navigate");var o=ue.getActionType(i);if(n){var r={playlistObject:e.player.playlist,startTime:e.player.timeHelper.time,autoplay:!0};t==v.CANNOT_MAINTAIN_LOCK&&(r.maintainTheLock=!1);var s=e.markerData,l=e.player.webcastData;e.player.api.loadPlaylist2(r),e.player.api.setData({name:"SMP.markers",data:s}),e.player.api.setData({name:"SMP.webcastData",data:l})}e.player.trackAction(a,o)}}(t.ui,e);ue.multiAddEventListener(r,"touchend click mouseup",u),ue.multiAddEventListener(s,"touchend click mouseup",u),o.appendChild(r),t.errorLink=r,i&&(o.appendChild(s),o.appendChild(t.alertImageContainer),o.appendChild(t.errorMessageContainer)),t.errorRefreshLink=s,t.errorHelpText=I("span","p_errorSecondary p_none"),o.appendChild(t.errorHelpText),t.errorWrapper=I("div","p_errorWrapper"),t.errorWrapper.appendChild(a),t.ui.container.appendChild(t.errorWrapper),t.error=a}},drawErrorDialog:function(e){var t=this;if(t.player.dispatch({type:"notPlayingState"}),t.player.inErrorState=!0,t.ui.enabled&&t.ui.config.errorDialog.enabled){var i="";e.secondaryText&&""!==e.secondaryText&&!e.recoverable&&(i=e.secondaryText),t.drawError(e.description,e.secondaryText,e.recoverable,e.code);var n=e.description+" "+i;u.alert(n)}},drawError:function(e,t,i,n){var a=this;a.player.dispatch({type:"showError"}),a.player.dispatch({type:"beforeErrorDisplay"}),a.createErrorDialog(n);var o=a.errorMessageContainer.getElementsByClassName("p_fallbackText");o.length>0&&o[0].parentNode.removeChild(o[0]);var r=a.errorMessageContainer.getElementsByClassName("p_fallbackButton");r.length>0&&r[0].parentNode.removeChild(r[0]),a.errorMessageContainer.title=e,a.errorMessageContainer.firstChild.textContent=e,a.error.className="p_errorDialog",a.errorLink.className=i?"p_errorDialog_a":"p_none",a.errorRefreshLink.className=i?"p_errorRefreshDialog_a":"p_none",t?(a.errorHelpText.textContent=t,ue.className(a.errorHelpText,"","p_none")):ue.className(a.errorHelpText,""),ue.className(document.body,"errorShowing")},updateErrorDialog:function(){var e=this;!function(e,t,i,n){ue.deleteCssRulesContaining(e,t);for(var a=0;a<t.length;a++){var o=t[a];e.insertRule(".p_buttonHover."+o+", .focusEnabled ."+o+":focus { background-color: "+i+"; color: "+n+" }",e.cssRules.length)}}(e.ui.stylesheet,["p_fallbackButton","p_errorDialog_a","p_errorRefreshDialog_a"],e.ui.config.colour,e.ui.config.foreColour)},getEventCallbacks:function(){var e=this;return{playing:function(){e.hideErrorDialog()},playerDisconnected:function(){e.hideErrorDialog()},playlistLoading:function(){e.hideErrorDialog()},playlistLoaded:function(){e.hideErrorDialog()},error:function(t){t.nonPlayer||t.severity!=c||e.drawErrorDialog(t)}}}};var is=11,ns=6,as={includeVolume:!0};function os(e){return function(){e.closeVolumeControls()}}function rs(e,t){return function(i){e.openVolumeControls(i,t)}}function ss(e,t){var i=t.changedTouches?t.changedTouches[0].clientX:t.clientX,n=ue.getOffset(e.sliderContainer)+ns,a=Math.max(0,Math.min(i-n,99)/99);return a<.5/is?0:a}function ls(e,t){var i=e.muted?"mute":"volume_slider";e.trackAction(i,t,{volume:e.volume,includeVolume:!0})}function us(e,t){var i,n;return!!t&&("touchmove"==e.type?(i=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY):(i=e.pageX,n=e.pageY),!t.contains(document.elementFromPoint(i-window.pageXOffset,n-window.pageYOffset)))}function cs(e){e.volumeControls=I("div","p_closed p_volumeControls"),e.volumeControls.addEventListener("transitionend",function(e){return function(){e.controlsOpenComplete=e.volumeControlsOpen}}(e));var t=I("button","p_button p_controlBarButton p_volumeButton");t.addEventListener("mouseover",function(){ue.className(t,"p_buttonHover")}),t.addEventListener("mouseout",function(){ue.className(t,"","p_buttonHover")}),t.addEventListener("touchstart",function(e){ue.className(t,"p_buttonTouch"),t.focus(),e.preventDefault()}),t.addEventListener("touchend",function(){ue.className(t,"","p_buttonTouch")}),ue.downAction(t,function(){ue.className(t,"pressed")}),ue.upAction(document,function(){ue.className(t,"","pressed")},!0),t.addEventListener("keydown",function(e){e.keyCode!=w&&e.keyCode!=k||ue.className(t,"pressed")}),t.addEventListener("keyup",function(){ue.className(t,"","pressed")}),"audio"!=e.ui.type&&t.addEventListener("focusin",e.ui.showControlBar),e.volumeButton=t,e.closeFunction=os(e);var i=rs(e,!0);if(e.ui.config.controls.muteButtonOnly)ue.multiAddEventListener(t,"touchend click mouseup",function(e){return ue.getActionFn(function(t){e.muted=!e.muted;var i=e.mediaPlayer.muted?"mute":"unmute";e.trackAction(i,t,as)})}(e.player));else{ue.multiAddEventListener(e.volumeButton,"focus focusin",i),e.volumeButton.addEventListener("blur",function(t){e.volumeControls.contains?e.volumeControls.contains(t.relatedTarget)?(t.relatedTarget.removeEventListener("blur",e.closeFunction),t.relatedTarget.addEventListener("blur",e.closeFunction),t.relatedTarget.removeEventListener("focus",i),t.relatedTarget.addEventListener("focus",i)):e.closeVolumeControls():e.closeVolumeControls()}),e.volumeButton.addEventListener("keydown",function(e){return function(t){var i,n=t.keyCode,a=Math.round(e.player.mediaPlayer.volume*is);e.openVolumeControls(t,!0),40!=n&&37!=n||(a>1?e.player.mediaPlayer.muted?e.player.muted=!1:(a=Math.max(0,a-1),i=!0):e.player.muted=!0,E(t)),38!=n&&39!=n||(e.player.mediaPlayer.muted?e.player.muted=!1:(a=Math.min(is,a+1),i=!0),E(t)),n!=k&&n!=w||(e.player.muted=!e.player.muted,E(t)),i&&(e.player.volume=a/is)}}(e)),e.volumeButton.addEventListener("keyup",function(e){return function(t){var i=t.keyCode;40!=i&&37!=i&&38!=i&&39!=i&&i!=k&&i!=w||(clearTimeout(e.volumeTrackTimer),e.volumeTrackTimer=setTimeout(function(){ls(e.player,"key_press")},2e3))}}(e)),ue.multiAddEventListener(e.volumeButton,"click touchstart",function(t){ue.isKeyboardClick(t)||(clearTimeout(e.volumeControlsTimer),e.volumeControlsTimer=setTimeout(os(e),e.ui.config.controls.volumeDismissTime))}),window.PointerEvent?(e.volumeButton.addEventListener("pointerdown",function(e){return function(){var t=window.document,i=function(){t.removeEventListener("pointermove",n),t.removeEventListener("pointerup",a)},n=function(t){us(t,e.volumeButton)&&i()},a=function(t){i(),e.volumeButton.focus(),("mouse"==t.pointerType||e.controlsOpenComplete)&&(e.player.muted=!e.player.muted,e.player.trackAction(e.player.mediaPlayer.muted?"mute":"unmute","click",as))};e.openVolumeControls({},!0),t.addEventListener("pointermove",n),t.addEventListener("pointerup",a)}}(e)),e.volumeControls.addEventListener("pointerout",function(e){return function(t){if("mouse"==t.pointerType){var i=t.clientX,n=t.clientY;e.volumeControls.contains(document.elementFromPoint(i,n))?e.openVolumeControls(t):e.closeVolumeControls()}}}(e))):(e.volumeButton.addEventListener("click",function(e){return function(t){e.player.muted=!e.player.muted;var i=e.player.mediaPlayer.muted?"mute":"unmute";e.player.trackAction(i,ue.getActionType(t),as)}}(e)),e.volumeControls.addEventListener("mouseout",os(e)),e.volumeButton.addEventListener("touchstart",rs(e))),e.volumeControls.addEventListener("mousemove",rs(e,!0)),e.sliderContainer=I("div","p_sliderContainer"),e.sliderContainer.tabIndex="-1",e.volumeControls.appendChild(e.sliderContainer),ue.multiAddEventListener(e.sliderContainer,"focus focusin",function(){e.volumeButton.focus()}),e.sliderContainer.addEventListener("mouseover",function(e){return function(t){var i=ss(e,t);ds(e,i)}}(e));var n=function(e){return function(t){var i=window.document,n=!1;function a(){o&&(i.removeEventListener("mousemove",o),i.removeEventListener("touchmove",o),i.removeEventListener("pointermove",o)),r&&(i.removeEventListener("mouseup",r),i.removeEventListener("touchend",r),i.removeEventListener("pointerup",r))}function o(t){clearTimeout(e.volumeControlsTimer),n=!0,e.player.volume=ss(e,t),us(t,e.volumeControls)&&(a(),e.volumeControlsTimer=setTimeout(os(e),100))}function r(t){e.player.volume=ss(e,t),ls(e.player,n?"drag":"click"),a(),clearTimeout(e.volumeControlsTimer),e.volumeControlsTimer=setTimeout(os(e),e.ui.config.controls.volumeDismissTime)}"mousedown"==t.type?(i.addEventListener("mousemove",o),i.addEventListener("mouseup",r)):"pointerdown"==t.type?(i.addEventListener("pointermove",o),i.addEventListener("pointerup",r)):"touchstart"==t.type&&(i.addEventListener("touchmove",o),i.addEventListener("touchend",r)),e.player.volume=ss(e,t)}}(e);window.PointerEvent?e.sliderContainer.addEventListener("pointerdown",n):ue.multiAddEventListener(e.sliderContainer,"mousedown touchstart",n),e.sliderControls=I("div","p_sliderControls"),e.sliderContainer.appendChild(e.sliderControls);for(var a=0;a<is;a++){var o=I("div","p_volumeBarHolder"),r=I("div","p_volumeBar");o.style.left=ns+9*a+Math.ceil(4.5)+"px",o.appendChild(r),e.sliderControls.appendChild(o)}e.volumeLevelIndicator=I("div","p_volumeLevel"),e.volumeLevelIndicator.setAttribute("aria-hidden","true"),e.sliderControls.appendChild(e.volumeLevelIndicator),e.volumeButton.setAttribute("aria-valuemin","0"),e.volumeButton.setAttribute("aria-valuemax",is),e.volumeButton.setAttribute("role","slider"),ds(e)}hs(e),e.volumeControls.appendChild(e.volumeButton)}function ds(e,t){if(e.sliderContainer){t=void 0!==t?Math.min(is,Math.ceil(is*t)):e.player.muted?0:Math.ceil(e.player.volume*is);var i=e.sliderControls.childNodes;t>i.length-1&&(t=i.length-1);for(var a=i.length-2;a>=t;a--)i[a].childNodes[0].className="p_volumeBar p_afterVolume";for(a>=0&&(i[a].childNodes[0].className="p_volumeBar p_selectedVolume"),--a;a>=0;a--)i[a].childNodes[0].className="p_volumeBar p_beforeVolume";e.volumeLevelIndicator.textContent=t,t>0?e.volumeButton.setAttribute("aria-valuetext",n.get("audioToolTipVolume"+t)):e.volumeButton.setAttribute("aria-valuetext",n.get("audioToolTipVolumeMuted")),e.volumeButton.setAttribute("aria-valuenow",t)}}function ps(e){var t=e.ui.config.controls.extraVolumeWidth;e.extraVolumeControlsWidth=isNaN(t)?0:t,ue.deleteCssRulesContaining(e.ui.stylesheet,["p_volumeControls"]),e.ui.stylesheet.insertRule(".p_volumeControls .p_beforeVolume { background-color: "+e.ui.config.colour+" !important; }",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule(".p_volumeControls .p_sliderControls:hover .p_selectedVolume { background-color: "+e.ui.config.foreColour+"; }",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule(".p_volumeControls .p_sliderContainer { display: "+ue.noneOrBlock(!e.ui.config.controls.muteButtonOnly)+"; }",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule(".audioUI.svg .p_volumeControls .p_volumeButton .p_svg { fill: "+e.ui.config.baseColour+"}",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule(".audioUI .p_volumeControls .p_afterVolume { background-color: "+ue.hextoRGBA(e.ui.config.baseColour,.45)+"}",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule(".audioUI .p_volumeControls .p_selectedVolume, .audioUI .p_volumeControls .p_sliderControls:hover .p_selectedVolume { background-color: "+e.ui.config.baseColour+"}",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule(".audioUI .p_volumeControls .p_volumeLevel { color: "+e.ui.config.baseColour+"}",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule(".audioUI.nonPointerFocus.svg .p_volumeControls .p_volumeButton:focus .p_svg, .audioUI.svg .p_volumeControls .p_volumeButton.p_buttonHover .p_svg, .audioUI.svg .p_volumeControls .p_volumeButton.p_buttonTouch .p_svg, .audioUI.svg .p_volumeControls.p_open .p_svg { fill: "+e.ui.config.colour+";}",e.ui.stylesheet.cssRules.length),e.ui.config.controls.volumeSlider?e.restore():e.remove()}function hs(e){var t=e.player.muted?n.toolTipUnmute:n.toolTipMute,i=e.player.muted?"mute":"audio";e.volumeButton.setAttribute("aria-label",t),"audio"!=e.ui.type&&(e.volumeButton.title=t),ue.className(e.volumeButton,"","audio"),ue.className(e.volumeButton,"","mute"),ue.className(e.volumeButton,i),e.ui.config.useHighResIcons&&N(e.volumeButton,i)}var fs=function(e){this.ui=e,"audio"==e.type&&(ns=0),this.player=e.player,this.volumeControlsTimer=-1,this.volumeTrackTimer=-1,this.volumeControlsOpen=!1,cs(this),ps(this)};function ms(e){1!==e.style.opacity&&(e.style.opacity=1,e.setAttribute("aria-hidden","false"))}function ys(e){0!==e.style.opacity&&(e.style.opacity=0,e.setAttribute("aria-hidden","true"))}function gs(e){ue.deleteCssRulesContaining(e.ui.stylesheet,["#p_audioui_leftTimeDisplay, #p_audioui_rightTimeDisplay"]),e.ui.stylesheet.insertRule("#p_audioui_leftTimeDisplay, #p_audioui_rightTimeDisplay { color: "+e.ui.config.baseColour+"; }",e.ui.stylesheet.cssRules.length),e.ui.stylesheet.insertRule("#p_audioui_rightTimeDisplay svg { fill: "+e.ui.config.baseColour+"; }",e.ui.stylesheet.cssRules.length)}function vs(e){this.ui=e,this.player=e.player,function(e){var t=e.leftTimeDisplay=document.createElement("div");t.id="p_audioui_leftTimeDisplay",ys(t);var i=e.rightTimeDisplay=document.createElement("div");i.id="p_audioui_rightTimeDisplay",ys(i);var n=e.liveIcon=ue.createSVGElement("svg",{width:12,height:12}),a=ue.createSVGElement("path",{d:"M5.96681502,10.3410568 C8.38342771,10.3410568 10.3424794,8.38388329 10.3424794,5.96958745 C10.3424794,3.5552916 8.38342771,1.59811812 5.96681502,1.59811812 C3.55020233,1.59811812 1.59115067,3.5552916 1.59115067,5.96958745 C1.59115067,8.38388329 3.55020233,10.3410568 5.96681502,10.3410568 Z M5.96681502,11.930682 C2.67143408,11.930682 0,9.26180906 0,5.96958745 C0,2.67736584 2.67143408,0.00849290887 5.96681502,0.00849290887 C9.26219596,0.00849290887 11.93363,2.67736584 11.93363,5.96958745 C11.93363,9.26180906 9.26219596,11.930682 5.96681502,11.930682 Z"}),o=ue.createSVGElement("circle",{class:"p_audioui_liveIconCentre",cx:6,cy:6,r:3});n.appendChild(o),n.appendChild(a),n.style.display="none";var r=e.rightText=document.createElement("span");i.appendChild(n),i.appendChild(r)}(this),gs(this)}function bs(e){ue.deleteCssRulesContaining(e.ui.stylesheet,["p_audioui_ctaDuration"]),e.ui.stylesheet.insertRule("#p_audioui_ctaDuration { color: "+e.ui.config.baseColour+"; }",e.ui.stylesheet.cssRules.length)}function Cs(e){this.ui=e,(this.component=document.createElement("div")).id="p_audioui_ctaDuration",bs(this),e.player.pushMediaEventFunctions(this.getEventCallbacks())}function Ss(e,t,i){for(var n=0;n<e.changeListeners.length;n++)e.changeListeners[n](t,i)}fs.prototype={show:function(){ue.className(this.volumeControls,"","hidden"),ue.hasClass(this.volumeControls,"removed")||(this.volumeControls.setAttribute("aria-hidden","false"),this.volumeButton.disabled=!1)},hide:function(){ue.className(this.volumeControls,"hidden"),this.volumeControls.setAttribute("aria-hidden","true"),this.volumeButton.disabled=!0},remove:function(){ue.className(this.volumeControls,"removed"),this.volumeControls.setAttribute("aria-hidden","true"),this.volumeButton.disabled=!0},restore:function(){ue.className(this.volumeControls,"","removed"),ue.hasClass(this.volumeControls,"hidden")||(this.volumeControls.setAttribute("aria-hidden","false"),this.volumeButton.disabled=!1)},getDomNodes:function(){return[this.volumeControls]},openVolumeControls:function(e,t){clearTimeout(this.volumeControlsTimer),this.volumeControlsOpen?"touchstart"==e.type&&(this.player.muted=!this.player.muted):(this.player.dispatch({type:"volumeOpening"}),this.volumeControlsOpen=!0,ue.className(this.volumeControls,"p_open","p_closed")),t||(this.volumeControlsTimer=setTimeout(os(this),this.ui.config.controls.volumeDismissTime))},closeVolumeControls:function(){clearTimeout(this.volumeControlsTimer),this.volumeControlsOpen&&(this.volumeControlsOpen=!1,this.controlsOpenComplete=!1,ue.className(this.volumeControls,"p_closed","p_open"),ds(this),this.player.dispatch({type:"volumeClosed"}))},getRight:function(){return ue.getOffset(this.volumeControls)+220+this.extraVolumeControlsWidth},isOpen:function(){return this.volumeControlsOpen},getEventCallbacks:function(){var e=this;return{volumechange:function(){ds(e),hs(e)},languageUpdated:function(){hs(e)},uiConfigUpdated:function(){ps(e)}}}},vs.prototype={getDomNodes:function(){return[this.leftTimeDisplay,this.rightTimeDisplay]},getEventCallbacks:function(){var e=this;return{timeupdate:function(){!function(e){if(e.player.mediaItem&&e.player.mediaItem.live)e.player.timeHelper.latestSeek==e.player.timeHelper.time?(e.rightText.textContent="LIVE",e.liveIcon.style.display="inline",ms(e.rightTimeDisplay)):e.player.timeHelper.time&&e.player.timeHelper.latestSeek?(e.ui.config.timesRelativeToLive?e.rightText.textContent=e.player.timeHelper.secondsToHMS(e.player.timeHelper.time-e.player.timeHelper.latestSeek):e.rightText.textContent=e.player.timeHelper.getTimeString(),e.liveIcon.style.display="none",ms(e.rightTimeDisplay)):ys(e.rightTimeDisplay);else if(e.player.mediaItem){var t=e.player.timeHelper.getDurationOrEndString();t?(e.rightText.textContent=t,e.liveIcon.style.display="none",ms(e.rightTimeDisplay)):ys(e.rightTimeDisplay)}else ys(e.rightTimeDisplay);if(e.player.mediaItem&&!e.player.mediaItem.live){var i=e.player.timeHelper.getTimeString();i?(e.leftTimeDisplay.textContent=i,ms(e.leftTimeDisplay)):ys(e.leftTimeDisplay)}else ys(e.leftTimeDisplay)}(e)},showCta:function(){e.player.playlist&&e.player.playlist.hasLive?e.setLive():e.reset()},uiConfigUpdated:function(){gs(e)}}},setLive:function(){this.rightText.textContent="LIVE",this.liveIcon.style.display="inline",ms(this.rightTimeDisplay),ys(this.leftTimeDisplay)},reset:function(){ys(this.rightTimeDisplay),ys(this.leftTimeDisplay)}},Cs.prototype={show:function(){ue.className(this.component,"","hidden"),ue.hasClass(this.component,"removed")||this.component.setAttribute("aria-hidden","false")},hide:function(){ue.className(this.component,"hidden"),this.component.setAttribute("aria-hidden","true")},remove:function(){ue.className(this.component,"removed"),this.component.setAttribute("aria-hidden","true")},restore:function(){ue.className(this.component,"","removed"),ue.hasClass(this.component,"hidden")||this.component.setAttribute("aria-hidden","false")},getDomNodes:function(){return this.component},getEventCallbacks:function(){var e=this;return{playlistLoaded:function(t){t.playlist.hasLive||"duration"!=e.ui.config.cta.mode||""===t.playlist.programmeDuration?e.remove():(e.component.textContent=t.playlist.programmeDuration,e.restore())},uiConfigUpdated:function(){bs(e)}}}};var Ts=function(e,t,i){this.changeListeners=[],this.disabled=!1,this._on=!1,function(e,t,i,n){var a=e._toggleNode=document.createElement("div");i&&(a.id=i),a.className=n?"p_toggle "+n:"p_toggle",a.setAttribute("role","checkbox"),a.setAttribute("aria-checked","false"),a.setAttribute("aria-label",t),a.tabIndex=0;var o=e._toggleText=document.createElement("div");o.className="p_toggleText",o.textContent="OFF";var r=document.createElement("div");r.className="p_toggleSlot";var s=document.createElement("div");s.className="p_toggleSlider";var l=document.createElement("div");l.className="p_tick",s.appendChild(l),r.appendChild(s),a.appendChild(o),a.appendChild(r),function(e,t){t.addEventListener("click",function(){e.disabled||e.flip("click")}),t.addEventListener("keyup",function(t){if(!e.disabled){var i=t.keyCode;32!=i&&13!=i||e.flip("keyup")}})}(e,a)}(this,e,t,i)};Ts.prototype={getDomNodes:function(){return[this._toggleNode]},flip:function(e){"true"==this._toggleNode.getAttribute("aria-checked")?Ss(this,"turningOff",e):Ss(this,"turningOn",e)},setOn:function(){this._toggleNode.setAttribute("aria-checked","true"),ue.className(this._toggleNode,"p_toggleOn"),this._toggleText.textContent=n.on,this._on=!0},setOff:function(){this._toggleNode.setAttribute("aria-checked","false"),ue.className(this._toggleNode,"","p_toggleOn"),this._toggleText.textContent=n.off,this._on=!1},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},attachChangeListener:function(e){this.changeListeners.push(e)},updateLanguage:function(e){this._toggleNode.setAttribute("aria-label",e),this._on?this._toggleText.textContent=n.on:this._toggleText.textContent=n.off}};var Ps="M29.7,2.4H2.3c-1.2,0-2.3,1-2.3,2.3v17.1c0,1.2,1,2.3,2.3,2.3h11.6l0,8l8.4-8h7.4c1.2,0,2.3-1,2.3-2.3V4.6C32,3.4,30.9,2.4,29.7,2.4z M20.6,21.7l-4.4,4.7l0-4.7l-13.9,0l0-17.1h27.4l0,17.1H20.6z M22.8,13.8H9.2v-2.3h13.7V13.8z M4.6,16.1H16v2.3H4.6V16.1z M18.3,16.1h9.1v2.3h-9.1V16.1z",ks="M29.7,2.4H2.3c-1.2,0-2.3,1-2.3,2.3v17.1c0,1.3,1,2.3,2.3,2.3h11.6l0,8l8.4-8h7.4c1.2,0,2.3-1,2.3-2.3V4.6C32,3.4,30.9,2.4,29.7,2.4z M9.2,11.5h13.7v2.3H9.2V11.5z M16,18.4H4.6v-2.3H16V18.4z M27.4,18.4h-9.1v-2.3h9.1V18.4z";function ws(e){e.cssChanges("#p_audioui_subtitleButton");var t=e.ui;ue.deleteCssRules(t.stylesheet,[".p_toggleOn .p_toggleSlot",".p_toggleOn .p_toggleSlider ",".p_toggleSlider .p_tick",".nonPointerFocus #p_subtitleSettingsContainer .p_subtitleSizeButton:focus"]);t.stylesheet.insertRule(".p_toggleOn .p_toggleSlot { background-color: "+t.config.colour+"; border-color: "+t.config.colour+"; }",t.stylesheet.cssRules.length),t.stylesheet.insertRule(".p_toggleOn .p_toggleSlider { background-color: #FFF;}",t.stylesheet.cssRules.length),t.stylesheet.insertRule(".p_toggleSlider .p_tick { border-color: "+t.config.colour+"; }",t.stylesheet.cssRules.length),t.stylesheet.insertRule(".nonPointerFocus .p_toggle:focus { border: 2px solid "+t.config.colour+"; margin-top:2px;height:42px; }",t.stylesheet.cssRules.length),t.stylesheet.insertRule(".p_toggle { margin-top:2px;height:42px; border: 2px solid transparent; }",t.stylesheet.cssRules.length),t.stylesheet.insertRule(".nonPointerFocus #p_subtitleSettingsContainer .p_subtitleSizeButton.focused { border: 2px solid "+t.config.colour+";}",t.stylesheet.cssRules.length),t.stylesheet.insertRule("#p_subtitleSettingsContainer .p_subtitleSizeButton.hovering { color: "+t.config.colour+";}",t.stylesheet.cssRules.length),e.ui.player.Subtitles.resizeFixEnd();var i=e.ui.config;e.transcription=!1,i.subtitles&&i.subtitles.enabled&&e.ui.player.Subtitles.subsAvailable()?e.enabled=!0:!i.subtitles.enabled&&i.transcription&&i.transcription.enabled?(e.enabled=!0,e.transcription=!0):e.enabled=!1,e.transcription?i.transcription.on?e.buttonInner.firstChild.querySelector("path").setAttribute("d",ks):e.buttonInner.firstChild.querySelector("path").setAttribute("d",Ps):e.ui.UIinfoObject.subtitlesEnabled?e.buttonInner.firstChild.querySelector("path").setAttribute("d",ks):e.buttonInner.firstChild.querySelector("path").setAttribute("d",Ps),Es(e)}function Es(e){e.enabled&&(window.innerWidth>=540||e.ui.config.threeRows&&window.innerHeight>219)?e.restore():e.remove()}function _s(e){var t=this;this.ui=e,er.call(this),function(e){e.button.id="p_audioui_subtitleButton",ue.className(e.button,"p_dontCloseSettingsPanel"),e.button.setAttribute("aria-label",n.openSubtitlesMenuAndTurnOnSubs),e.button.title=n.openSubtitlesMenuAndTurnOnSubs;var t=ue.createSVGElement("svg",{width:48,height:48,viewBox:"0 0 32 32",style:"margin-left:12px;margin-right:-12px"}),i=ue.createSVGElement("path",{d:Ps,transform:"scale(0.5) translate(0 18)"});t.appendChild(i),e.buttonInner.appendChild(t)}(this),ws(this),this.getEventCallbacks().languageUpdated(),window.addEventListener("resize",function(){Es(t)})}_s.prototype=ue.object(er.prototype),_s.prototype.getRight=function(){return this.button.getBoundingClientRect().right},_s.prototype.getTop=function(){return this.button.getBoundingClientRect().top},_s.prototype.getEventCallbacks=function(){var e=this;return{uiConfigUpdated:function(){ws(e)},playing:function(){ws(e)},subtitles:function(t){e.ui.player.Subtitles.resizeFixEnd(),ws(e),t.active?e.ui.subtitleSettingsPanel.indicateSubsOn():e.ui.subtitleSettingsPanel.indicateSubsOff()},closeSettingsPanels:function(){e.ui.subtitleSettingsPanel.closePanel()},languageUpdated:function(){e.transcription?e.ui.config.transcription.on?(e.button.title=n.toolTipTranscriptionOff,e.button.setAttribute("aria-label",n.toolTipTranscriptionOff)):(e.button.title=n.toolTipTranscriptionOn,e.button.setAttribute("aria-label",n.toolTipTranscriptionOn)):e.isOpen()?(e.button.title=n.closeSubtitleMenu,e.button.setAttribute("aria-label",n.closeSubtitleMenu)):(e.button.title=n.openSubtitlesMenu,e.button.setAttribute("aria-label",n.openSubtitlesMenu))}}},_s.prototype.open=function(){ue.className(this.button,"p_open",""),this.button.setAttribute("aria-label",n.closeSubtitleMenu)},_s.prototype.close=function(){ue.className(this.button,"","p_open"),this.button.setAttribute("aria-label",n.openSubtitlesMenu)},_s.prototype.isOpen=function(){return ue.hasClass(this.button,"p_open")},_s.prototype.focus=function(){this.button.focus()};var Is=["useSmallestFontSize:0.5","useSmallFontSize:0.6","useMediumFontSize:0.67","useLargeFontSize:0.82","useLargestFontSize:1"];function As(){b.ios||ue.className(this,"hovering")}function Ns(){ue.className(this,"","hovering")}function Ls(e){"keydown"==e.type&&e.keyCode!=w&&e.keyCode!=k||ue.className(this,"pressed")}function Bs(){ue.className(this,"","pressed")}function xs(){ue.className(this,"focused")}function Os(){ue.className(this,"","focused")}function Rs(e){"touch"==e.pointerType&&ue.className(this,"touched","")}function Ds(){ue.className(this,"","touched")}function Ms(e,t,i){var n=document.createElement("button");n.id="p_subtitleSizeButton_"+t,n.className="p_subtitleSizeButton p_button font-family-sans",n.disabled=!0,n.setAttribute("aria-pressed","false"),n.setAttribute("data-sizeName",t),n.setAttribute("aria-label",e.strings[t]),n.setAttribute("data-size",i);var a=document.createElement("div");return a.textContent=e.strings.aa,n.appendChild(a),n.addEventListener("click",function(){e.setSize(i),clearTimeout(e.ui.idleTimeoutInterval);var t=ue.getOffset(e.ui.player.mediaContainer,"width"),n=ue.getOffset(e.ui.player.mediaContainer,"height");clearTimeout(e.recordSizeTimeout),e.recordSizeTimeout=setTimeout(function(){e.ui.player.trackAction("user_selected_sub_size",i,{player_width:t,player_height:n})},1e4)}),n}function Fs(e,t){e.openCloseButton.title=t,e.openCloseButton.setAttribute("aria-label",t);var i=e.openCloseButton.getElementsByClassName("p_hiddenElement")[0];i&&(i.textContent=t)}var Hs=function(e,t){this.ui=e,this.subtitlesConfig=e.config.subtitles,this.closedCaptions=this.subtitlesConfig.kind&&"closedCaptions"===this.subtitlesConfig.kind,this.setLanguageStrings(),t?this.openCloseButton=t("p_subtitleButton p_dontCloseSettingsPanel",function(e,t){return ue.getActionFn(function(i,n){if(e.subtitleSettingsPanelShowing)e.closePanel();else{e.showPanel();var a=500;t.player.Subtitles.showingSubs||(setTimeout(function(){e.indicateSubsOn()},100),setTimeout(function(){t.player.Subtitles.on(),t.player.trackAction("subtitles_on","control_bar_button")},300),a=1e3),setTimeout(function(){e.subtitleToggle.enable()},a),t.resetIdleTimeout(n)}})}(this,e),this.strings.openPanelAndOn,this.strings.openPanelAndOn,e,!0,"accessibility"):(this.openCloseButtonAudio=new _s(e),this.openCloseButton=this.openCloseButtonAudio.button,this.openCloseButtonAudio.setActionFunction(function(e,t){return function(){if(e.openCloseButtonAudio&&e.openCloseButtonAudio.transcription)return t.player.trackAction("transcription","control_bar_button"),void t.player.dispatch({type:"transcriptionPressed"});if(e.subtitleSettingsPanelShowing)e.closePanel();else{e.showPanel();var i=500;t.player.Subtitles.showingSubs||(setTimeout(function(){e.indicateSubsOn()},100),setTimeout(function(){t.player.Subtitles.on(),t.player.trackAction("subtitles_on","control_bar_button")},300),i=1e3),setTimeout(function(){e.subtitleToggle.enable()},i)}}}(this,e)),this.audioUI=!0),this.sizeButtons=[],this.subtitleSettingsContainer=function(e){var t=document.createElement("div");t.id="p_subtitleSettingsContainer",t.className="p_dontCloseSettingsPanel",ue.multiAddEventListener(t,"focusout blur",function(i){var n=i.relatedTarget;null!==n&&!t.contains(n)&&ue.hasClass(document.body,"nonPointerFocus")&&e.closePanel(),e.hasFocus=!1},!0),ue.multiAddEventListener(t,"focusin focus",function(){e.hasFocus=!0},!0);var i=document.createElement("div");i.className="p_subtitleSettingsMask",t.appendChild(i);var n=document.createElement("div");n.className="p_subtitleSettingsBox",t.appendChild(n);var a=e.subsToggleLabel=document.createElement("div");a.className="p_subsToggleLabel",a.textContent=e.strings.type,n.appendChild(a);var o=e.subtitleToggle=new Ts(e.strings.type,null,"p_subsToggle");o.disable(),o.attachChangeListener(function(t){"turningOff"==t?(e.ui.player.Subtitles.off(),e.ui.player.trackAction("subtitles_off","subtitles_toggle"),setTimeout(function(){e.ui.subtitlesButton.focus(),e.closePanel()},500)):(e.ui.player.Subtitles.on(),e.ui.player.trackAction("subtitles_on","subtitles_toggle"))}),_(n,o.getDomNodes());var r=document.createElement("div");r.className="p_downArrow",t.appendChild(r);var s=document.createElement("div");s.className="p_sizingButtonsContainer",n.appendChild(s);for(var l=0;l<Is.length;l++){var u=Is[l].split(":");u[1]=+u[1];var c=Ms(e,u[0],u[1]);if(e.sizeButtons.push(c),s.appendChild(c),e.audioUI)try{var d=Ls.bind(c),p=Bs.bind(c),h=xs.bind(c),f=Os.bind(c),m=Rs.bind(c),y=Ds.bind(c);ue.hoverMoveAction(c,As.bind(c)),ue.hoverLeaveAction(c,Ns.bind(c)),ue.downAction(c,d),ue.upAction(document,p,!0),ue.multiAddEventListener(c,"focus focusin",ue.getActionFn(h,!0)),ue.multiAddEventListener(c,"blur focusout",ue.getActionFn(f,!0)),c.addEventListener("keydown",d),c.addEventListener("keyup",p),window.PointerEvent?(c.addEventListener("pointerdown",m,!0),ue.multiAddEventListener(c,"pointerup pointercancel",y,!0)):(c.addEventListener("touchstart",m,!0),ue.multiAddEventListener(c,"touchend touchcancel",y,!0))}catch(Ou){}}var g=e.sizeIndicator=document.createElement("div");return g.id="p_subtitleSizeIndicator",n.appendChild(g),t}(this),this.subtitlesConfig.defaultOn&&(this.indicateSubsOn(),this.subtitleToggle.enable()),this.audioUI&&e.config.subtitles&&e.config.subtitles.sizeAdjustment&&this.indicateSize(e.config.subtitles.sizeAdjustment)};Hs.prototype={getOpenCloseButton:function(){return this.openCloseButton},getSubsSettingsContainer:function(){return this.subtitleSettingsContainer},showPanel:function(){this.subtitleSettingsPanelShowing||(this.ui.addCloseSettingsPanelsListener&&this.ui.addCloseSettingsPanelsListener(),this.ui.closeSettingsPanels(),this.subtitleSettingsContainer.style.display="block",this.subtitleSettingsPanelShowing=!0,ue.className(this.openCloseButton,"p_settingsPanelOpen"),Fs(this,this.strings.closePanel),this.ui.player.Subtitles.updatePositions(),ue.className(document.body,"controlsPanelOpen",""))},closePanel:function(){this.subtitleSettingsPanelShowing&&(this.subtitleSettingsContainer.style.display="none",this.subtitleSettingsPanelShowing=!1,ue.className(this.openCloseButton,"","p_settingsPanelOpen"),this.ui.player.Subtitles.showingSubs?Fs(this,this.strings.openPanel):Fs(this,this.strings.openPanelAndOn),this.ui.player.Subtitles.updatePositions(),ue.className(document.body,"","controlsPanelOpen")),this.hasFocus=!1},getPanelTop:function(){return ue.getOffset(this.subtitleSettingsContainer,"top")},isPanelOpen:function(){return this.subtitleSettingsPanelShowing},indicateSubsOn:function(){ue.className(this.openCloseButton,"p_controlBarButton_on"),this.subtitleSettingsPanelShowing||Fs(this,this.strings.openPanel),this.subtitleToggle.setOn();for(var e=0;e<this.sizeButtons.length;e++)this.sizeButtons[e].disabled=!1;ue.className(this.subtitleSettingsContainer,"p_subsOn")},indicateSubsOff:function(){ue.className(this.openCloseButton,"","p_controlBarButton_on"),this.subtitleSettingsPanelShowing||Fs(this,this.strings.openPanelAndOn),this.subtitleToggle.disable(),this.subtitleToggle.setOff();for(var e=0;e<this.sizeButtons.length;e++)this.sizeButtons[e].disabled=!0;ue.className(this.subtitleSettingsContainer,"","p_subsOn")},indicateSize:function(e){for(var t=t,i=0;i<this.sizeButtons.length;i++)if(this.sizeButtons[i].setAttribute("aria-pressed","false"),e==this.sizeButtons[i].getAttribute("data-size")){var n=5+45*i;this.sizeIndicator.style.left=n+"px",this.sizeButtons[i].setAttribute("aria-pressed","true"),t=!0}this.sizeIndicator.style.display=t?"block":"none"},setSize:function(e){this.ui.updateConfig({subtitles:{sizeAdjustment:e}}),this.indicateSize(e),this.ui.player.Subtitles.persistSizeAdjustment(e)},updateLanguage:function(){var e;this.setLanguageStrings(),(e=this).subtitleSettingsPanelShowing?Fs(e,e.strings.closePanel):e.ui.player.Subtitles.showingSubs?Fs(e,e.strings.openPanel):Fs(e,e.strings.openPanelAndOn),this.subsToggleLabel.textContent=this.strings.type,this.subtitleToggle.updateLanguage(this.strings.type);for(var t=0;t<this.sizeButtons.length;t++){var i=this.sizeButtons[t].getAttribute("data-sizeName");this.sizeButtons[t].setAttribute("aria-label",this.strings[i]),this.sizeButtons[t].setAttribute("title",this.strings[i])}},setLanguageStrings:function(){this.strings={openPanelAndOn:this.closedCaptions?n.openClosedCaptionsMenuAndTurnOnCC:n.openSubtitlesMenuAndTurnOnSubs,openPanel:this.closedCaptions?n.openClosedCaptionsMenu:n.openSubtitlesMenu,closePanel:this.closedCaptions?n.closeClosedCaptionsMenu:n.closeSubtitlesMenu,type:this.closedCaptions?n.closedCaptions:n.subtitles,off:n.off,on:n.on,useFontSize:n.useFontSize,useSmallestFontSize:n.useSmallestFontSize,useSmallFontSize:n.useSmallFontSize,useMediumFontSize:n.useMediumFontSize,useLargeFontSize:n.useLargeFontSize,useLargestFontSize:n.useLargestFontSize,aa:n.aa}}};var qs={buffer:{enabled:!0,colour:"",foreColour:"#ffffff",width:50,thickness:10,top:"50%",left:"50%",forceShow:!1},poster:{enabled:!0,effects:!1},cta:{enabled:!0,visiblyHidden:!1,ignoreAudio:!1,backgroundColour:"#808080"},errorDialog:{enabled:!0},controls:{speed:!1,enableLiveRewind:!0,spaceControlsPlayback:!1,experimentalShortcuts:!1,volumeSlider:!0,volumeDismissTime:2e3,includeNextButton:!1,includePreviousButton:!1,includeForwardIntervalButton:!0,includeBackIntervalButton:!0,alwaysEnablePreviousButton:!1,alwaysEnableNextButton:!1,previousNextJustEvents:!1,popout:!1,displayJumpButtonText:!0},playQueue:{on:!1,enabled:!1},video:{transform:null,transformTransition:null,displayOnEnded:!1},markers:{enabled:!0,suppressMarkerKinds:[],hideBelowWidth:600},subtitles:{enabled:!0,desnakeLiveSubtitles:!0,supportLiveSubtitles:!0,defaultOn:!1,yOffset:NaN,audioSkin:!1,contrast:100,kind:"subtitles",margins:[{from:"bottom",size:145}]},guidance:{enabled:!0,pinRequired:!1,displayContinuousGuidanceInQueuePlaylist:!0,displayGuidanceInAutoplay:!0},embedded:{enabled:!1},miniMode:{enabled:!1,backgroundColour:"#ffffff"},locale:{lang:"en",path:"/emp/translations/smp/{lang}.xml"},useInPlayerGuidance:!1,mediaSessionAPI:{enabled:!0},colour:"#f54997",colourOnHighlightColour:"#ffffff",fallbackBackgroundColour:"#000000",baseColour:"#ffffff",colourOnBaseColour:"#000000",foreColour:"#ffffff",timesRelativeToLive:!1,skipInterval:10};function Us(e){return{notPlayingState:function(){},playingState:function(){e.showControls()},losingControl:function(){e.hideControls()},tryingToPlay:function(){},play:function(){},playerDisconnected:function(){e.showCta()},playlistStopped:function(){e.showCta()},playlistEnded:function(t){t.willAutomaticPlayQueuedItem||e.config.controls.availableOnMediaEnded||e.showCta()},resetUiToPlaylistLoaded:function(){ue.asyncDelay(function(){e.player.tryingToPlay||(e.showCta(),e.playPauseButton.getEventCallbacks().notPlayingState())})},playlistLoaded:function(){ue.asyncDelay(function(){e.player.tryingToPlay||e.showCta()})},durationchange:function(){},beforeErrorDisplay:function(){e.hideControls()},languageUpdated:function(){e.subtitleSettingsPanel&&e.subtitleSettingsPanel.updateLanguage(),e.speedPanel.updateLanguage()}}}var Vs=function(e,t){uo.call(this,e,qs,t),this.inPrePlayState=!0,this.type="audio",this.container=e.mediaContainer,this.pGuidance=new Eo(this,e),this.closeSettingsPanelsListenerAdded=!1};(Vs.prototype=ue.object(uo.prototype)).initialise=function(){var e=this,t=e.player;uo.prototype.initialise.call(this),this.playPauseButton=new ir(this),this.playPauseButton.setActionFunction(e.togglePlay),this.backIntervalButton=new rr(this),this.backIntervalButton.setActionFunction(function(i){t.time=t.time-e.config.skipInterval,t.trackAction("back_interval_button",i)}),this.forwardIntervalButton=new cr(this),this.forwardIntervalButton.setActionFunction(function(i){t.time=t.time+e.config.skipInterval,t.trackAction("forward_interval_button",i)}),this.previousButton=new fr(this),this.previousButton.setActionFunction(function(i){var n=e.config.controls.alwaysEnablePreviousButton;e.config.controls.previousNextJustEvents?t.dispatch({type:"previousRequested"}):(t.hasPrevious||n)&&t.previous("playing"==t.playingState),t.trackAction("previous_button",i)}),this.nextButton=new vr(this),this.nextButton.setActionFunction(function(i){e.config.controls.previousNextJustEvents?t.dispatch({type:"nextRequested"}):t.next("playing"==t.playingState),t.trackAction("next_button",i)}),this.backToStartButton=new Tr(this),this.backToStartButton.setActionFunction(function(e){t.time=t.timeHelper.earliestSeek,"playing"!==t.playingState&&t.requestGuidanceAndPlay(),t.trackAction("back_to_start_button",e)}),this.toLiveButton=new Er(this),this.toLiveButton.setActionFunction(function(e){t.time=t.timeHelper.latestSeek,"playing"!==t.playingState&&t.requestGuidanceAndPlay(),t.trackAction("to_live_button",e)}),this.popOutPlayerButton=new Ir(this),this.popOutPlayerButton.setActionFunction(function(e){t.dispatch({type:"popoutrequest"}),t.trackAction("pop_out_player_button",e)}),this.playQueueButton=new Lr(this),this.playQueueButton.setActionFunction(function(i){e.player.trackAction("play_queue",i),t.dispatch({type:"playQueuePressed"})}),this.speedButton=new Hr(this),this.speedButton.setActionFunction(function(t){e.speedPanel.isPanelOpen()?(e.speedPanel.closePanel(),e.player.trackAction("speed_control_button_close",t)):(e.speedPanel.showPanel(),e.player.trackAction("speed_control_button_open",t))}),this.playbackSettingsButton=new Vr(this),this.playbackSettingsButton.setActionFunction(function(i){e.playbackSettingsButton.isOpen()?(e.closeSettingsPanels(),t.trackAction("playback_settings_closed",i)):(t.dispatch({type:"showBumpPlaybackSettingsPanel",x:e.playbackSettingsButton.getRight(),y:e.playbackSettingsButton.getTop(),nonPointerFocus:ue.hasClass(document.body,"nonPointerFocus")}),t.trackAction("playback_settings_show",i))}),this.speedPanel=new Rr(this),this.bumpPlaybackSettingsPanel=new Gr(this),this.progressBar=new Zr(this),this.errorDialog=new ts(this),this.volumeControl=new fs(this),this.audioTimeDisplays=new vs(this),this.audioCtaDuration=new Cs(this),this.playPauseButton.hide(),this.audioCtaDuration.hide(),this.audioCtaDuration.remove(),this.backIntervalButton.hide(),this.forwardIntervalButton.hide(),this.previousButton.remove(),this.nextButton.remove(),this.backToStartButton.remove(),this.toLiveButton.remove(),this.volumeControl.hide(),this.progressBar.hide(),this.speedButton.hide(),this.playQueueButton.hide(),this.progressBar.seekBarHolder.style.opacity=0,this.popOutPlayerButton.hide(),this.playbackSettingsButton.hide(),this.player.Subtitles.updateConfig(this.config),function(e){var t=e.audioUiContainer=document.createElement("div");t.id="p_audioui_container";var i=document.createElement("div");i.id="p_audioui_coreControls";var n=document.createElement("div");n.id="p_audioui_rightRegionControls",i.appendChild(e.playPauseButton.getDomNodes()),i.appendChild(e.backIntervalButton.getDomNodes()),i.appendChild(e.forwardIntervalButton.getDomNodes()),i.appendChild(e.previousButton.getDomNodes()),i.appendChild(e.backToStartButton.getDomNodes()),i.appendChild(e.nextButton.getDomNodes()),i.appendChild(e.toLiveButton.getDomNodes()),i.appendChild(e.audioCtaDuration.getDomNodes()),t.appendChild(i),t.appendChild(e.volumeControl.getDomNodes()[0]),n.appendChild(e.playbackSettingsButton.getDomNodes()),e.config.subtitles.audioSkin&&(e.subtitleSettingsPanel=new Hs(e),e.subtitlesButton=e.subtitleSettingsPanel.openCloseButtonAudio),n.appendChild(e.speedButton.getDomNodes()),e.config.subtitles.audioSkin&&(n.appendChild(e.subtitlesButton.getDomNodes()),e.subtitlesButton.hide()),n.appendChild(e.speedPanel.speedContainer),n.appendChild(e.playQueueButton.getDomNodes()),n.appendChild(e.popOutPlayerButton.getDomNodes()),e.config.subtitles.audioSkin&&n.appendChild(e.subtitleSettingsPanel.subtitleSettingsContainer),t.appendChild(n),_(t,e.progressBar.getDomNodes()),t.appendChild(e.audioTimeDisplays.getDomNodes()[0]),t.appendChild(e.audioTimeDisplays.getDomNodes()[1]),e.container.appendChild(t)}(this),this.eventArray=[Us(this),this.playPauseButton.getEventCallbacks(),this.backIntervalButton.getEventCallbacks(),this.forwardIntervalButton.getEventCallbacks(),this.previousButton.getEventCallbacks(),this.nextButton.getEventCallbacks(),this.backToStartButton.getEventCallbacks(),this.toLiveButton.getEventCallbacks(),this.progressBar.getEventCallbacks(),this.errorDialog.getEventCallbacks(),this.volumeControl.getEventCallbacks(),this.audioTimeDisplays.getEventCallbacks(),this.popOutPlayerButton.getEventCallbacks(),this.playbackSettingsButton.getEventCallbacks(),this.bumpPlaybackSettingsPanel.getEventCallbacks(),this.speedButton.getEventCallbacks(),this.playQueueButton.getEventCallbacks()],this.config.subtitles.audioSkin&&this.eventArray.push(this.subtitlesButton.getEventCallbacks())},Vs.prototype.resizeFixEnd=function(){this.player.Subtitles.resizeFixEnd(),ue.setOrUnsetClass(this.audioUiContainer,"p_threeRows",this.config.threeRows&&window.innerWidth<660&&window.innerHeight>219),window.innerWidth>770&&window.innerHeight>219?this.player.dispatch({type:"heightChangeRequested",height:165}):window.innerHeight<220&&window.innerWidth<660&&this.player.dispatch({type:"heightChangeRequested",height:220})},Vs.prototype.focusButton=function(e,t){for(var i,n=[{name:"play-pause",button:this.playPauseButton},{name:"back-interval",button:this.backIntervalButton},{name:"forward-interval",button:this.forwardIntervalButton},{name:"previous",button:this.previousButton},{name:"next",button:this.nextButton},{name:"live-restart",button:this.backToStartButton},{name:"jump-to-live",button:this.toLiveButton},{name:"settings-cog",button:this.playbackSettingsButton},{name:"speed",button:this.speedButton},{name:"play-queue",button:this.playQueueButton},{name:"transcript",button:this.subtitlesButton},{name:"subtitles",button:this.subtitlesButton},{name:"pop-out",button:this.popOutPlayerButton},{name:"volume",button:this.volumeControl},{name:"seekbar",button:this.progressBar}],a=0;a<n.length;a++)if(n[a].name==e){i=n[a].button;break}if(t){var o=!1;for(a+=1;a<n.length;a++)if((i=n[a].button)&&!(ue.hasClass(i,"removed")||ue.hasClass(i,"hidden")||ue.hasClass(i,"disabled"))){i.getDomNodes().focus(),o=!0;break}o||this.focusPlayPauseButton()}else ue.hasClass(i,"removed")||ue.hasClass(i,"hidden")||ue.hasClass(i,"disabled")?this.focusPlayPauseButton():i?i.getDomNodes().focus():this.focusPlayPauseButton()},Vs.prototype.showCta=function(){uo.prototype.showCta.call(this),this.audioUiContainer.style.display="block",this.playPauseButton.show(),this.audioCtaDuration.show(),this.backIntervalButton.hide(),this.forwardIntervalButton.hide(),this.nextButton.hide(),this.previousButton.hide(),this.backToStartButton.hide(),this.toLiveButton.hide(),this.volumeControl.hide(),this.progressBar.hide(),this.progressBar.seekBarHolder.style.opacity=1,this.popOutPlayerButton.hide(),this.playbackSettingsButton.hide(),this.playbackSettingsButton.showHideBumpButton(),this.closeSettingsPanels(),this.config.subtitles.audioSkin&&this.subtitlesButton.hide(),this.speedButton.hide(),this.playQueueButton.hide(),this.player.dispatch({type:"showCta"})},Vs.prototype.showControls=function(){uo.prototype.hideCta.call(this),this.audioUiContainer.style.display="block",this.playPauseButton.show(),this.audioCtaDuration.hide(),this.backIntervalButton.show(),this.forwardIntervalButton.show(),this.nextButton.show(),this.previousButton.show(),this.backToStartButton.show(),this.toLiveButton.show(),this.volumeControl.show(),this.progressBar.show(),this.speedButton.show(),this.playQueueButton.show(),this.progressBar.seekBarHolder.style.opacity=1,this.popOutPlayerButton.show(),this.playbackSettingsButton.show(),this.playbackSettingsButton.showHideBumpButton(),this.config.subtitles.audioSkin&&this.subtitlesButton.show()},Vs.prototype.hideControls=function(){this.audioUiContainer.style.display="none"},Vs.prototype.areControlsVisible=function(){return!0},Vs.prototype.addCloseSettingsPanelsListener=function(){var e=this;e.closeSettingsPanelsListenerAdded||(e.upActionCloseSettings=function(t){for(var i=document.querySelectorAll(".p_dontCloseSettingsPanel"),n=0;n<i.length;n++)if(i[n]==t.target||i[n].contains(t.target))return;e.closeSettingsPanels()},ue.upAction(document.body,e.upActionCloseSettings,!0),e.closeSettingsPanelsListenerAdded=!0)},Vs.prototype.removeCloseSettingsPanelsListener=function(){ue.removeUpAction(document,this.upActionCloseSettings,!0),this.closeSettingsPanelsListenerAdded=!1},Vs.prototype.closeSettingsPanels=function(){this.player.dispatch({type:"closeSettingsPanels"})},Vs.prototype.focusPlayPauseButton=function(){var e=this.playPauseButton.getDomNodes();e&&e.focus()};var Ws="rgb(25, 25, 25)",Gs="rgb(255, 255, 255)",zs="rgba(178,178,178,0.6)",js="rgba(255,255,255,0.6)";function Qs(e,t){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+(i?parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+",":"0,0,0,")+(t?"1":"0.33")+")"}function Ks(e,t,i,n){ue.multiAddEventListener(e,"click mouseup touchend keydown",t),n&&ue.multiAddEventListener(e,"focus blur",n),i&&ue.multiAddEventListener(e,"mouseover mouseout",i)}var Ys=function(e){var t=this;return t.chapterLastDrawTime=0,t.ui=e,t.keyTipBottom=73,t.markerDisplayHeight=0,t.storedChapterMarkers=[],t.storedKeyMoments=[],t};function Xs(){return Math.random().toString(36).substr(2,10)}function $s(e,t,i){e.trackAction("marker~"+i.identifier,t,{start:Math.floor(i.start),marker_type:i.type,id:i.identifier})}function Js(e,t){return ue.getActionFn(function(i,n){"keydown"==n.type&&n.keyCode!=k&&n.keyCode!=w||($s(e.ui.player,i,t),"touchend"!=n.type||e.currentlyOver&&e.currentlyOver._id==t._id?e.seekToChapterMarker(t):(e.markerMouseOut(e.currentlyOver,!0),e.drawMarkerTip(t),e.markerMouseOver(t)),n.preventDefault&&n.preventDefault())})}function Zs(e,t){return function(i){"mouseover"==i.type?(e.drawMarkerTip(t),e.markerMouseOver(t)):e.markerMouseOut(t)}}function el(e,t){return function(i){var n="focus"==i.type;n?(e.currentlyOver=t,e.drawMarkerTip(t)):(e.currentlyOver=null,e.markerTip.style.display="none"),ue.setOrUnsetClass(t,"p_highlighted",n),tl(t.type)&&e.fillChapters()}}function tl(e){return"chapter"===e||"programme"===e}function il(e){return"key"===e||"highlight"===e}function nl(e,t){tl(t.type)&&(e.firstChild.textContent=t.text?t.text:t.type,e.available=!1!==t.available,e.end=t.end),t.ariaLabel&&e.setAttribute("aria-label",t.ariaLabel),e.text=t.text,e.description=t.description,e.richDescription=t.richDescription,e.start=t.start,e.type=t.type,e.identifier=t.id}Ys.prototype={getDefaultLeftMargin:function(){return this.ui.player.isFullScreen?0:16},testDrawMarkers:function(e){var t=this;if(t._markerData&&0!==t._markerData.length){if(t.ui.player.isLive){var i=ue.now();(e||i-t.chapterLastDrawTime>5e3)&&(t.chapterLastDrawTime=i,t.updateMarkers())}t.fillChapters()}},getCurrentChapter:function(){var e=this,t=e.ui.player.timeHelper.time;if(e._markerData){for(var i=e._markerData.length-1;i>=0;i--){var n=e._markerData[i]||{},a=n.start,o=n.end;if(tl(n.type)&&t>=a&&(isNaN(o)||t<=o))return n}return null}},reportProgress:function(){for(var e,t,i=this,n=Math.round(2*i.ui.player.time),a=0;a<i._markerData.length;a++){var o=i._markerData[a];e=o.start,n!=Math.round(2*e)||o.startFired||(o.startFired=!0,i.ui.player.delayedDispatch({type:"markerStart",id:o.id},!1)),i._markerData.length>0&&!isNaN(o.end)&&(t=o.end,n!=Math.round(2*t)||o.endFired||(o.endFired=!0,i.ui.player.delayedDispatch({type:"markerEnd",id:o.id},!1)))}},resetProgress:function(){var e;(e=this._markerData)&&e.length>0&&e.forEach(function(e){e.startFired=!1,e.endFired=!1})},setMarkers:function(e){var t=this;if(t.resetStoredMarkers(),e&&e.length){e.sort(ue.sortByStart);for(var i=0;i<e.length;i++){var n=e[i];n.startFired=n.endFired=!1,n._id||(n._id=n.id||Xs())}}t._markerData=e,ue.className(t.ui.container,"","p_hasMarkers p_chapterOnly p_keyMomentOnly"),t.updateMarkers()},updateMarkers:function(){var e=this;if(e.markersHolder){if(e.ui.container.offsetWidth<e.ui.config.markers.hideBelowWidth||!e._markerData||0===e._markerData.length||e.ui.progressBar.getSeekBarOffsetWidth()<10||!e.ui.config.markers.enabled)return ue.className(e.ui.container,"","p_hasMarkers p_chapterOnly p_keyMomentOnly"),e.ui.UIinfoObject.markersBarVisible=!1,e.ui.player.Subtitles.updatePositions(),void e.ui.dispatchUIInfo();for(var t=ue.getMarkerByType(e._markerData,e.ui.config.markers.suppressMarkerKinds,"chapter"),i=ue.getMarkerByType(e._markerData,e.ui.config.markers.suppressMarkerKinds,"key"),n=0;n<e.storedChapterMarkers.length;n++)if(e.storedChapterMarkers[n].end<=e.ui.player.timeHelper.earliestSeek){var a=e.storedChapterMarkers.splice(n,1);e.markersHolder.removeChild(a[0])}if(t.length>0){for(var o=0;o<t.length;o++)o<t.length-1?(!t[o].end||t[o].end>t[o+1].start)&&(t[o].end=t[o+1].start):t[o].end||(t[o].end=1/0),t[o].start<e.ui.player.timeHelper.streamEnd&&t[o].end>e.ui.player.timeHelper.earliestSeek&&e.checkChapterMarker(t[o]);e.storedChapterMarkers.length>0&&(e.fillChapters(),e.updateItemsDisplayed(e.storedChapterMarkers))}for(var r=0;r<e.storedKeyMoments.length;r++)e.storedKeyMoments[r].start<=e.ui.player.timeHelper.earliestSeek&&(a=e.storedKeyMoments.splice(r,1),e.markersHolder.removeChild(a[0]));if(i.length>0){for(var s=0;s<i.length;s++)i[s].start<e.ui.player.timeHelper.streamEnd&&i[s].start>e.ui.player.timeHelper.earliestSeek&&e.checkKeyMoment(i[s]);e.storedKeyMoments.length>0&&e.updateItemsDisplayed(e.storedKeyMoments)}e.markerDisplayHeight=0,0===e.storedChapterMarkers.length?0===e.storedKeyMoments.length?ue.className(e.ui.container,"","p_hasMarkers p_chapterOnly p_keyMomentOnly"):(e.markerDisplayHeight=26,ue.className(e.ui.container,"p_hasMarkers p_keyMomentOnly"),e.keyTipBottom=26):0===e.storedKeyMoments.length?(ue.className(e.ui.container,"p_hasMarkers p_chapterOnly"),e.markerDisplayHeight=44):(ue.className(e.ui.container,"p_hasMarkers"),e.keyTipBottom=73,e.markerDisplayHeight=73),e.markersHolder.style.height=e.markerDisplayHeight+"px",e.ui.player.Subtitles.updatePositions(),e.ui.dispatchUIInfo()}},checkChapterMarker:function(e){var t=this,i=ue.getItemById(t.storedChapterMarkers,e._id);i||(Ks(i=I("div","p_chapterMarker",'<span class="p_chapterMarkerText"></span>'),Js(t,i),Zs(t,i),el(t,i)),i._id=e._id,i.tabIndex="0",i.setAttribute("role","button"),nl(i,e),t.storedChapterMarkers.push(i));var n=i,a=t.ui.player.timeHelper.timeToPercent(n.start)*t.ui.progressBar.getSeekBarOffsetWidth()+t.getDefaultLeftMargin(),o=t.ui.player.timeHelper.timeToPercent(n.end)*t.ui.progressBar.getSeekBarOffsetWidth()+t.getDefaultLeftMargin(),r=Math.max(0,o-a-1);n.style.left=a+"px",n.style.width=r+"px"},checkKeyMoment:function(e){var t=this,i=ue.getItemById(t.storedKeyMoments,e._id);if(!i){i=I("div","p_keyMoment");var n="p_keyMomentSquare",a="default";e.className&&(n=null,a=e.className),ue.className(i,"j2 "+a),i.appendChild(I("span",n)),i.appendChild(I("div","p_timeTipTriangle p_keyMomentTipTriangle")),Ks(i,Js(t,i),Zs(t,i),el(t,i)),i._id=e._id,i.tabIndex="0",i.setAttribute("role","button"),nl(i,e),t.storedKeyMoments.push(i)}var o=t.ui.player.timeHelper.timeToPercent(i.start)*t.ui.progressBar.getSeekBarOffsetWidth()+t.getDefaultLeftMargin();i.style.left=o+"px"},updateItemsDisplayed:function(e){var t,i,n=this;if(e.length>0)for(var a=0;a<e.length;a++)n.markersHolder.contains(e[a])||((t=tl(e[a].type)?n.markersHolder.querySelectorAll(".p_chapterMarker"):n.markersHolder.querySelectorAll(".p_keyMoment")).length?(i=t[t.length-1]).parentNode.insertBefore(e[a],i.nextSibling):n.markersHolder.appendChild(e[a]))},fillChapters:function(e){var t,i,n=this,a=n.ui.player.timeHelper.latestAllowableSeekTime;null!=e&&0!==e||(e=n.ui.player.timeHelper.time);for(var o=0;o<n.storedChapterMarkers.length;o++){var r=n.storedChapterMarkers[o],s=r==n.currentlyOver;o==n.storedChapterMarkers.length-1?(t=e>=r.start&&e<=r.end,i=a>=r.start&&a<=r.end):(t=e>=r.start&&e<r.end,i=a>=r.start&&a<r.end),n.ui.player.isLive&&i?n.fillLiveChapter(r,s):t?n.fillCurrentChapter(r,s):n.fillWholeChapter(r,s)}},fillCurrentChapter:function(e,t){var i,n,a,o,r=this,s=(r.ui.player.timeHelper.time-(i=Math.max(e.start,r.ui.player.timeHelper.earliestSeek)))/(Math.min(e.end,r.ui.player.timeHelper.streamEnd)-i)*100;t?(n=Gs,a=js,o=Ws):(n=Qs(r.ui.config.colour,!0),a=Qs(r.ui.config.colour,!1),o=r.ui.config.foreColour),r.applyBackgroundColor(e,n,a,s,o)},fillWholeChapter:function(e,t){if(!e.available||e.start>this.ui.player.timeHelper.latestAllowableSeekTime)return e.style.background=zs,void(e.style.color=Gs);t?(e.style.background=Gs,e.style.color=Ws):(e.style.background=Ws,e.style.color=Gs)},fillLiveChapter:function(e,t){var i,n,a,o,r,s,l,u=this;a=u.ui.player.timeHelper.time;var c=(u.ui.player.timeHelper.latestAllowableSeekTime-(i=Math.max(e.start,u.ui.player.timeHelper.earliestSeek)))/((n=Math.min(e.end,u.ui.player.timeHelper.streamEnd))-i)*100;if(a>i&&a<=n){var d=(a-i)/(n-i)*100;t?(o=Gs,r=js,s=zs,l=Ws):(o=Qs(u.ui.config.colour,!0),r=Qs(u.ui.config.colour,!1),s=zs,l=u.ui.config.foreColour),u.applyBackgroundColorThree(e,o,r,s,d,c,l)}else{if(!e.available)return void u.fillWholeChapter(e,t);t?(o=Gs,s=zs,l=Ws):(o=Ws,s=zs,l=Gs),u.applyBackgroundColor(e,o,s,c,l)}},applyBackgroundColor:function(e,t,i,n,a){for(var o=["-webkit-linear-gradient(0deg, "+t+" "+n+"%, "+i+" "+n+"%)","-moz-linear-gradient(0deg, "+t+" "+n+"%, "+i+" "+n+"%)","-ms-linear-gradient(0deg, "+t+" "+n+"%, "+i+" "+n+"%)","-o-linear-gradient(0deg, "+t+" "+n+"%, "+i+" "+n+"%)"],r=0;r<o.length;r++){var s=o[r];e.style.background=s,e.style.color=a}},applyBackgroundColorThree:function(e,t,i,n,a,o,r){for(var s=["-webkit-linear-gradient(0deg, "+t+" "+a+"%, "+i+" "+a+"%, "+i+" "+o+"%, "+n+" "+o+"%)","-moz-linear-gradient(0deg, "+t+" "+a+"%, "+i+" "+a+"%, "+i+" "+o+"%, "+n+" "+o+"%)","-ms-linear-gradient(0deg, "+t+" "+a+"%, "+i+" "+a+"%, "+i+" "+o+"%, "+n+" "+o+"%)","-o-linear-gradient(0deg, "+t+" "+a+"%, "+i+" "+a+"%, "+i+" "+o+"%, "+n+" "+o+"%)"],l=0;l<s.length;l++){var u=s[l];e.style.background=u,e.style.color=r}},markerMouseOver:function(e){this.currentlyOver=e,ue.className(e,"p_highlighted"),tl(e.type)&&this.fillChapters()},markerMouseOut:function(e,t){var i=this;i.currentlyOver=null,e&&(ue.className(e,"","p_highlighted"),tl(e.type)&&i.fillChapters(),t||(i.markerTip.style.display="none"))},seekToChapterMarker:function(e){var t=this;e.start>t.ui.player.timeHelper.latestAllowableSeekTime?(t.ui.player.time=t.ui.player.timeHelper.latestAllowableSeekTime,t.ui.updateDisplayedProgress(t.ui.player.timeHelper.latestAllowableSeekTime,!1)):(t.ui.player.time=e.start,t.ui.updateDisplayedProgress(e.start,!1)),t.markerTip.style.display="none",t.currentlyOver&&t.markerMouseOut(t.currentlyOver)},drawMarkerTip:function(e){var t,i=this;if(e.description)t=e.description;else{if(!(il(e.type)||e.offsetWidth<e.scrollWidth))return void(i.markerTip.style.display="none");t=e.text||e.type}var n=i.markerTip,a=n.firstChild.textContent;n.style.display="block",n.style.width="auto",e.richDescription?n.firstChild.innerHTML=e.richDescription:n.firstChild.textContent=t,n.start=e.start,n.type=e.type;var o=il(n.type);i.markerTip.style.bottom=(o?i.keyTipBottom+e.offsetHeight-16:44)+"px";var r=parseFloat(e.style.left),s=Math.floor(e.offsetWidth/2),l=s+Math.floor(r),u=Math.floor(n.offsetWidth/2),c=l-u;o&&(c-=e.offsetWidth/2);var d=!1;if(c<1&&(c=1,d=!0),!(a==t&&Math.abs(c-parseInt(i.markerTip.style.left,10))<10)){i.markerTip.style.left=c+"px";var p=u-s+s-Math.floor(i.chapterTipTriangle.offsetWidth/2);p<1?p=1:d&&(p=l<=n.offsetWidth?l-Math.floor(i.chapterTipTriangle.offsetWidth/2):n.offsetWidth-i.chapterTipTriangle.offsetWidth),i.chapterTipTriangle.style.left=p+"px"}},resetStoredMarkers:function(){var e=this;if(e._markerData=[],e.storedChapterMarkers=[],e.storedKeyMoments=[],e.markersHolder){for(;e.markersHolder.firstChild;)e.markersHolder.removeChild(e.markersHolder.firstChild);e.markerTip=I("div","p_chapterTip","<span></span>"),e.chapterTipTriangle=I("div","p_timeTipTriangle"),e.markerTip.appendChild(e.chapterTipTriangle),Ks(e.markerTip,function(e,t){return ue.getActionFn(function(i){$s(e.ui.player,i,t),e.seekToChapterMarker(e.currentlyOver)})}(e,e.markerTip)),e.markersHolder.appendChild(e.markerTip)}},resetMarkerTip:function(){this.markerTip&&(this.markerTip.style.display="none")}};var al=function(e){var t=this;return t.player=e,t.supported=!1,t.func=function(){e.dispatch({type:t.isPlayingInPicture()?"picInPicStarted":"picInPicStopped"})},t.addedListeners={},t};function ol(e){this.canvas=e}al.prototype={isSupported:function(){var e=this,t=e.player.els.video;if(!e.player.ui.config.pictureInPicture.enabled)return e.supported=!1,!1;if("audio"==e.player.elType||"unknown"==e.player.elType)return ue.className(document.body,"","picInPic"),e.supported=!1,!1;var i=document.pictureInPictureEnabled&&"function"==typeof t.requestPictureInPicture,n="function"==typeof t.operaRequestDetachedView,a="function"==typeof t.webkitSupportsPresentationMode&&t.webkitSupportsPresentationMode("picture-in-picture"),o="video"==e.player.elType&&(i||a||n);return o?(ue.className(document.body,"picInPic",""),e.addedListeners[t.id]||(e.addedListeners[t.id]=!0,ue.multiAddEventListener(t,"enterpictureinpicture leavepictureinpicture webkitpresentationmodechanged operadetachedviewchange",e.func))):ue.className(document.body,"","picInPic"),e.supported=o,o},toggle:function(){var e=this,t=e.player.mediaPlayer;document.pictureInPictureEnabled&&document.exitPictureInPicture?document.pictureInPictureElement?document.exitPictureInPicture():"audio"!=e.player.elType&&t.requestPictureInPicture():t.webkitSetPresentationMode?t.webkitSetPresentationMode("picture-in-picture"===t.webkitPresentationMode?"inline":"picture-in-picture"):t.operaRequestDetachedView&&(t.operaDetachedView?t.operaReleaseDetachedView():e.player.isFullScreen?(e.player.minimise(),setTimeout(function(){t.operaRequestDetachedView()},1500)):t.operaRequestDetachedView())},isPlayingInPicture:function(){var e=this;if(document.pictureInPictureEnabled&&document.pictureInPictureElement)return!0;if("function"==typeof e.player.mediaPlayer.operaRequestDetachedView&&!0===e.player.mediaPlayer.operaDetachedView)return!0;var t=e.player.els.video;return!(!t.webkitPresentationMode||"picture-in-picture"!==t.webkitPresentationMode)},exitPicInPic:function(){if(this.isPlayingInPicture()){document.pictureInPictureElement&&document.exitPictureInPicture&&document.exitPictureInPicture();var t=this.player.els.video;e,t.webkitSetPresentationMode?t.webkitSetPresentationMode("inline"):t.operaReleaseDetachedView&&t.operaReleaseDetachedView()}}},ol.prototype={draw:function(){var e=this.canvas.getContext("2d");this.padding=2*(Math.ceil(this.thickness/2)+1);var t=this.canvas.width=this.canvas.height=this.width+this.padding;e.clearRect(0,0,t,t),e.lineWidth=this.thickness;var i=t/2,n=Math.floor((t-this.thickness)/2)-1,a=Math.PI/22.5,o=this.colourArray;if(o&&o.length>0)for(var r=0;r<40;r++)e.beginPath(),e.globalAlpha=r/40,e.arc(i,i,n,(r+1)*a,r*a,!0),e.strokeStyle=o[r%o.length],e.stroke();else for(e.strokeStyle=this.colour,r=0;r<25;r++)e.beginPath(),e.globalAlpha=r/250,e.arc(i,i,n,0,r*a,!0),e.stroke()}},window.Sonic=ol;var rl=function(e){var t,i;jo.call(this,e),t=this.buffer=I("div","p_spinner"),i=document.createElement("canvas"),t.spinner=new ol(i),t.appendChild(i),t.style.display="none",this.applyConfig()};(rl.prototype=ue.object(jo.prototype)).getDomNodes=function(){return[this.buffer]},rl.prototype.visiblyShowBuffer=function(){this.ui.enabled&&(this.buffer.style.display="block")},rl.prototype.visiblyHideBuffer=function(){this.buffer.style.display="none"},rl.prototype.applyConfig=function(){var e=this,t=e.buffer,i=t.spinner;i.width=e.config.buffer.width,i.colour=e.config.colour,i.thickness=e.config.buffer.thickness,i.colourArray=e.config.buffer.colours?(e.config.buffer.colours+"").split(","):null,i.draw();var n=t.style,a=t.spinner.padding,o=e.config.buffer.width+a;n.width=n.height=o+"px",n.marginTop=n.marginLeft=-o/2+"px",n.top=e.config.buffer.top,n.left=e.config.buffer.left};var sl=function(e){this.ui=e,this.holdingImageNode=document.createElement("img"),this.holdingImageNode.className="p_holding_image"};function ll(e,t,i,n,a){t.onkeydown=function(t){var o=t.keyCode||t.which;if(9==o||13==o){var r=9===o,s=!0!==t.shiftKey&&n,l=!0===t.shiftKey&&a;r&&(s||l)&&function(t){t.preventDefault(),e.resetMainPage(),e.showPanel(),i.focus()}(t)}}}function ul(e){return("keyup"===e.type||"keydown"===e.type)&&32!==e.keyCode&&13!==e.keyCode}function cl(e,t,i,a,o){var r;!function(e,t){"low"==e&&(ue.className(t.qualityPanelLowRow,"p_qualitySettingOn",""),ue.className(t.qualityPanelMediumRow,"","p_qualitySettingOn"),ue.className(t.qualityPanelHighRow,"","p_qualitySettingOn"),t.qualitySubtitle.textContent=n.qualityPanelLowRowHeading),"medium"==e&&(ue.className(t.qualityPanelMediumRow,"p_qualitySettingOn",""),ue.className(t.qualityPanelLowRow,"","p_qualitySettingOn"),ue.className(t.qualityPanelHighRow,"","p_qualitySettingOn"),t.qualitySubtitle.textContent=n.qualityPanelMediumRowHeading),"high"==e&&(ue.className(t.qualityPanelHighRow,"p_qualitySettingOn",""),ue.className(t.qualityPanelLowRow,"","p_qualitySettingOn"),ue.className(t.qualityPanelMediumRow,"","p_qualitySettingOn"),t.qualitySubtitle.textContent=n.qualityPanelHighRowHeading)}(t,a),function(e,t){"low"===e&&(t.qualityPanelLowRow.setAttribute("aria-label",n.qualitySettingLowSelected),t.qualityPanelMediumRow.setAttribute("aria-label",n.qualitySettingMediumSelect),t.qualityPanelHighRow.setAttribute("aria-label",n.qualitySettingHighSelect),t.qualityRow.setAttribute("aria-label",n.qualitySettingOpenLowSelected)),"medium"===e&&(t.qualityPanelMediumRow.setAttribute("aria-label",n.qualitySettingMediumSelected),t.qualityPanelLowRow.setAttribute("aria-label",n.qualitySettingLowSelect),t.qualityPanelHighRow.setAttribute("aria-label",n.qualitySettingHighSelect),t.qualityRow.setAttribute("aria-label",n.qualitySettingOpenMediumSelected)),"high"===e&&(t.qualityPanelHighRow.setAttribute("aria-label",n.qualitySettingHighSelected),t.qualityPanelLowRow.setAttribute("aria-label",n.qualitySettingLowSelect),t.qualityPanelMediumRow.setAttribute("aria-label",n.qualitySettingMediumSelect),t.qualityRow.setAttribute("aria-label",n.qualitySettingOpenHighSelected))}(t,a),o&&e&&(r=t,ue.persistSettings({quality:r}),i.quality=new oa(t),e.selectedQuality=t)}function dl(e){var t=e.player,i=e.settingsContainer=document.createElement("div");i.id="p_playbackSettingsContainer",i.className="p_dontCloseSettingsPanel",ue.multiAddEventListener(i,"focusout blur",function(t){var n=t.relatedTarget;null!==n&&!i.contains(n)&&ue.hasClass(document.body,"nonPointerFocus")&&e.closePanel(),e.hasFocus=!1},!0),ue.multiAddEventListener(i,"focusin focus",function(){e.hasFocus=!0},!0);var a=document.createElement("div");a.id="p_playbackSettingsMask",i.appendChild(a);var o=e.settingsBox=document.createElement("div");o.id="p_playbackSettingsBox",i.appendChild(o);var r=e.settingsHeading=document.createElement("div");r.id="p_playbackSettingsHeading",r.textContent=n.playbackSettingsHeading,o.appendChild(r);var s=document.createElement("div");s.id="p_panel1",o.appendChild(s);var l=e.autoplayRow=document.createElement("div");l.id="p_autoplayRow",l.className="p_settingsRow",s.appendChild(l),e.ui.config.playbackSettingsPanel.continuousPlaySetting&&(l.style.display="block");var u=document.createElement("div");u.id="p_autoplayText",u.className="p_settingsTextBox",l.appendChild(u);var c=e.autoplaySettingHeading=document.createElement("div");c.id="p_autoplayTitle",c.className="p_settingsTitle",c.textContent=n.autoplaySettingHeading,u.appendChild(c);var d=e.autoplaySettingSubheading=document.createElement("div");d.id="p_autoplaySubtitle",d.className="p_settingsSubtitle",d.textContent=n.autoplaySettingSubheading,u.appendChild(d);var p=e.autoplayToggle=new Ts(n.autoplaySettingGenericLabel,"p_autoplayToggle");e.ui.player.config.continuousPlay&&p.setOn(),p.attachChangeListener(function(t,i){"turningOff"==t?(e.previousContinuousPlayStatus=!0,e.newContinuousPlayStatus=!1,e.ui.player.dispatch({type:"continuousPlayToggleSwitched",status:!1}),e.ui.player.updateConfig({continuousPlay:!1}),e.ui.player.trackAction("playback_settings_continuous_play_toggle_off",i)):(e.previousContinuousPlayStatus=!1,e.newContinuousPlayStatus=!0,e.ui.player.dispatch({type:"continuousPlayToggleSwitched",status:!0}),e.ui.player.updateConfig({continuousPlay:!0}),e.ui.player.trackAction("playback_settings_continuous_play_toggle_on",i))}),_(l,p.getDomNodes()),e.panelElements={};var h=e.panelElements.qualityRow=e.qualityRow=document.createElement("div");h.id="p_qualityRow",h.className="p_settingsRow",s.appendChild(h),h.setAttribute("aria-label",n.qualitySettingOpenHighSelected),h.tabIndex="",e.ui.config.playbackSettingsPanel.qualitySetting&&(h.style.display="block");var f=document.createElement("div");f.id="p_qualityText",f.className="p_settingsTextBox",h.appendChild(f);var m=e.qualitySettingHeading=document.createElement("div"),y=e.qualitySettingHeadingText=document.createElement("span");m.id="p_qualityTitle",m.className="p_settingsTitle",y.textContent=n.qualitySettingHeading,m.appendChild(y),f.appendChild(m);var g=e.panelElements.qualitySubtitle=e.qualitySettingSubheading=document.createElement("div");g.id="p_qualitySubtitle",g.className="p_settingsSubtitle",g.textContent=n.qualityPanelHighRowHeading,f.appendChild(g);var v=e.qualitySettingUnavailableSubheading=document.createElement("div");v.id="p_qualitySubtitleUnavailable",v.className="p_settingsSubtitleUnavailable",v.textContent=n.qualitySettingOpenUnavailable,f.appendChild(v);var b=e.chevronPlaceholder=document.createElement("div");b.id="p_chevronPlaceholder",b.tabIndex="-1";var C=document.createElement("div");C.className="p_chevronBorder",b.appendChild(C);var S=document.createElement("div");S.className="p_chevronInside",C.appendChild(S),m.appendChild(b),ue.multiAddEventListener(h,"click keyup",function(t){var i="keyup"===t.type||0===t.screenX&&0===t.screenY;ul(t)||(e.showingQualityPage=!0,e.switchPageSetting(i),e.ui.player.trackAction("playback_settings_open_quality_option",t.type))},!0);var T=e.qualityListWrap=document.createElement("ul");T.id="p_qualityListWrap",T.setAttribute("aria-label",n.qualitySettingInfo),s.appendChild(T);var P=e.panelElements.qualityPanelLowRow=e.qualityPanelLowRow=document.createElement("li");P.id="p_qualityPanelFirstRow",P.className="p_qualityPanelRow",T.appendChild(P);var k=e.qualityPanelLowRowHeading=document.createElement("div"),w=e.qualityPanelLowRowHeadingText=document.createElement("span");k.id="p_qualityPanelLowRowHeading",k.className="p_qualityPanelRowHeading",w.textContent=n.qualityPanelLowRowHeading,P.setAttribute("aria-label",n.qualitySettingLowSelect),P.tabIndex="",k.appendChild(w),P.appendChild(k);var E=document.createElement("div");E.className="p_qualityTick",k.appendChild(E);var I=e.panelElements.qualityPanelMediumRow=e.qualityPanelMediumRow=document.createElement("li");I.id="p_qualityPanelMediumRow",I.className="p_qualityPanelRow",T.appendChild(I);var A=e.qualityPanelMediumRowHeading=document.createElement("div"),N=e.qualityPanelMediumRowHeadingText=document.createElement("span");A.id="p_qualityPanelMediumRowHeading",A.className="p_qualityPanelRowHeading",N.textContent=n.qualityPanelMediumRowHeading,I.setAttribute("aria-label",n.qualitySettingMediumSelect),I.tabIndex="",A.appendChild(N),I.appendChild(A);var L=document.createElement("div");L.className="p_qualityTick",A.appendChild(L);var B=e.panelElements.qualityPanelHighRow=e.qualityPanelHighRow=document.createElement("li");B.id="p_qualityPanelHighRow",B.className="p_qualityPanelRow p_qualitySettingOn",T.appendChild(B);var x=e.qualityPanelHighRowHeading=document.createElement("div"),O=e.qualityPanelHighRowHeadingText=document.createElement("span");x.id="p_qualityPanelHighRowHeading",x.className="p_qualityPanelRowHeading",O.textContent=n.qualityPanelHighRowHeading,x.appendChild(O),B.appendChild(x);var R=e.qualityPanelHighRowSettingSubheading=document.createElement("div"),D=e.qualityPanelHighRowSubtitleText=document.createElement("span");R.setAttribute("aria-hidden","true"),R.id="p_qualityPanelHighRowSubtitle",R.className="p_qualityPanelRowSubtitle",D.textContent=n.qualityPanelHighRowSubtitle,B.setAttribute("aria-label",n.qualitySettingOpenHighSelected),B.tabIndex="",R.appendChild(D),B.appendChild(R),e.panelElements.highlightMenuColour=e.ui.config.playbackSettingsPanel.highlightMenuColour;var M=document.createElement("div");M.className="p_qualityTick",x.appendChild(M);var F=document.createElement("div");return F.className="p_downArrow",i.appendChild(F),function(e,t,i){ue.multiAddEventListener(i.qualityPanelLowRow,"click keyup",function(n){ul(n)||(cl(e,"low",t,i,!0),e.ui.player.trackAction("playback_settings_low_option",n.type))},!0),ue.multiAddEventListener(i.qualityPanelMediumRow,"click keyup",function(n){ul(n)||(cl(e,"medium",t,i,!0),e.ui.player.trackAction("playback_settings_medium_option",n.type))},!0),ue.multiAddEventListener(i.qualityPanelHighRow,"click keyup",function(n){ul(n)||(cl(e,"high",t,i,!0),e.ui.player.trackAction("playback_settings_high_option",n.type))},!0),i.highlightMenuColour&&(ue.multiAddEventListener(i.qualityRow,"focusin mouseover keyup",function(){i.qualityRow.style.color=i.highlightMenuColour,i.qualityRow.getElementsByClassName("p_chevronBorder")[0].style.borderColor="transparent transparent transparent "+i.highlightMenuColour},!0),ue.multiAddEventListener(i.qualityRow,"focusout mouseout",function(){i.qualityRow.style.color="#FFF",i.qualityRow.getElementsByClassName("p_chevronBorder")[0].style.borderColor="transparent transparent transparent white"},!0),ue.multiAddEventListener(i.qualityPanelLowRow,"focusin mouseover",function(){i.qualityPanelLowRow.style.color=i.highlightMenuColour,i.qualityPanelLowRow.getElementsByClassName("p_qualityTick")[0].style.borderColor=i.highlightMenuColour},!0),ue.multiAddEventListener(i.qualityPanelLowRow,"focusout mouseout",function(){i.qualityPanelLowRow.style.color="#FFF",i.qualityPanelLowRow.getElementsByClassName("p_qualityTick")[0].style.borderColor="white"},!0),ue.multiAddEventListener(i.qualityPanelMediumRow,"focusin mouseover",function(){i.qualityPanelMediumRow.style.color=i.highlightMenuColour,i.qualityPanelMediumRow.getElementsByClassName("p_qualityTick")[0].style.borderColor=i.highlightMenuColour},!0),ue.multiAddEventListener(i.qualityPanelMediumRow,"focusout mouseout",function(){i.qualityPanelMediumRow.style.color="#FFF",i.qualityPanelMediumRow.getElementsByClassName("p_qualityTick")[0].style.borderColor="white"},!0),ue.multiAddEventListener(i.qualityPanelHighRow,"focusin mouseover",function(){i.qualityPanelHighRow.style.color=i.highlightMenuColour,i.qualityPanelHighRow.getElementsByClassName("p_qualityTick")[0].style.borderColor=i.highlightMenuColour},!0),ue.multiAddEventListener(i.qualityPanelHighRow,"focusout mouseout",function(){i.qualityPanelHighRow.style.color="#FFF",i.qualityPanelHighRow.getElementsByClassName("p_qualityTick")[0].style.borderColor="white"},!0))}(e,t,e.panelElements),function(e,t){e.config&&e.config.quality&&("low"===e.config.quality&&cl(null,"low",e,t),"medium"===e.config.quality&&cl(null,"medium",e,t),"high"!==e.config.quality&&"hd"!==e.config.quality||cl(null,"high",e,t))}(t,e.panelElements),ll(e,B,h,!0),ll(e,P,h,null,!0),i}function pl(e,t){e.openCloseButton.title=t,e.openCloseButton.setAttribute("aria-label",t),e.openCloseButton.getElementsByClassName("p_hiddenElement")[0].innerHTML=t}sl.prototype={getDomNodes:function(){return this.holdingImageNode},setSrcset:function(e,t){if(e){var i,n=!!(""!==this.ui.config.poster.availableWidths&&"string"==typeof this.ui.config.poster.availableWidths)&&this.ui.config.poster.availableWidths.split(",");if(!t)e.holdingImage?i=ue.getModernSources(e.holdingImage):e.posterImg&&(i=ue.getImgSources(e.posterImg,n)),i&&(this.holdingImageNode.srcset=i,this.holdingImageNode.sizes="100vW");var a=ue.holdingImage(e,this.ui.container,this.ui.config.poster,!0,n);this.holdingImageNode.src=a||"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",this.holdingImageNode.setAttribute("aria-hidden",!0),this.holdingImageNode.alt=""}},show:function(){this.holdingImageNode.style.display="block"},hide:function(){this.holdingImageNode.style.display="none"}};var hl=function(e,t){this.ui=e,this.playbackSettingsPanelShowing=!1,this.showingQualityPage=!1,this.player=e.player,this.selectedQuality="hd"===e.player.config.quality?"high":e.player.config.quality,this.previousQuality="hd"===e.player.config.quality?"high":e.player.config.quality,this.previousContinuousPlayStatus=e.player.config.continuousPlay,this.newContinuousPlayStatus=e.player.config.continuousPlay,this.openCloseButton=t("p_playbackSettingsButton p_dontCloseSettingsPanel",function(e,t){return ue.getActionFn(function(i,n){e.playbackSettingsPanelShowing?(e.closePanel(),e.ui.player.trackAction("playback_settings_closed",i)):(e.showPanel(),e.previousQuality=e.selectedQuality,e.ui.player.trackAction("playback_settings_show",i),t.resetIdleTimeout(n))})}(this,e),n.openPlaybackSettingsMenuNew,n.openPlaybackSettingsMenuNew,e,!1,"playback-settings"),this.playbackSettingsContainer=dl(this)};hl.prototype={getOpenCloseButton:function(){return this.openCloseButton},getPanel:function(){return this.playbackSettingsContainer},isPanelOpen:function(){return this.playbackSettingsPanelShowing},showPanel:function(){this.playbackSettingsPanelShowing||(this.ui.closeSettingsPanels(),this.settingsContainer.style.display="block",ue.className(this.openCloseButton,"p_settingsPanelOpen"),this.playbackSettingsPanelShowing=!0,pl(this,n.closePlaybackSettingsMenu),this.ui.player.Subtitles.updatePositions(),ue.className(document.body,"controlsPanelOpen",""),this.ui.player.dispatch({type:"controlsPanelOpened"}))},closePanel:function(){this.resetMainPage(),this.playbackSettingsPanelShowing&&(this.settingsContainer.style.display="none",ue.className(this.openCloseButton,"","p_settingsPanelOpen"),this.playbackSettingsPanelShowing=!1,pl(this,n.openPlaybackSettingsMenuNew),this.ui.player.Subtitles.updatePositions(),ue.className(document.body,"","controlsPanelOpen")),this.hasFocus=!1,ue.className(this.settingsContainer,"","p_qualityPageOpen")},getPanelTop:function(){return ue.getOffset(this.settingsBox,"top")},setAutoplay:function(e){e?this.autoplayToggle.setOn():this.autoplayToggle.setOff()},showOrHideContinuousPlaySetting:function(e){this.autoplayRow.style.display=e?"block":"none"},updateLanguage:function(){this.settingsHeading.textContent=n.playbackSettingsHeading,this.autoplaySettingHeading.textContent=n.autoplaySettingHeading,this.autoplaySettingSubheading.textContent=n.autoplaySettingSubheading,this.autoplayToggle.updateLanguage(n.autoplaySettingHeading),this.qualitySettingHeadingText.textContent=n.qualitySettingHeading,"high"===this.selectedQuality?(this.qualityRow.setAttribute("aria-label",n.qualitySettingOpenHighSelected),this.qualitySettingSubheading.textContent=n.qualityPanelHighRowHeading):"medium"===this.selectedQuality?(this.qualityRow.setAttribute("aria-label",n.qualitySettingOpenMediumSelected),this.qualitySettingSubheading.textContent=n.qualityPanelMediumRowHeading):"low"===this.selectedQuality&&(this.qualityRow.setAttribute("aria-label",n.qualitySettingOpenLowSelected),this.qualitySettingSubheading.textContent=n.qualityPanelLowRowHeading),this.qualityPanelLowRowHeadingText.textContent=n.qualityPanelLowRowHeading,this.qualityPanelMediumRowHeadingText.textContent=n.qualityPanelMediumRowHeading,this.qualityPanelHighRowHeadingText.textContent=n.qualityPanelHighRowHeading,this.qualityPanelHighRowSubtitleText.textContent=n.qualityPanelHighRowSubtitle,this.qualitySettingUnavailableSubheading.textContent=n.qualitySettingOpenUnavailable,this.isPanelOpen()?pl(this,n.closePlaybackSettingsMenu):pl(this,n.openPlaybackSettingsMenuNew)},resetMainPage:function(){this.showingQualityPage=!1,this.settingsHeading.textContent=n.playbackSettingsHeading,this.qualityListWrap.style.display="none",this.ui.config.playbackSettingsPanel.continuousPlaySetting&&(this.autoplayRow.style.display="block"),this.ui.config.playbackSettingsPanel.qualitySetting&&(this.qualityRow.style.display="block"),ue.className(this.settingsContainer,"","p_qualityPageOpen")},switchPageSetting:function(e){clearTimeout(this.ui.idleTimeoutInterval),this.showingQualityPage&&(this.autoplayRow.style.display="none",this.qualityRow.style.display="none"),this.settingsHeading.textContent=n.qualitySettingHeading,this.qualityListWrap.style.display="block",ue.className(this.settingsContainer,"p_qualityPageOpen",""),e&&this.qualityPanelLowRow.focus()},checkQualityAvailability:function(e,t){var i=this.ui.player,n=i.isAudio;!i.isPlayingDash||n||e&&!t?(ue.className(this.qualityRow,"p_qualitySettingUnavailable",""),this.qualityRow.setAttribute("aria-hidden","true"),this.qualityRow.tabIndex="-1"):(ue.className(this.qualityRow,"","p_qualitySettingUnavailable"),this.qualityRow.setAttribute("aria-hidden","false"),this.qualityRow.tabIndex="")},updateQualityPanel:function(e,t){cl(null,e,this.ui.player,this.panelElements,t)}};var fl=45;function ml(e){return(e+"").toLowerCase()}var yl,gl,vl=/[^\s\w\(\),\.\%\-]*/gi,bl=["-webkit-","-moz-","-o-","-ms-",""];function Cl(e){if(e.controls.parentElement){var t=e.controls.parentElement.querySelector(":hover");if(!t)return!1;if(t==e.controls)return!0;var i=e.pluginContainer;if(i==t){var n=i.querySelectorAll(":hover");if(n.length>0&&!ue.hasClass(n[n.length-1],"notInteractiveContent"))return!0}return!1}}function Sl(e,t,i){var n=t||ue.getOffset(e)-i<=0;return ue.setOrUnsetClass(e,"p_covered",n),n}function Tl(e){e.forcedInactive=!0,b.requiresFullscreenResizeDelay&&e.hideControlBar()}function Pl(e){return e.miniModeEnabled||!e.config.fullscreen.enabled||e.player.Chromecast.isConnected&&!e.player.isFullScreen}function kl(e,t){return e?(ue.className(document.body,t),1):(ue.className(document.body,"",t),0)}function wl(e,t,i){e.stylesheet.insertRule(".zoomEffectTransition {-webkit-transition-duration: "+t+"s; -moz-transition-duration: "+t+"s; transition-duration: "+t+"s;}",e.stylesheet.cssRules.length),e.stylesheet.insertRule(".zoomEffectScale {transform: scale("+i+"); -webkit-transform: scale("+i+"); -ms-transform: scale("+i+"); -moz-transform: scale("+i+");}",e.stylesheet.cssRules.length)}function El(e,t){clearTimeout(yl),yl=setTimeout(function(){e.stylesheet.insertRule(".fadeEffect {-webkit-transition: opacity "+t+"s ease-out; -moz-transition: opacity "+t+"s ease-out; transition: opacity "+t+"s ease-out; opacity: 0;}",e.stylesheet.cssRules.length)},5)}function _l(e,t){clearTimeout(gl),gl=setTimeout(function(){ue.className(t,"p_onScreen","p_offScreenLeft p_offScreenRight")},5)}function Il(e){if(e.config.video.transform){var t=(""+e.config.video.transform).replace(vl,"")+" !important",i="";e.config.video.transformTransition&&(i="transition: transform "+e.config.video.transformTransition.replace(vl,""));for(var n=[],a=0;a<bl.length;a++)n.push((" transform:"+t+";"+i).replace(/ transform/gi," "+bl[a]+"transform"));e.stylesheet.insertRule(".p_transform {"+n.join(";")+"}",e.stylesheet.cssRules.length)}}function Al(e){e.showControlBar(),e.disallowFade=!0,setTimeout(function(){e.disallowFade=!1,e.isControlsInteraction=!1,e.resetIdleTimeout({type:"mouse"})},250)}var Nl={buffer:{enabled:!0,colour:"",foreColour:"#ffffff",width:50,thickness:10,top:"50%",left:"50%",forceShow:!1},poster:{enabled:!0,effects:!1,availableWidths:""},cta:{enabled:!0,visiblyHidden:!1,ignoreAudio:!1,backgroundColour:"#808080"},errorDialog:{enabled:!0},controls:{enabled:!0,speed:!0,mode:"default",always:!1,availableOnMediaEnded:!1,enableLiveRewind:!0,spaceControlsPlayback:!1,experimentalShortcuts:!1,hideTimes:!1,muteButtonOnly:!1,volumeSlider:!0,volumeDismissTime:2e3,timeout:2e3,timeoutTouch:5e3},markers:{enabled:!0,suppressMarkerKinds:[],hideBelowWidth:600},subtitles:{enabled:!0,desnakeLiveSubtitles:!0,blockDesnake:!1,reformatLiveSubtitles:!0,supportLiveSubtitles:!0,defaultOn:!1,yOffset:NaN,kind:"subtitles",margins:[],useNarrative:!1},guidance:{enabled:!0,pinRequired:!1,displayContinuousGuidanceInQueuePlaylist:!0,displayGuidanceInAutoplay:!0},fullscreen:{enabled:!0,dblclick:!0},video:{transform:null,transformTransition:null,displayOnEnded:!1},embed:{enabled:!0},embedded:{enabled:!1},miniMode:{enabled:!1,backgroundColour:"#ffffff"},locale:{lang:"en",path:"https://emp.bbci.co.uk/emp/translations/1.2.0/{lang}.xml"},chromecast:{enabled:!0,shiftCentralControls:!1},thumbnail:{enabled:!0},pictureInPicture:{enabled:!0,audioEnabled:!1},useInPlayerGuidance:!0,mediaSessionAPI:{enabled:!0},colour:"#f54997",colourOnHighlightColour:"#ffffff",accessibility:{},baseColour:"#ffffff",colourOnBaseColour:"#000000",foreColour:"#ffffff",playbackSettingsPanel:{enabled:!1,continuousPlaySetting:!1,highlightMenuColour:"#ffffff"},skin:"classic",skipInterval:10};function Ll(e,t,i,n,a,o,r,s){o?Bl(e,t,n,n,r):Bl(e,i,a,a,s)}function Bl(e,t,i,n,a,o){if(e&&(ue.hasClass(e,"p_buttonHover")&&(t+=" p_buttonHover"),e.setAttribute("aria-label",n),e.className="p_button p_controlBarButton "+t,a?N(e,a):o&&A(e,o),e.title!=i)){e.title=i;var r=e.getElementsByClassName("p_hiddenElement")[0];r&&(r.innerHTML=i)}}function xl(e,t,i,n,a,o,r,s){var l=I("button","p_button",'<span class="p_hiddenElement" aria-hidden="true"></span>',i);if(o){var u=I("div","p_selected_background");u.appendChild(I("div","p_selected_indicator")),l.appendChild(u)}return function(e){e.addEventListener("mouseover",function(){ue.className(e,"p_buttonHover")}),e.addEventListener("mouseout",function(){ue.className(e,"","p_buttonHover")}),e.addEventListener("touchstart",function(){ue.className(e,"p_buttonHover p_buttonTouch")},{passive:!0}),e.addEventListener("touchend",function(){ue.className(e,"","p_buttonHover p_buttonTouch")})}(l),ue.multiAddEventListener(l,"touchend click mouseup",function(e){return function(t){return e&&e(t),E(t),!1}}(t)),l.setAttribute("role","button"),l.setAttribute("aria-live","polite"),l.addEventListener("focusin",a.focusInButton),l.addEventListener("keyup",a.keyUp),Bl(l,e,i,n,a.config.useHighResIcons&&r,s),l}var Ol={a:!0,button:!0};var Rl=function(e,t){var i=this;return uo.call(this,e,Nl,t),i.shiftCentralControls=i.config.chromecast&&i.config.chromecast.shiftCentralControls,ue.defineProperties(i,function(e){return{active:{get:function(){return!(e.inError||e.forcedInactive||e.player.destroying)&&e.readyToPlay}},inError:{get:function(){return!!(e.player.inErrorState||e.error&&e.error.className.indexOf("p_errorDialog")>=0)}},markerData:{get:function(){return e.markersUI._markerData},set:function(t){e.markersUI.setMarkers(t)}},miniModeEnabled:{get:function(){if(e.config.miniMode&&e.config.miniMode.enabled)return!0;var t=ue.getOffset(e.container,"width"),i=ue.getOffset(e.container,"height");return!!(e.player.isAudio&&i<200&&t/i>2.5)}}}}(i)),b.trident&&document.addEventListener("focusin",function(e){return function(){!e.player.isFullScreen||function(e){if(ue.hasClass(e,"p_chapterMarker")||ue.hasClass(e,"p_keyMoment"))return!0;if(e&&"checkbox"==e.getAttribute("role"))return!0;var t=e&&(e.tagName+"").toLowerCase();return Ol[t]}(document.activeElement)||e.pGuidance.nowShowing||(e.controls.visible||(e.forcedControlsInteraction=!0,setTimeout(function(){e.forcedControlsInteraction=!1},550)),ue.asyncDelay(e.focusPlayPauseButton))}}(i)),document.addEventListener("keyup",function(e){9==e.keyCode&&ue.className(document.body,"focusEnabled")}),window.addEventListener("blur",function(e){return function(t){e.player.isFullScreen&&b.canTabbing?document.body.contains(t.relatedTarget)&&t.relatedTarget!=document.body||e.focusPlayPauseButton():document.body.contains(t.relatedTarget)&&t.relatedTarget!=document.body||e.fadeControlBar(t)}}(i)),document.addEventListener("touchend",Dl),document.addEventListener("keydown",function(e){return function(t){t.metaKey||t.ctrlKey||70==t.keyCode&&(e.player.trackAction(e.player.isFullScreen?"exit_full_screen":"enter_full_screen","shortcut_key_press"),e.player.toggleFullscreen())}}(i)),i.UIinfoObject={subtitles:!1,controlBarVisible:!1,seekBarVisible:!1,controlsTop:0,controlsLeft:0,controlsHeight:0,controlsWidth:0,seekBarLeft:0,seekBarRight:0,markersBarVisible:!1,isFullscreen:!1,videoX:0,videoY:0,videoWidth:0,videoHeight:0},i.markersUI=new Ys(i),i.pGuidance=new Eo(i,i.player),i.pIp=new al(i.player),i.settingsPanels=[],i.controlbarTimer=-1,i.touchDetected=!1,i.focusPlayPauseButton=function(){i.inPrePlayState&&i.cta?i.cta.focus():i.playPauseButton&&i.playPauseButton.focus()},i.fadeControlBar=function(t){i.disallowFade||"pointerout"==t.type&&"mouse"!=t.pointerType||document.body.contains(t.relatedTarget)||e.mediaEnded||i.hideControlBar()},i.keyUp=function(e){32!=e.keyCode&&13!=e.keyCode||(ue.className(document.body,"focusEnabled"),ue.className(document.body,"nonPointerFocus"))},i.focusInButton=function(){i.controls&&!i.controls.visible&&i.showControlBar()},i};function Dl(){ue.className(document.body,"","focusEnabled"),ue.className(document.body,"","nonPointerFocus")}function Ml(e){var t,i,n,a=!1,o=function(){a=!1},r=!1,s=function(t){a||(e.showControlBar(),e.player.isPlaying360&&e.player.threeSixty.showCompass(),e.resetIdleTimeout(t),a=!0,setTimeout(o,P))};return function(l){if(e.isControlsInteraction=!(l.target==e.player.mediaPlayer||ue.hasClass(l.target,"notInteractiveContent")),"keyup"==l.type)return ue.className(document.body,"focusEnabled"),void(ue.hasClass(l.target,"p_noShowOnKey")||s(l));if(e.isControlsInteraction||e.inPrePlayState||e.miniModeEnabled||!e.config.fullscreen.dblclick||"dblclick"!=l.type){if(!e.inPrePlayState&&!e.player.outOfControl||e.inPrePlayState&&e.player.isFullScreen){if("pointerdown"==l.type||"mousedown"==l.type||"touchstart"==l.type)return void(e.player.isPlaying360&&(r=!0,t="touchstart"==l.type?l.changedTouches[0].clientX:l.clientX,i="touchstart"==l.type?l.changedTouches[0].clientY:l.clientY));if(!r&&("mousemove"==l.type||"pointermove"==l.type&&"mouse"==l.pointerType)){if(n&&n.clientX==l.clientX&&n.clientY==l.clientY)return void 0;if(n=l,e.config.controls.activeStartsAt||e.player.isPlaying360)if(l.clientY/e.container.clientHeight<(e.config.controls.activeStartsAt?e.config.controls.activeStartsAt:.8))return;return void s(l)}if("pointerup"==l.type||"mouseup"==l.type||"touchend"==l.type){if(r=!1,function(e,t){for(var i=document.querySelectorAll(".p_dontCloseSettingsPanel"),n=0;n<i.length;n++)if(i[n]==t.target||i[n].contains(t.target))return!1;return e.isSettingsPanelOpen()}(e,l))return void e.closeSettingsPanels();var u="touchend"==l.type?l.changedTouches[0].clientX:l.clientX,c="touchend"==l.type?l.changedTouches[0].clientY:l.clientY;(!e.player.isPlaying360||Math.abs(u-t)<10&&Math.abs(c-i)<10)&&(e.controls&&e.controls.visible&&!e.isControlsInteraction&&!e.forcedControlsInteraction?a||(e.hideControlBar(),a=!0,setTimeout(o,P)):e.isControlsInteraction||s(l))}}}else e.player.toggleFullscreen(l.type)}}function Fl(e){return ue.getActionFn(e.togglePlay)}function Hl(e){var t="";e.miniModeEnabled?t="minimode nofullscreen":Pl(e)&&(t="nofullscreen"),ue.className(document.body,t,"minimode nofullscreen")}function ql(e){e.cssChanges("#p_audioui_playpause")}function Ul(e){this.ui=e,this.state="play",er.call(this),function(e){e.button.id="p_audioui_playpause",e.button.setAttribute("aria-label",n.toolTipPlay);var t=ue.createSVGElement("svg",{width:44,height:44,viewBox:"0 0 44 44"}),i=e.pauseIcon=ue.createSVGElement("g",{id:"p_audioui_playpause_centralIcons"}),a=e.playIcon=ue.createSVGElement("polygon",{id:"p_audioui_playpause_playIcon",points:"14.4,33 32.3,22 14.4,11"}),o=e.pauseIcon=ue.createSVGElement("g",{id:"p_audioui_playpause_pauseIcon"}),r=ue.createSVGElement("rect",{x:13.1,y:11,width:6.2,height:22}),s=ue.createSVGElement("rect",{x:24.8,y:11,width:6.2,height:22});o.appendChild(r),o.appendChild(s),i.appendChild(a),i.appendChild(o),t.appendChild(i),e.buttonInner.appendChild(t)}(this),this.oldStyle=!0,ql(this)}function Vl(e,t){if(e&&e.button){var i=ue.getOffset(e.button)<t;ue.setOrUnsetClass(e.button,"p_covered",i)}}function Wl(e){e&&e.button&&ue.className(e.button,"","p_covered")}(Rl.prototype=ue.object(uo.prototype)).initialised=!1,Rl.prototype.showCastUI=function(){this.player.hidePlayer("video"),this.player.hidePlayer("audio"),this.playbackSettingsPanel.checkQualityAvailability(!0),this.pIp.exitPicInPic(),this.drawCastOverlay()},Rl.prototype.drawCastOverlay=function(){var e=this;e.removeCastOverlay();var t,i,a,o,r=this.player.Chromecast,s=I("div","p_castOverlay"),l=I("div","p_messageDiv"),u=e.castIcon=I("div","p_castIcon rippleEffect");e.showPoster(),r.state<=st.State.SELECT_DEVICE?(o=n.ccSelectDevice,t="",N(u,"catcast"!==e.config.controls.chromecastMode?"chromecast":"catcast"),ue.className(document.body,"CCisAttemptingToCast","CCisCasting CCisConnecting")):r.state<st.State.CONNECTED?(o=n.ccConnecting,t="",ue.className(document.body,"CCisConnecting","CCisCasting CCisAttemptingToCast")):(o=n.ccCastingTo,t=r.deviceName,u.onclick=Fl(e),this.player.paused?N(u,"play"):N(u,"pause"),ue.className(document.body,"CCisCasting","CCisAttemptingToCast CCisConnecting"),this.showControlBar()),i=I("p","p_castMessage",'<span class="p_text" aria-hidden="true"></span>',o),a=I("p","p_deviceMessage",'<span class="p_text" aria-hidden="true"></span>',t),l.appendChild(i),l.appendChild(a),s.appendChild(l),s.appendChild(u),e.container.appendChild(s),e.shiftCentralControls?ue.className(s,"shiftCentralControls",""):ue.className(s,"","shiftCentralControls")},Rl.prototype.removeCastOverlay=function(){for(var e=this.container.getElementsByClassName("p_castOverlay"),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t]);this.castIcon=void 0},Rl.prototype.focusButton=function(e,t){for(var i,n=[{name:"play-pause",button:this.playPauseButton},{name:"fullscreen",button:this.fullscreenButton},{name:"subtitles",button:this.subtitlesButton},{name:"settings-cog",button:this.playbackSettingsButton},{name:"speed",button:this.speedButton},{name:"chromecast",button:this.chromecastButton},{name:"picture-in-picture",button:this.pIpButton},{name:"embed",button:this.embedButton},{name:"volume",button:this.volumeControl.volumeButton},{name:"seekbar",button:this.progressBar.seekThumb}],a=0;a<n.length;a++)if(n[a].name==e){i=n[a].button;break}if(t){var o=!1;for(a+=1;a<n.length;a++)if("none"!=(i=n[a].button).style.display){i.focus(),o=!0;break}o||this.focusPlayPauseButton()}else i&&"none"==i.style.display?this.focusPlayPauseButton():i?i.focus():this.focusPlayPauseButton()},Rl.prototype.resetIdleTimeout=function(e){var t=this;clearTimeout(t.idleTimeoutInterval);var i=e&&e.type.substring(0,5),n=e&&("point"==i&&"mouse"!=e.pointerType||"touch"==i)?t.config.controls.timeoutTouch:t.config.controls.timeout;t.player.mediaEnded||(t.idleTimeoutInterval=setTimeout(function(){t.hideControlBar(!1,i,e)},n))},Rl.prototype.showPoster=function(){var e=this;if(e.enabled&&e.config.poster.enabled)if(e.config.poster.video&&e.player.playlist&&e.player.playlist.videoHoldingImage){e.container.style.backgroundImage="",e.videoHoldingImage||(e.videoHoldingImage=document.createElement("video"),e.videoHoldingImage.autoplay=!0,e.videoHoldingImage.muted=!0,e.videoHoldingImage.loop=!0,e.container.insertBefore(e.videoHoldingImage,e.container.firstChild));var t=ue.holdingImage(e.player.playlist,e.container,e.config.poster,!0);e.videoHoldingImage.poster=t||"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",e.videoHoldingImage.src=e.player.playlist.videoHoldingImage,e.videoHoldingImage.style.display="block",e.videoHoldingImage.play()}else e.videoHoldingImage&&(e.container.removeChild(e.videoHoldingImage),e.videoHoldingImage=null),e.holdingImage.show()},Rl.prototype.hidePoster=function(){var e=this;e.videoHoldingImage?(e.videoHoldingImage.pause(),e.videoHoldingImage.style.display="none"):e.holdingImage.hide()},Rl.prototype.isSettingsPanelOpen=function(){for(var e=0;e<this.settingsPanels.length;e++)if(this.settingsPanels[e].isPanelOpen())return!0;return!1},Rl.prototype.closeSettingsPanels=function(){for(var e=0;e<this.settingsPanels.length;e++)this.settingsPanels[e].isPanelOpen()&&this.settingsPanels[e].closePanel()},Rl.prototype.resizeFixEnd=function(e){var t=this;void 0===e||e===t.lastResizeWidth&&!b.android||t.updateLayout(e),t.lastResizeWidth=e,clearTimeout(t.posterResizeTimer),t.posterResizeTimer=setTimeout(function(){t.holdingImage.setSrcset(t.player.playlist,!0)},1e3),t.player.Subtitles.resizeFixEnd(),t.spinner.resizeFixEnd(),t.showControlBarRequired&&(t.showControlBarRequired=!1,Al(t)),Hl(t)},Rl.prototype.showCta=function(){var e=this;if(uo.prototype.showCta.call(this),(e.player.isAudio||e.player.isThreeSixty)&&(e.config.pictureInPicture.audioEnabled&&e.player.isAudio||e.pIp.exitPicInPic()),e.player.isFullScreen)return e.showControlBar(),void e.guidancePopUp();e.controls&&(e.closeSettingsPanels(),e.controls.visible=!1,e.controls.style.clip="rect(1px,1px,1px,1px)",e.controls.style.display="none",ue.className(e.container,"controlsFadedOut","controlsFadedIn")),e.cta&&(e.enabled&&e.config.cta.enabled&&!e.inError?(e.ctaVisible=!0,e.cta.style.display="block",e.guidanceOrWarning(),e.ctaUpdate(),e.removeCastOverlay()):(e.cta.style.display="none",e.guidance.style.display="none"),e.cta.style.visibility=e.config.cta.visiblyHidden?"hidden":"visible",e.guidance.style.visibility=e.config.cta.visiblyHidden?"hidden":"visible"),e.hideAllControls(),document.body.style.cursor="default",e.inError||e.player.dispatch({type:"showCta"})},Rl.prototype.ctaUpdate=function(){var e=this;if(e.player.playlist){var t=n.get("toolTipCTAPlay",{title:e.player.playlist.title});e.player.playlist.guidance&&(t+=", "+e.player.playlist.guidance)}else t=n.toolTipPlay;e.cta.title=t,e.cta.setAttribute("aria-label",t)},Rl.prototype.hideCta=function(){var e=this;uo.prototype.hideCta.call(this),e.ctaVisible=!1,e.cta&&(e.guidanceTimeout||(e.guidance.style.display="none"),e.cta.style.display="none",e.player.Chromecast.interactingWithChromecast&&e.showCastUI()),(e.config.controls.always||e.player.isAudio&&!e.config.allowAudioControlsToHide)&&e.showControlBar()},Rl.prototype.updatePoster=function(){var e=this;e.updateEffectsContainer(),e.holdingImage.setSrcset(e.player.playlist)},Rl.prototype.hideEffects=function(){clearTimeout(gl),clearTimeout(yl),this.setSlideEffectVisibility(!1),this.setZoomEffectVisibility(!1)},Rl.prototype.setZoomEffectVisibility=function(e){var t=this.posterZoomImage;t&&(t.style.display=ue.noneOrBlock(e))},Rl.prototype.setSlideEffectVisibility=function(e){var t=this.slideEffectImageContainer;t&&(t.style.display=ue.noneOrBlock(e))},Rl.prototype.zoomInPosterImage=function(e){var t=this,i=void 0!==e.scale?e.scale:1.5,n=void 0!==e.time?e.time:1;t.setSlideEffectVisibility(!1),t.updatePoster(),t.posterZoomImage.src=t.getBackgroundImageUrl(),ue.deleteCssRules(t.stylesheet,[".zoomEffectTransition",".zoomEffectScale"]),t.setZoomEffectVisibility(!0),ue.asyncDelay(wl,[t,n,i])},Rl.prototype.fadeInNewPosterImage=function(e){var t=this,i=void 0!==e.time?e.time:1;t.posterFadeEffectImage.src=t.getBackgroundImageUrl(),"block"==t.posterZoomImage.style.display?ue.className(t.posterFadeEffectImage,"zoomEffectScale","noScale"):ue.className(t.posterFadeEffectImage,"noScale","zoomEffectScale"),ue.deleteCssRules(t.stylesheet,[".fadeEffect"]),t.setSlideEffectVisibility(!1),t.setZoomEffectVisibility(!1),t.updatePoster(),ue.asyncDelay(El,[t,i])},Rl.prototype.slideInNewPosterImage=function(e){var t=this;ue.deleteCssRules(t.stylesheet,[".slidingEffect"]);var i=t.slideEffectImageContainer.firstChild,n=t.slideEffectImageContainer.lastChild;i.src=t.getBackgroundImageUrl(),ue.className(i,"p_onScreen","p_offScreenLeft p_offScreenRight");var a=void 0!==e.time?e.time:1;t.stylesheet.insertRule(".slidingEffect {-webkit-transition: "+a+"s; -moz-transition-duration: "+a+"s; transition-duration: "+a+"s;}",t.stylesheet.cssRules.length),ue.className(n,e.leftToRight?"p_offScreenLeft":"p_offScreenRight","p_onScreen"),"block"==t.posterZoomImage.style.display?ue.className(i,"zoomEffectScale","noScale"):ue.className(i,"noScale","zoomEffectScale"),t.updatePoster(),n.src=t.getBackgroundImageUrl(),t.setSlideEffectVisibility(!0),ue.asyncDelay(_l,[t,n])},Rl.prototype.setCta=function(e){var t="video"===e?"audio":"video";ue.className(document.body,e,t),this.updateCta(e)},Rl.prototype.updateCta=function(e){var t=this;if(t.config.cta.enabled){var i="duration"==t.config.cta.mode&&t.player.playlist&&""!==t.player.playlist.programmeDuration;if(t.cta||t.drawCta(),t.cta&&(t.config.cta.custom?(t.cta.style.backgroundImage="url("+t.config.cta.custom+")",N(t.cta)):t.cta.style.backgroundImage=""),ue.deleteCssRulesContaining(t.stylesheet,["p_cta"]),t.stylesheet.insertRule(".p_cta:hover, .p_cta:focus, .mediaContainer:hover .p_cta { background-color: "+t.config.colour+"; }",t.stylesheet.cssRules.length),"rtl"===t.config.cta.direction&&ue.className(document.body,"rtlCta"),t.config.useHighResIcons&&!t.config.cta.custom){if(t.cta){var n=function(e,t){return e.config.cta.ignoreAudio&&(t=!1),t?"audio":"play"}(this,"audio"===e),a="p_ctaIcon";i&&(a+=" p_hasDuration"),N(t.cta,n,a)}t.stylesheet.insertRule(".svg .p_cta:hover .p_ctaIcon, .focusEnabled.svg .p_cta:focus .p_ctaIcon { fill: "+t.config.foreColour+"; }",t.stylesheet.cssRules.length),t.stylesheet.insertRule(".svg .mediaContainer:hover .p_cta .p_svg, .svg .p_cta:focus .p_svg { fill: "+t.config.foreColour+"; }",t.stylesheet.cssRules.length)}i?(t.ctaDuration.textContent=t.player.playlist.programmeDuration,ue.className(t.cta,"p_hasDuration font-family-sans"),t.config.useHighResIcons&&(t.stylesheet.insertRule(".p_cta:hover .p_ctaDuration, .focusEnabled .p_cta:focus .p_ctaDuration { color: "+t.config.foreColour+"; }",t.stylesheet.cssRules.length),t.stylesheet.insertRule(".mediaContainer:hover .p_ctaDuration, .p_cta:focus .p_ctaDuration { color: "+t.config.foreColour+"; }",t.stylesheet.cssRules.length))):(t.ctaDuration.textContent="",ue.className(t.cta,"","p_hasDuration"))}},Rl.prototype.updateGuidance=function(){var e=this;e.padlock&&e.player.config&&e.config.guidance.pinRequired&&(e.player.config.guidance&&e.player.config.guidance.isGuidanceLocked?(e.padlock.className="p_padlock p_button",e.padlock.title=n.guidanceStateOn1Text,e.config.useHighResIcons&&N(e.padlock,"padlock-locked")):(e.player.config.guidance&&e.player.config.guidance.canPlay&&e.player.config.guidance.guidanceSkipped&&!e.player.config.under16&&(e.padlock.style.display="block"),e.padlock.className="p_padlock p_button p_padlock_unlocked",e.padlock.title=n.guidanceStateOff1Text,e.config.useHighResIcons&&N(e.padlock,"padlock-unlocked")))},Rl.prototype.updateControlBarDisplayForCloseVolume=function(){var e=this;ue.className(e.fullscreenButton,"","p_covered"),ue.className(e.subtitlesButton,"","p_covered"),ue.className(e.playbackSettingsButton,"","p_covered"),ue.className(e.speedButton,"","p_covered"),ue.className(e.pIpButton,"","p_covered"),ue.className(e.chromecastButton,"","p_covered"),ue.className(e.embedButton,"","p_covered"),ue.className(e.timeDisplay,"","p_covered")},Rl.prototype.updateControlBarDisplayForOpenVolume=function(){var e=this;e.closeSettingsPanels();var t=e.config.controls.hideTimes||ue.getOffset(e.timeDisplay)<e.volumeControl.getRight();if(t){var i=!1,n=e.volumeControl.getRight();i=Sl(e.fullscreenButton,i,n),i=Sl(e.subtitlesButton,i,n),i=Sl(e.playbackSettingsButton,i,n),i=Sl(e.speedButton,i,n),i=Sl(e.pIpButton,i,n),i=Sl(e.chromecastButton,i,n),Sl(e.embedButton,i,n)}ue.setOrUnsetClass(e.timeDisplay,"p_covered",t)},Rl.prototype.updateEffectsContainer=function(){var e=this,t=e.posterEffectsContainer;e.config.poster.effects?t||e.createPosterEffectsContainer():t&&(t.parentNode.removeChild(t),e.posterEffectsContainer=null)},Rl.prototype.drawCta=function(){var e=this;if(e.enabled&&e.config.cta.enabled&&!e.cta){var t=I("button","p_button p_cta",'<span class="p_hiddenElement"></span>',n.toolTipPlay);e.ctaDuration=I("span","p_ctaDuration"),t.appendChild(e.ctaDuration),e.container.appendChild(t),ue.multiAddEventListener(t,"click mouseup",function(e){return ue.getActionFn(function(t){e.player.trackAction("call_to_action",t),e.player.requestGuidanceAndPlay(!1),e.controls&&setTimeout(function(){e.playPauseButton.focus(),e.hideControlBar(),Dl()},100)})}(e)),t.style.display="none",e.cta=t,e.drawHitArea(),e.updateCta()}},Rl.prototype.drawGuidance=function(){var e=this;e.guidance=I("div","p_ctaGuidance p_guidance"),e.guidance.style.display="none";var t=I("div","p_guidanceContainer");e.guidanceBox=I("span","p_guidanceText"),e.guidanceBox.style.marginLeft="25px";var i=I("div","p_guidanceHolder"),n=I("span","p_guidanceFallback"),a=I("span","p_guidanceFallbackText");if(n.appendChild(a),a.textContent="G",i.appendChild(n),e.config.useHighResIcons){var o=ue.generateSVG(44,44,"guidance","p_guidanceIcon");i.appendChild(o)}t.appendChild(i),i.appendChild(e.guidanceBox),e.guidance.appendChild(t),e.padlock=document.createElement("button"),ue.multiAddEventListener(e.padlock,"mouseup touchend click",function(e){return ue.getActionFn(function(t){var i=e.player.config.guidance;!i.isGuidanceLocked&&i.hasGuidancePIN?(e.player.trackAction("padlock_lock_guidance",t),e.pGuidance.guidanceLock()):(e.player.trackAction("padlock_show_guidance",t),e.player.guidanceShow(!0))})}(e)),e.guidance.appendChild(e.padlock),e.guidanceClose=I("span","guidanceClose"),ue.multiAddEventListener(e.guidanceClose,"mouseup touchend click",function(e){return ue.getActionFn(function(){e.eventCallbacks.guidanceHide()})}(e)),e.guidanceClose.style.display="none",e.guidance.appendChild(e.guidanceClose),e.config.useHighResIcons&&(o=ue.generateSVG(44,44,"cross","p_crossIcon"),e.guidanceClose.appendChild(o)),e.container.parentNode.appendChild(e.guidance),e.updateGuidance()},Rl.prototype.checkIfCanDisplaySeekBar=function(){var e=this;if(e.progressBar){var t=e.progressBar.isVisible(),i=e.player.timeHelper.drawSeekBar&&"controls"!=ml(e.config.controls.mode);t!=i&&(i?e.progressBar.show():e.progressBar.hide(),e.markersUI.updateMarkers(),e.updateGradientAndControlsPosition(),e.dispatchUIInfo()),ue.setOrUnsetClassOnlyAfterCheck(e.container,"noSeekingBar",!i,i)}},Rl.prototype.displayCover=function(){var e=this;if(e.player.els){var t=e.player.els.video.videoWidth/e.player.els.video.videoHeight;isNaN(t)&&(t=16/9);var i=Math.abs(1-window.innerWidth/(window.innerHeight*t))<.05||0===window.innerWidth&&0===window.innerHeight&&ue.hasClass(document.body,"displayCover")}ue.className(document.body,"","videoPositionTop videoPositionBottom"),i||e.config.displayCover?ue.className(document.body,"displayCover"):(ue.className(document.body,"","displayCover"),"top"==e.config.videoPosition?ue.className(document.body,"videoPositionTop"):"bottom"==e.config.videoPosition&&ue.className(document.body,"videoPositionBottom"))},Rl.prototype.initialise=function(){var e=this;uo.prototype.initialise.call(this),e.markersUI.container=e.container=e.player.mediaContainer,e.playbackSettingsPanel={checkQualityAvailability:C,updateLanguage:C,showOrHideContinuousPlaySetting:C,setAutoplay:C},e.progressBar=new Zr(e),e.spinner=new rl(e),e.errorDialog=new ts(e),e.volumeControl=new fs(e),e.holdingImage=new sl(e),e.container.insertBefore(e.holdingImage.getDomNodes(),e.container.childNodes[0]),e.enabled=!0,e.previousPosterWidth=0,e.eventCallbacks=function(e){function t(){e.player.isAudio||e.config.poster.availableWhenSettingUp||e.hidePoster(),e.hideCta(),e.updateLayout(),b.iPhoneOutOfPagePlayback&&!e.player.isAudio||(e.showControlBar(!0),e.config.thumbnail.enabled&&e.player.thumbScrub.extractManifestData())}function i(t){e.readyToPlay=!0,e.holdingImage.setSrcset(e.player.playlist);var i=e.player.playlist.mediaType;if(e.setCta(i),e.player.autoPlayNextItem)return e.guidancePopUp(t.fromQueue),void(("audio"==i||e.config.poster.availableWhenSettingUp)&&e.showPoster());e.showPoster(),e.resetGuidance(),e.hideAllControls(),ue.asyncDelay(function(){e.player.tryingToPlay||(e.player.dispatch({type:"notPlayingState"}),e.showCta())})}return{notPlayingState:function(){Bl(e.playPauseButton,"p_playButton",n.toolTipPlay,n.toolTipPlay,e.config.useHighResIcons&&"play"),e.castIcon&&e.player.Chromecast.state>=st.State.CONNECTED&&N(e.castIcon,"play")},playingState:function(){Bl(e.playPauseButton,"p_pauseButton",n.toolTipPause,n.toolTipPause,e.config.useHighResIcons&&"pause"),e.castIcon&&e.player.Chromecast.state>=st.State.CONNECTED&&N(e.castIcon,"pause")},blockUnwanted:!0,tryingToPlay:t,play:t,losingControl:function(){e.hideCta(),e.hidePoster(),e.hideControlBar(!0)},mediaItemChanged:function(){Hl(e),e.setCta(e.player.mediaItem&&e.player.mediaItem.type),e.timeUpdate(),e.pIp.isSupported(),e.checkIfCanDisplaySeekBar(),e.dispatchUIInfo()},playing:function(){e.player.isAudio||e.player.isThreeSixty?(e.showPoster(),e.config.pictureInPicture.audioEnabled&&e.player.isAudio||e.pIp.exitPicInPic()):e.hidePoster(),e.hideCta(),e.dispatchUIInfo(),e.updateLayout(),e.playbackSettingsPanel.checkQualityAvailability()},pause:function(){e.updateLayout(),e.config.poster.availableWhenPaused&&(e.showPoster(),e.player.hidePlayer())},waiting:function(){"playing"==e.player.playingState&&e.updateLayout()},seeking:function(){e.markersUI.resetProgress()},seeked:function(){e.player.isSeeking||this.timeupdate()},ratechange:function(){if(e.speedPanel){var t=e.player.playbackRate;e.speedPanel.updateRate(t);var i=(Math.floor(t)==t?t:t.toFixed(1))+"x";A(e.speedButton,i),ue.setOrUnsetClass(e.speedButton,"p_controlBarButton_on",1!=t)}},playerDisconnected:function(){e.hideAllControls(),e.pIp.exitPicInPic(),e.player.minimise(),e.active&&e.showCta(),e.showPoster()},playlistStopped:function(){e.hideAllControls(),e.showCta(),e.showPoster(),e.player.hidePlayer()},canPauseChange:function(){e.markersUI.testDrawMarkers(!0)},ended:function(){e.resetGuidance(),e.markersUI.resetProgress()},playlistEnded:function(t){t.willAutomaticPlayQueuedItem||(e.showPoster(),e.active&&(e.config.controls.availableOnMediaEnded||e.player.isFullScreen||e.player.mediaPlayer.webkitIsFullscreen?e.showControlBar():(e.hideAllControls(),e.showCta())),b.iPhoneOutOfPagePlayback&&e.player.mediaPlayer.webkitExitFullscreen&&e.player.mediaPlayer.webkitExitFullscreen())},error:function(t){t.code==v.SUBS_FAILED&&(e.UIinfoObject.subtitles=!1,e.updateLayout())},beforeErrorDisplay:function(){e.resetGuidance(),e.hideCta(),e.hideAllControls(!0),e.showPoster(),e.player.minimise()},playlistLoading:function(){e.readyToPlay=!1,e.hideCta(),e.updateTimeDisplay(),e.hidePoster(),e.container.style.backgroundImage="",e.markersUI.resetStoredMarkers()},resetUiToPlaylistLoaded:function(){i({})},playlistLoaded:i,beforeFullscreenEnter:function(){Tl(e),e.pIp.exitPicInPic()},beforeFullscreenExit:function(){Tl(e),ue.className(document.body,"","fullscreen"),Bl(e.fullscreenButton,"p_fullscreenButton",n.toolTipEnterFullScreen,n.toolTipEnterFullScreen,e.config.useHighResIcons&&"fullscreen-enter")},fullscreenEnter:function(){ue.className(document.body,"fullscreen"),Bl(e.fullscreenButton,"p_fullscreenButtonReturn",n.toolTipExitFullScreen,n.toolTipExitFullScreen,e.config.useHighResIcons&&"fullscreen-return"),e.UIinfoObject.isFullscreen=!0,e.forcedInactive=!1,Dl(),setTimeout(Dl,200),e.enabled?Al(e):e.showControlBarRequired=!0},fullscreenExit:function(){e.UIinfoObject.isFullscreen=!1,ue.deleteCssRules(e.stylesheet,[".updatedFullscreenPosition",".p_gradientBottomfiller"]),ue.className(e.controls,"","updatedFullscreenPosition"),ue.className(e.gradientLayer,"","updatedFullscreenPosition"),(e.player.mediaEnded&&!e.config.controls.availableOnMediaEnded||e.inPrePlayState)&&(e.enabled=!0,e.showPoster(),e.hideAllControls(),e.showCta(),e.enabled=!1),clearTimeout(e.updateLayoutTimer),e.updateLayoutTimer=setTimeout(function(){e.updateLayout(),e.player.Subtitles.updatePositions(),Dl(),e.player.Chromecast.isCasting&&e.showControlBar()},500),e.forcedInactive=!1,Dl()},picInPicStarted:function(){Ll(e.pIpButton,"p_picInPicButton p_controlBarButton_on","p_picInPicButton",n.toolTipStopPicInPic,n.toolTipPicInPic,!0,"picInPic-stop","picInPic"),e.player.isFullScreen&&e.player.minimise()},picInPicStopped:function(){Ll(e.pIpButton,"p_picInPicButton p_controlBarButton_on","p_picInPicButton",n.toolTipStopPicInPic,n.toolTipPicInPic,!1,"picInPic-stop","picInPic")},timeupdate:function(){e.timeUpdate()},languageUpdated:function(){Ll(e.pIpButton,"p_picInPicButton p_controlBarButton_on","p_picInPicButton",n.toolTipStopPicInPic,n.toolTipPicInPic,e.pIp.isPlayingInPicture(),"picInPic-stop","picInPic"),Ll(e.chromecastButton,"p_chromecastButton p_controlBarButton_on","p_chromecastButton",n.toolTipStopChromecast,n.toolTipChromecast,e.player.Chromecast.isConnected),Ll(e.playPauseButton,"p_pauseButton","p_playButton",n.toolTipPause,n.toolTipPlay,"playing"==e.player.playingState),Ll(e.embedButton,"p_embedButton","p_embedButton",n.toolTipEmbed,n.toolTipEmbed,e.config.embed.enabled),Ll(e.speedButton,"p_speedButton","p_speedButton",n.openSpeedMenu,n.openSpeedMenu,e.config.controls.speed),e.subtitleSettingsPanel&&e.subtitleSettingsPanel.updateLanguage(),e.playbackSettingsPanel.updateLanguage(),e.speedPanel.updateLanguage(),e.ctaUpdate(),e.updateGuidance(),Ll(e.fullscreenButton,"p_fullscreenButton","p_fullscreenButtonReturn",n.toolTipEnterFullScreen,n.toolTipExitFullScreen,!e.player.isFullScreen)},durationchange:function(){e.dispatchUIInfo(),e.checkIfCanDisplaySeekBar(),e.markersUI.updateMarkers(),function(e){e.pIp.supported!=e.pIp.isSupported()&&e.updateLayout()}(e)},subtitles:function(t){e.subtitleSettingsPanel&&(t.active?e.subtitleSettingsPanel.indicateSubsOn():e.subtitleSettingsPanel.indicateSubsOff())},guidanceHide:function(){e.resetGuidance(),ue.className(document.body,"","p_continuousGuidanceOrWarning")},chromecastStateChange:function(){Ll(e.chromecastButton,"p_chromecastButton p_controlBarButton_on","p_chromecastButton",n.toolTipStopChromecast,n.toolTipChromecast,e.player.Chromecast.isConnected),e.updateLayout(),e.player.Chromecast.interactingWithChromecast&&!e.ctaVisible&&(e.showCastUI(),e.player.Chromecast.state>st.State.CONNECTING&&e.spinner.startBufferTimer())},interactingWithChromecast:function(){e.ctaVisible||e.showCastUI()},ccRequestFailed:function(){e.playbackSettingsPanel.checkQualityAvailability(null,!0),e.removeCastOverlay(),e.showCta()},ccDisconnect:function(){e.playbackSettingsPanel.checkQualityAvailability(null,!0),e.removeCastOverlay(),e.showCta()},ccNotCasting:function(){e.showCta()},configUpdated:function(){e.playbackSettingsPanel.setAutoplay(e.player.config.continuousPlay)},volumeOpening:function(){e.updateControlBarDisplayForOpenVolume()},volumeClosed:function(){e.updateControlBarDisplayForCloseVolume()},showBuffer:function(){e.castIcon&&(e.castIcon.style.display="none")},hideBuffer:function(){e.castIcon&&(e.castIcon.style.display="block")}}}(e),e.eventArray=[e.eventCallbacks,e.progressBar.getEventCallbacks(),e.spinner.getEventCallbacks(),e.errorDialog.getEventCallbacks(),this.volumeControl.getEventCallbacks()],b.iPhoneOutOfPagePlayback&&ue.multiAddEventListener(e.player.els.video,"webkitfullscreenchange webkitendfullscreen",function(e){return function(t){e.player.isFullScreen||"webkitfullscreenchange"==t.type&&e.player.mediaPlayer.webkitisfullscreen||e.player.dispatch({type:"playlistStopped"})}}(e)),b.iPhoneIos10&&ue.className(document.body,"iPhoneIos10",""),b.iPhoneIos11orGreater&&ue.className(document.body,"iPhoneIos11orGreater",""),b.preferHls&&ue.className(document.body,"preferHls",""),window.addEventListener("touchstart",function t(){e.touchDetected=!0,window.removeEventListener("touchstart",t)},{passive:!0,once:!0}),_(e.container,e.spinner.getDomNodes()),e.container&&(e.showPoster(),e.config.buffer.forceShow&&e.spinner.startBufferTimer(),e.drawCta(),e.drawGuidance(),e.drawControlBar(),e.addControlBarListeners(),e.displayCover(),Hl(e),e.config.poster.effects&&e.createPosterEffectsContainer(),Il(e)),e.player.Subtitles.updateConfig(e.config),e.initialised=!0},Rl.prototype.updateStyles=function(){uo.prototype.updateStyles.call(this)},Rl.prototype.updateControls=function(){var e=this;ue.deleteCssRulesContaining(e.stylesheet,["p_controlBarButton","minimode"]),ue.deleteCssRules(e.stylesheet,[".p_toggleOn .p_toggleSlot",".p_toggleOn .p_toggleSlider ",".p_toggleSlider .p_tick",".nonPointerFocus #p_subtitleSettingsContainer .p_subtitleSizeButton:focus",".nonPointerFocus #p_speedContainer .p_speedSettingButton:focus",".nonPointerFocus .p_toggle:focus",".nonPointerFocus #p_qualityPanelFirstRow:focus, .nonPointerFocus #p_qualityPanelMediumRow:focus, .nonPointerFocus #p_qualityPanelHighRow:focus",".nonPointerFocus #p_qualityRow:focus"]),e.stylesheet.insertRule(".p_controlBarButton.p_buttonHover, .p_controlBarButton.p_buttonTouch, .p_controlBarButton.p_settingsPanelOpen, .nonPointerFocus .p_controlBarButton:focus, .p_selected_indicator { background-color: "+e.config.colour+"; }",e.stylesheet.cssRules.length),e.config.useHighResIcons&&e.stylesheet.insertRule(".svg .p_controlBarButton.p_buttonHover .p_svg, .svg .p_controlBarButton.p_buttonTouch .p_svg, .svg .p_controlBarButton.p_settingsPanelOpen .p_svg, .nonPointerFocus.svg .p_controlBarButton:focus .p_svg { fill: "+e.config.foreColour+"; }",e.stylesheet.cssRules.length),e.stylesheet.insertRule(".p_controlBarButton.p_buttonHover .p_buttonText, .nonPointerFocus .p_controlBarButton:focus  .p_buttonText { color: "+e.config.foreColour+"; }",e.stylesheet.cssRules.length),e.stylesheet.insertRule(".minimode .mediaContainer { background-color: "+e.config.miniMode.backgroundColour+"; }",e.stylesheet.cssRules.length),e.stylesheet.insertRule(".cta.minimode .mediaContainer { background-color: "+e.config.cta.backgroundColour+"; }",e.stylesheet.cssRules.length),"#222222"==e.config.colour?e.stylesheet.insertRule(".p_toggleOn .p_toggleSlot { background-color: #000; border-color: #fff; }",e.stylesheet.cssRules.length):e.stylesheet.insertRule(".p_toggleOn .p_toggleSlot { background-color: "+e.config.colour+"; border-color: "+e.config.colour+"; }",e.stylesheet.cssRules.length);var t,i,a="#FFF";(e.config.accessibility.enhanceBrightColoursContrast||!1!==e.config.accessibility.enhanceBrightColoursContrast&&(t=e.config.colour,1-(.299*(i=ue.hextoRGBA(t).split(/[,\(\)]+/))[1]+.587*i[2]+.114*i[3])/255<.3))&&(a="#191919"),e.stylesheet.insertRule(".p_toggleOn .p_toggleSlider { background-color: "+a+";}",e.stylesheet.cssRules.length),e.stylesheet.insertRule(".p_toggleSlider .p_tick { border-color: "+e.config.colour+"; }",e.stylesheet.cssRules.length),e.stylesheet.insertRule(".nonPointerFocus #p_subtitleSettingsContainer .p_subtitleSizeButton:focus { background-color: "+e.config.colour+"; }",e.stylesheet.cssRules.length),e.stylesheet.insertRule(".nonPointerFocus #p_speedContainer .p_speedSettingButton:focus { background-color: "+e.config.colour+"; }",e.stylesheet.cssRules.length),e.stylesheet.insertRule(".nonPointerFocus .p_toggle:focus { -webkit-box-shadow: inset 0 0 0 2px "+e.config.colour+"; box-shadow: inset 0 0 0 2px "+e.config.colour+";}",e.stylesheet.cssRules.length),e.stylesheet.insertRule(".nonPointerFocus #p_qualityPanelFirstRow:focus, .nonPointerFocus #p_qualityPanelMediumRow:focus, .nonPointerFocus #p_qualityPanelHighRow:focus { -webkit-box-shadow: inset 0 0 0 2px "+e.config.playbackSettingsPanel.highlightMenuColour+"; box-shadow: inset 0 0 0 2px "+e.config.playbackSettingsPanel.highlightMenuColour+";}",e.stylesheet.cssRules.length),e.stylesheet.insertRule(".nonPointerFocus #p_qualityRow:focus { -webkit-box-shadow: inset 0 0 0 2px "+e.config.playbackSettingsPanel.highlightMenuColour+"; box-shadow: inset 0 0 0 2px "+e.config.playbackSettingsPanel.highlightMenuColour+";}",e.stylesheet.cssRules.length),"seekbar"==ml(e.config.controls.mode)?e.controlsHolder&&(e.closeSettingsPanels(),e.controlsHolder.style.display="none",ue.className(e.controls,"p_noControlBar")):(e.controlsHolder&&(e.controlsHolder.style.display="block",ue.className(e.controls,"","p_noControlBar")),e.progressBar&&("controls"==ml(e.config.controls.mode)?e.progressBar.hide():e.progressBar.show())),ue.setOrUnsetClass(e.controlsHolder,"p_noVolume",!e.config.controls.volumeSlider),Ll(e.playPauseButton,"p_pauseButton","p_playButton",n.toolTipPause,n.toolTipPlay,"playing"==e.player.playingState)},Rl.prototype.createPosterEffectsContainer=function(){var e=this;e.posterEffectsContainer||(e.posterEffectsContainer=I("div","p_posterEffectsContainer"),e.posterZoomImage=I("img","zoomEffectScale zoomEffectTransition"),e.posterEffectsContainer.appendChild(e.posterZoomImage),e.slideEffectImageContainer=document.createElement("div"),e.slideEffectImageContainer.appendChild(I("img","slidingEffect .p_oldSlideImage")),e.slideEffectImageContainer.appendChild(I("img","slidingEffect .p_newSlideImage")),e.posterEffectsContainer.appendChild(e.slideEffectImageContainer),e.posterFadeEffectImage=I("img","fadeEffect"),e.posterEffectsContainer.appendChild(e.posterFadeEffectImage),e.container.insertBefore(e.posterEffectsContainer,e.hitArea))},Rl.prototype.updateConfig=function(e,t){var i,n=this,a={},o=0,r=!1,s=n.config.subtitles.yOffset;for(var l in e)if(e.hasOwnProperty(l)&&(o++,"subtitles"==l))for(var u in e.subtitles)"yOffset"!=u?o++:(null===e.subtitles.yOffset&&(e.subtitles.yOffset=NaN),r=!0,i=!(e.subtitles.yOffset==s||isNaN(s)&&isNaN(e.subtitles.yOffset)));if(0===o||1==o&&r)i&&(n.config.subtitles.yOffset=e.subtitles.yOffset,n.player.Subtitles.updateConfig(n.config));else{e.subtitles&&n.config.subtitles.sizeAdjustment!=e.subtitles.sizeAdjustment&&(a.subtitles={sizeAdjustment:e.subtitles.sizeAdjustment});var c=n.player.playlistHasAudio?"audio":"video",d=n.config.video.transform,p=n.config.controls.always;if(uo.prototype.updateConfig.call(this,e))n.player.Subtitles.updateConfig(n.config),n.spinner.updateConfig(n.config),n.shiftCentralControls=n.config.chromecast&&n.config.chromecast.shiftCentralControls,document.getElementsByClassName("p_castOverlay")[0]&&(n.removeCastOverlay(),n.drawCastOverlay()),n.updatePoster(),n.errorDialog.updateErrorDialog(),n.updateControls(),n.updateCta(c),n.updateGuidance(),n.updateEffectsContainer(),n.displayCover(),n.inPrePlayState?n.showCta():(n.hideCta(),p&&!1===n.config.controls.always&&(n.config.allowAudioControlsToHide||!n.miniModeEnabled&&!n.player.isAudio)&&n.hideControlBar(!0)),d!=n.config.video.transform&&ue.deleteCssRulesContaining(n.stylesheet,["p_transform"]),Il(n),n.controls&&(n.config.controls.enabled?(n.gradientLayer.style.display="block",n.gradientBottomFiller.style.display="block"):(n.closeSettingsPanels(),n.controls.visible=!1,n.controls.style.display="none",n.gradientLayer.style.display="none",n.gradientBottomFiller.style.display="none",ue.className(n.container,"controlsFadedOut","controlsFadedIn"))),Hl(n),n.miniModeEnabled?n.player.mediaPlayer&&"0px"==n.player.mediaPlayer.style.left&&(n.player.mediaPlayer.style.left=T):n.player.mediaPlayer&&n.player.mediaPlayer.style.left==T&&(n.player.mediaPlayer.style.left="0px"),n.checkIfCanDisplaySeekBar(),n.updateLayout(),n.playbackSettingsPanel.showOrHideContinuousPlaySetting(n.config.playbackSettingsPanel.continuousPlaySetting),n.dispatchUIInfo(),t||ue.isObjectEmpty(a)||n.player.dispatch({type:"uiConfigFromPlayer",config:a})}},Rl.prototype.addControlBarListeners=function(){var e=this;if(!e.listenersAdded){var t=Ml(e);window.PointerEvent?(ue.multiAddEventListener(e.container,"pointerdown pointermove pointerup dblclick",t),e.container.addEventListener("pointerout",e.fadeControlBar)):(ue.multiAddEventListener(e.container,"mousedown mouseleave touchmove touchstart touchend dblclick",t,!0),ue.multiAddEventListener(document,"mousemove mouseup",t,!0),b.windowsPhone||e.container.addEventListener("mouseout",e.fadeControlBar)),document.addEventListener("keyup",t,!0),e.listenersAdded=!0}},Rl.prototype.updateTimeDisplay=function(e){var t=this;if(t.currentTime&&t.duration){var i=t.player.timeHelper.getTimeInfoToDisplay(e),n=t.duration.textContent=i.duration;t.currentTime.textContent=i.currentTime,t.timeDisplaySeparator.style.display=""===n?"none":""}},Rl.prototype.updateDisplayedProgress=function(e,t){var i=this,n=i.player.timeHelper.timeToPercent(e);i.progressBar.updateProgressBar(n,t),i.updateTimeDisplay(e),i.markersUI.fillChapters(e)},Rl.prototype.timeUpdate=function(e){var t=this;(e||!t.player.isSeeking&&t.controls&&t.controls.visible)&&(t.updateTimeDisplay(),t.markersUI.testDrawMarkers(e)),t.config.markers.reportProgress&&t.markersUI.reportProgress()},Rl.prototype.drawHitArea=function(){var e=this,t=!1,i=function(){t=!0},n=function(n){var a="touchend"==n.type&&!t||"pointerup"==n.type&&"touch"==n.pointerType,o="touchstart"===n.type&&3===n.targetTouches.length;if(("touchstart"==n.type||"pointerdown"==n.type&&"mouse"!==n.pointerType)&&(e.hitArea.addEventListener("pointermove",i),e.hitArea.addEventListener("touchmove",i),t=o),("touchend"==n.type&&0===n.touches.length||"pointerup"==n.type||"pointerout"==n.type)&&(e.hitArea.removeEventListener("pointermove",i),e.hitArea.removeEventListener("touchmove",i),t=!1),e.ctaVisible&&e.config.cta.enabled&&(a||"mouseup"==n.type||"click"==n.type||"pointerup"==n.type&&"mouse"==n.pointerType)){if(n.button&&0!==n.button)return;e.player.trackAction("call_to_action_background",ue.getActionType(n)),e.player.requestGuidanceAndPlay()}};e.hitArea=document.createElement("div"),e.hitArea.className="p_accessibleHitArea notInteractiveContent",e.hitArea.setAttribute("role","img"),e.hitArea.setAttribute("aria-hidden","true"),e.container.appendChild(e.hitArea),window.PointerEvent?ue.multiAddEventListener(e.hitArea,"pointerup pointerdown",n):ue.multiAddEventListener(e.hitArea,"mouseup touchstart touchend touchmove",n)},Rl.prototype.drawControlBar=function(){var e=this;e.enabled&&e.config.controls.enabled&&!e.controls&&(e.gradientLayer=I("div","p_gradientLayer"),e.gradientBottomFiller=I("div","p_gradientBottomfiller"),e.container.insertBefore(e.gradientLayer,e.container.childNodes[2]),e.container.insertBefore(e.gradientBottomFiller,e.container.childNodes[3]),e.controls=I("div","p_playerControls"),e.controlsHolder=I("div","p_playerControlBarHolder"),e.controls.appendChild(e.controlsHolder),e.chapterMarkersHolder=I("div","p_chapterMarkersHolder"),e.controls.appendChild(e.chapterMarkersHolder),e.markersUI.markersHolder=e.chapterMarkersHolder,_(e.controls,e.progressBar.getDomNodes()),e.timeDisplay=I("div","p_timeDisplay"),e.timeDisplay.setAttribute("aria-hidden",!0),e.timeDisplay.setAttribute("aria-live","off"),e.timeDisplay.setAttribute("aria-role","timer"),e.timeDisplaySeparator=I("span","p_timeSeparator","/"),e.currentTime=I("span","p_time"),e.duration=I("span","p_time p_duration"),e.timeDisplay.appendChild(e.currentTime),e.timeDisplay.appendChild(e.timeDisplaySeparator),e.timeDisplay.appendChild(e.duration),e.playPauseButton=xl("p_playButton",Fl(e),n.toolTipPlay,n.toolTipPlay,e,!1,"play"),e.pIpButton=xl("p_picInPicButton",function(e){return ue.getActionFn(function(t){var i=e.pIp.isPlayingInPicture()?"exit_picture_in_picture_mode":"enter_picture_in_picture_mode";e.pIp.toggle(),e.player.trackAction(i,t),Ll(e.pIpButton,"p_picInPicButton p_controlBarButton_on","p_picInPicButton",n.toolTipStopPicInPic,n.toolTipPicInPic)})}(e),n.toolTipPicInPic,n.toolTipPicInPic,e,!0,"picInPic"),e.chromecastButton=xl("p_chromecastButton",function(e){return ue.getActionFn(function(t){e.player.Chromecast.toggle();var i=e.player.Chromecast.isCasting?"attempt_cast_mode":"exit_cast_mode";e.player.trackAction(i,t)})}(e),n.toolTipChromecast,n.toolTipChromecast,e,!0,"catcast"!==e.config.controls.chromecastMode?"chromecast":"catcast"),e.subtitleSettingsPanel=new Hs(e,xl),e.settingsPanels.push(e.subtitleSettingsPanel),e.subtitlesButton=e.subtitleSettingsPanel.getOpenCloseButton(),e.playbackSettingsPanel=new hl(e,xl),e.settingsPanels.push(e.playbackSettingsPanel),e.playbackSettingsButton=e.playbackSettingsPanel.getOpenCloseButton(),e.speedPanel=new Rr(e),e.settingsPanels.push(e.speedPanel),e.speedButton=xl("p_speedButton p_dontCloseSettingsPanel",function(e){return ue.getActionFn(function(t){e.speedPanel.isPanelOpen()?(e.speedPanel.closePanel(),e.player.trackAction("speed_control_button_close",t)):(e.speedPanel.showPanel(),e.player.trackAction("speed_control_button_open",t))})}(e),n.openSpeedMenu,n.openSpeedMenu,e,!0,null,"1x"),e.embedButton=xl("p_embedButton",function(e){return ue.getActionFn(function(t){e.player.dispatch({type:"embed"}),e.player.pause(),e.player.minimise(),e.player.trackAction("embed",t)})}(e),n.toolTipEmbed,n.toolTipEmbed,e,!1,"embed"),e.updateControls(),e.controlBarFiller=I("div","p_controlBarFiller"),e.config.controls.volumeSlider||ue.className(e.controlBarFiller,"p_noVolume"),e.controlsHolder.appendChild(e.playPauseButton),_(e.controlsHolder,e.volumeControl.getDomNodes()),e.controlsHolder.appendChild(e.controlBarFiller),e.controlBarFiller.appendChild(e.timeDisplay),e.fullscreenButton=xl("p_fullscreenButton",function(e){return ue.getActionFn(function(t){var i=e.player.isFullScreen?"exit_full_screen":"enter_full_screen";e.player.toggleFullscreen(t),setTimeout(e.focusPlayPauseButton,20),e.player.trackAction(i,t)})}(e),n.toolTipEnterFullScreen,n.toolTipEnterFullScreen,e,!1,"fullscreen-enter"),e.controlsHolder.appendChild(e.fullscreenButton),e.controlsHolder.appendChild(e.subtitlesButton),e.controlsHolder.appendChild(e.subtitleSettingsPanel.getSubsSettingsContainer()),e.controlsHolder.appendChild(e.playbackSettingsButton),e.controlsHolder.appendChild(e.playbackSettingsPanel.getPanel()),e.controlsHolder.appendChild(e.speedButton),e.controlsHolder.appendChild(e.speedPanel.speedContainer),e.controlsHolder.appendChild(e.chromecastButton),e.controlsHolder.appendChild(e.pIpButton),e.controlsHolder.appendChild(e.embedButton),e.container.appendChild(e.controls),e.hideControlBar(),e.controls.style.display="none",ue.className(e.container,"controlsFadedOut","controlsFadedIn"),e.updateLayout(e.container.clientWidth))},Rl.prototype.updateGradientAndControlsPosition=function(){var e=this;if(e.player.isFullScreen&&e.controls.visible&&e.enabled){var t=window.innerWidth,i=window.innerHeight,n=i/t,a=.5625,o="3.5625%",r="3.5625%",s=b.iPhoneOutOfPagePlayback||b.iPhoneNeedFullScreenMarginButton;if(n<=a||e.player.isPlaying360)s&&(r="14%",o="14%");else{var l=Math.ceil(.035625*i),u=t*a,c=Math.floor((i-u)/2);(c<l+148||s)&&(o=c+1+"px",r=c+1+"px")}ue.className(e.controls,"updatedFullscreenPosition"),ue.className(e.gradientLayer,"updatedFullscreenPosition"),e.stylesheet.insertRule(" .p_gradientBottomfiller { height:"+o+"; }",e.stylesheet.cssRules.length),e.stylesheet.insertRule(" .updatedFullscreenPosition { bottom:"+r+"; }",e.stylesheet.cssRules.length)}},Rl.prototype.hideAllControls=function(e,t){var i=this;i.player.isPlaying360&&i.player.threeSixty.hideCompass(),i.hideControlBar(e,t)},Rl.prototype.hideControlBar=function(e,t,i){var n=this;if(n.controls){if(!e){if(!n.controls.visible||n.config.controls.always||n.player.Chromecast.isCasting||!n.config.allowAudioControlsToHide&&(n.miniModeEnabled||n.player.isAudio)||n.player.isSeeking||n.player.mediaEnded&&n.config.controls.availableOnMediaEnded)return;var a=!1;if(i&&"touch"===i.pointerType&&(a=!0),(Cl(n)||n.subtitleSettingsPanel.hasFocus||n.playbackSettingsPanel.hasFocus)&&(!t||"touch"!=t.substring(0,5))&&!a||n.isControlsInteraction&&t&&"mouse"==t.substring(0,5))return void 0}!n.player.isPlaying360&&n.player.isFullScreen&&b.hideCursorInFullscreen&&(document.body.style.cursor="none"),n.volumeControl.closeVolumeControls(),n.controls.visible=!1,ue.asyncDelay(function(){ue.className(n.container,"controlsFadedOut","controlsFadedIn")}),n.closeSettingsPanels(),Dl(),clearTimeout(n.controlbarTimer),n.controlbarTimer=setTimeout(function(){n.controls.style.clip="rect(1px,1px,1px,1px)",n.player.Subtitles.updatePositions()},800)}n.markersUI.resetMarkerTip(),n.player.dispatch({type:"uiControlBarHidden"},!0),n.touchDetected&&ue.className(n.container,"stopTouch","")},Rl.prototype.showControlBar=function(e){var t=this;if(t.active&&(!b.iPhoneOutOfPagePlayback||t.player.isAudio)){if(e||clearTimeout(t.idleTimeoutInterval),clearTimeout(t.controlbarTimer),!t.controls||t.controls.visible)return;t.enabled&&t.config.controls.enabled&&(!t.inPrePlayState||t.player.isFullScreen)&&(document.body.style.cursor="default",t.controls.style.display="block",t.timeUpdate(!0),e&&!t.miniModeEnabled?(t.controls.visible=!1,ue.className(t.container,"controlsFadedOut","controlsFadedIn"),t.player.Subtitles.updatePositions()):(t.controls.visible=!0,t.updateGradientAndControlsPosition(),ue.asyncDelay(function(){t.controls.style.clip="",t.player.Subtitles.updatePositions(),ue.className(t.container,"controlsFadedIn","controlsFadedOut")}),t.player.dispatch({type:"uiControlBarShown"},!0),t.touchDetected&&setTimeout(function(){ue.className(t.container,"","stopTouch")},150))),t.markersUI.updateMarkers()}},Rl.prototype.updateLayout=function(e){var t=this;if(t.controlsHolder&&(t.container.clientWidth>0||e)){var i=t.config.controls.volumeSlider?2:1,n=t.controlsHolder.clientWidth||t.container.clientWidth;n<=0&&(n=e||0);var a=this.remainingSpace(n-i*fl,n,i);i+=t.checkFullScreenButton(a),a=this.remainingSpace(n-i*fl,n,i),i+=t.checkSubtitlesButton(a),a=this.remainingSpace(n-i*fl,n,i),i+=t.checkPlaybackSettingsButton(a),a=this.remainingSpace(n-i*fl,n,i),i+=t.checkSpeedButton(a),a=this.remainingSpace(n-i*fl,n,i),i+=t.checkPiPButton(a),a=this.remainingSpace(n-i*fl,n,i),i+=t.checkChromecastButton(a),a=this.remainingSpace(n-i*fl,n,i),i+=t.checkEmbedButton(a),t.controlBarFillerWidth=n-i*fl,t.controlBarFillerWidth<90||t.config.controls.hideTimes?t.timeDisplay.style.display="none":t.timeDisplay.style.display="block",t.controlBarFiller.style.width=t.controlBarFillerWidth+"px",t.markersUI.updateMarkers(),t.volumeControl.isOpen()&&t.updateControlBarDisplayForOpenVolume(),t.updateGradientAndControlsPosition(),t.progressBar.updateProgressBar(t.player.timeHelper.percent),t.dispatchUIInfo()}},Rl.prototype.checkFullScreenButton=function(e){var t=Pl(this)||e<fl;return Math.abs(kl(t,"nofullscreen")-1)},Rl.prototype.checkPiPButton=function(e){var t=this;return kl(!t.player.isPlaying360&&!t.player.Chromecast.isConnected&&t.pIp.supported&&e>=fl,"picInPic")},Rl.prototype.checkChromecastButton=function(e){var t=this;return kl(!t.player.isPlaying360&&t.config.chromecast.enabled&&t.player.Chromecast.state>st.State.NOT_AVAILABLE&&(t.player.config.supportLiveChromecast||!t.player.isLive)&&e>=fl,"chromecast")},Rl.prototype.checkSubtitlesButton=function(e){var t=this,i=t.config.subtitles.enabled&&t.player.Subtitles.subsAvailable()&&e>=fl;return!i&&t.subtitleSettingsPanel&&t.subtitleSettingsPanel.isPanelOpen()&&t.subtitleSettingsPanel.closePanel(),kl(i,"subtitles")},Rl.prototype.checkSpeedButton=function(e){var t=this;return kl(t.config.controls.speed&&e>=fl&&!t.player.Chromecast.isCasting&&t.player.timeHelper.canSeek(),"speed")},Rl.prototype.checkEmbedButton=function(e){var t=this;return kl(t.player.playlist&&t.config.embed.enabled&&t.player.playlist.embedRight&&e>=fl,"embed")},Rl.prototype.checkPlaybackSettingsButton=function(e){var t=this,i=t.config.playbackSettingsPanel.enabled&&(t.config.playbackSettingsPanel.continuousPlaySetting||t.config.playbackSettingsPanel.qualitySetting)&&t.container.clientWidth>=320&&e>=fl&&!(!t.config.playbackSettingsPanel.continuousPlaySetting&&t.config.playbackSettingsPanel.qualitySetting&&(b.preferHls||t.container.clientHeight<295));return!i&&t.playbackSettingsPanel&&t.playbackSettingsPanel.isPanelOpen()&&t.playbackSettingsPanel.closePanel(),kl(i,"playbackSettings")},Rl.prototype.resetGuidance=function(){var e=this;if(clearTimeout(e.guidanceTimeout),e.guidanceTimeout=!1,e.padlock&&e.player.config){var t=e.player.config.guidance;if(t){var i=e.config.guidance.pinRequired,n=!i||i&&!t.hasGuidancePIN&&!t.guidanceSkipped||e.player.config.under16&&!e.player.config.guidance.hasGuidancePIN;e.padlock.style.display=ue.noneOrBlock(!n),e.guidanceClose.style.display="none",e.guidance.style.display="none",e.guidance.className="p_ctaGuidance p_guidance",ue.className(document.body,"","p_continuousGuidanceOrWarning"),"rtl"!==e.config.cta.direction||n||(ue.className(e.guidance,"rtlPadlock"),e.guidanceBox.style.marginLeft="40px")}}ue.setOrUnsetClassOnlyAfterCheck(e.guidance,"p_warning",null,!0),ue.setOrUnsetClassOnlyAfterCheck(e.guidance,"p_warningCta",null,!0)},Rl.prototype.guidanceOrWarning=function(){var e=this;if(e.config.guidance.enabled&&e.player.playlist){var t="";""!==e.player.playlist.guidance?t=e.player.playlist.guidance:""!==e.player.playlist.warning&&(t=e.player.playlist.warning,e.padlock&&(e.padlock.style.display="none"),e.guidance.className="p_ctaGuidance p_guidance p_warningCta"),""!==t?(e.guidance.style.display="table",e.guidanceBox.textContent=t):e.guidance.style.display="none"}else e.guidance.style.display="none"},Rl.prototype.dispatchUIInfo=function(){var e=this,t=this.UIinfoObject,i=e.player.mediaContainer.clientWidth,n=e.player.mediaContainer.clientHeight;if(!(n<=0||i<=0)){var a;if(t.referenceHeight=44,t.seekBarVisible=e.progressBar.isVisible(),t.controlBarVisible=(a=e.controlsHolder)&&"block"===a.style.display,t.markersBarVisible=ue.hasClass(e.container,"p_hasMarkers"),t.controlsHeight=t.referenceHeight*((t.seekBarVisible?1:0)+(t.controlBarVisible?1:0))+(t.markersBarVisible?e.markersUI.markerDisplayHeight:0),e.controls){var o=ue.getOffsets(e.controls);if(o.width>0&&(t.controlsWidth=o.width,t.controlsTop=o.top,t.controlsLeft=o.left),e.progressBar){var r=ue.getOffsets(e.progressBar.seekBar);r.width>0&&(t.seekBarLeft=r.left,t.seekBarRight=r.right)}}var s=e.player.mediaPlayer.videoWidth,l=e.player.mediaPlayer.videoHeight;if(0!==l)s/l<i/n?(t.videoWidth=Math.round(s*n/l),t.videoHeight=n,t.videoX=Math.round((i-t.videoWidth)/2),t.videoY=0):(t.videoHeight=Math.round(l*i/s),t.videoWidth=i,t.videoX=0,t.videoY=Math.round((n-t.videoHeight)/2));if(e.initialised&&(!e.controls||t.controlsWidth>0)){var u=JSON.stringify(t);if(u!=e.lastUIinfoDispatch){var c={type:"uiinfo",properties:t};for(var d in t)t.hasOwnProperty(d)&&(c[d]=t[d]);e.player.delayedDispatch(c),e.lastUIinfoDispatch=u}}}},Rl.prototype.getBackgroundImageUrl=function(){var e=this.holdingImage.holdingImageNode.src,t=/url\(([^)]+)\)/.exec(e);return t&&t.length>=2?t[1].replace(/^"+|"+$/g,""):e},Rl.prototype.guidancePopUp=function(e){var t=this;if(t.config.guidance.enabled)if(!t.config.guidance.displayContinuousGuidanceInQueuePlaylist&&e||!t.config.guidance.displayGuidanceInAutoplay)t.guidance.style.display="none";else{var i="",n="p_guidance p_continuous";""!==t.player.playlist.guidance?i=t.player.playlist.guidance:""!==t.player.playlist.warning&&(n="p_warning p_guidance p_continuous",i=t.player.playlist.warning),""!==i?(t.padlock.style.display="none",t.guidance.style.visibility="visible",t.guidanceBox.textContent=i,t.guidance.style.display="table",t.guidance.className=n,t.guidanceClose.style.display="block",ue.className(document.body,"p_continuousGuidanceOrWarning"),clearTimeout(t.guidanceTimeout),t.guidanceTimeout=setTimeout(t.eventCallbacks.guidanceHide,1e4)):t.guidance.style.display="none"}},Rl.prototype.areControlsVisible=function(){return this.controls&&this.controls.visible},Rl.prototype.displayRemoteInput=function(){this.ensureRemoteInput(),this.remoteInput.style.display="block"},Rl.fakeShow=function(){Ml(this)({type:"keyup"})},Ul.prototype=ue.object(er.prototype),Ul.prototype.getEventCallbacks=function(){var e=this;return{notPlayingState:function(){e.state="play",e.playIcon.style.opacity=1,e.pauseIcon.style.opacity=0,e.button.setAttribute("aria-label",n.toolTipPlay)},playingState:function(){e.state="pause",e.playIcon.style.opacity=0,e.pauseIcon.style.opacity=1,e.button.setAttribute("aria-label",n.toolTipPause)},uiConfigUpdated:function(){ql(e),ue.deleteCssRulesContaining(e.ui.stylesheet,["p_audioButton_buttonInner"]),e.ui.stylesheet.insertRule(".p_audioButton_buttonInner:hover, .focusEnabled p_audioButton_buttonInner:focus { background-color: "+e.ui.config.colour+"; color: "+e.ui.config.foreColour+" }",e.ui.stylesheet.cssRules.length)},languageUpdated:function(){"play"==e.state?e.button.setAttribute("aria-label",n.toolTipPlay):e.button.setAttribute("aria-label",n.toolTipPause)}}};var Gl,zl,jl=function(e,t){t.controls?(!1!==t.controls.hideTimes&&(t.controls.hideTimes=!0),!1!==t.controls.spaceControlsPlayback&&(t.controls.spaceControlsPlayback=!0)):t.controls={hideTimes:!0,spaceControlsPlayback:!0},Rl.call(this,e,t)};(jl.prototype=ue.object(Rl.prototype)).updateControlBarDisplayForOpenVolume=function(){var e=this.volumeControl.getRight();Vl(this.previousButton,e),Vl(this.backIntervalButton,e),Vl(this.playPauseButton2,e),Vl(this.forwardIntervalButton,e),Vl(this.nextButton,e),Rl.prototype.updateControlBarDisplayForOpenVolume.call(this)},jl.prototype.updateControlBarDisplayForCloseVolume=function(){Wl(this.previousButton),Wl(this.backIntervalButton),Wl(this.playPauseButton2),Wl(this.forwardIntervalButton),Wl(this.nextButton),Rl.prototype.updateControlBarDisplayForCloseVolume.call(this)},jl.prototype.remainingSpace=function(e,t,i){i-=this.config.controls.volumeSlider?2:1;var n=this.nextButton;return n&&!ue.hasClass(n.button,"removed")||(n=this.forwardIntervalButton),n&&!ue.hasClass(n.button,"removed")||(n=this.playPauseButton2),n?t-(ue.getOffset(n.button,"right")+i*fl):e},jl.prototype.updateLayout=function(e){Rl.prototype.updateLayout.call(this);var t=this.controlsHolder.clientWidth||this.container.clientWidth;t<=0&&(t=e||0),t<315?(this.backIntervalButton&&this.backIntervalButton.hide(),this.forwardIntervalButton&&this.forwardIntervalButton.hide()):(this.backIntervalButton&&this.backIntervalButton.show(),this.forwardIntervalButton&&this.forwardIntervalButton.show())},jl.prototype.initialise=function(){var e=this,t=e.player;Rl.prototype.initialise.call(this),this.playPauseButton2=new Ul(this),this.playPauseButton2.setActionFunction(e.togglePlay),t.config.ui.controls.includeBackIntervalButton&&(ue.className(this.controls,"p_has_interval_button",""),this.backIntervalButton=new rr(this,!0,!0),this.backIntervalButton.setActionFunction(function(i){var n={beforeTime:t.time};t.time=t.time-e.config.skipInterval,n.afterTime=t.time,t.trackAction("back_interval_button",i,n)})),t.config.ui.controls.includeForwardIntervalButton&&(ue.className(this.controls,"p_has_interval_button",""),this.forwardIntervalButton=new cr(this,!0,!0),this.forwardIntervalButton.setActionFunction(function(i){var n={beforeTime:t.time};t.time=t.time+e.config.skipInterval,n.afterTime=t.time,t.trackAction("forward_interval_button",i,n)})),this.previousButton=new fr(this,!0),this.previousButton.setActionFunction(function(e){var i=t.config.ui.controls.alwaysEnablePreviousButton;t.mediaItem&&t.mediaItem.fake&&(t.hasPrevious||i)||t.timeHelper.percent*t.timeHelper.duration<5?t.previous("playing"==t.playingState):t.time=0,t.trackAction("previous_button",e)}),this.nextButton=new vr(this,!0),this.nextButton.setActionFunction(function(e){t.next("playing"==t.playingState),t.trackAction("next_button",e)});var i=document.createElement("div");i.className="p_storyControls",this.controls&&this.controls.insertBefore(i,this.controls.firstChild),i.appendChild(this.previousButton.getDomNodes()),this.backIntervalButton&&i.appendChild(this.backIntervalButton.getDomNodes()),i.appendChild(this.playPauseButton2.getDomNodes()),this.forwardIntervalButton&&i.appendChild(this.forwardIntervalButton.getDomNodes()),i.appendChild(this.nextButton.getDomNodes()),this.playPauseButton.style.display="none";var n=[this.playPauseButton2.getEventCallbacks(),this.previousButton.getEventCallbacks(),this.nextButton.getEventCallbacks()];this.backIntervalButton&&n.push(this.backIntervalButton.getEventCallbacks()),this.forwardIntervalButton&&n.push(this.forwardIntervalButton.getEventCallbacks()),this.eventArray=this.eventArray.concat(n),this.focusPlayPauseButton=function(){e.inPrePlayState&&e.cta?e.cta.focus():e.playPauseButton2&&e.playPauseButton2.button.focus()},this.stylesheet.insertRule(".storyKitUI .p_playerSeekBarHolder .p_seekThumb { background-color: "+this.config.colour+"; }",this.stylesheet.cssRules.length)};var Ql="",Kl=0,Yl={video:"//emp.bbci.co.uk/emp/media/blankv2.mp4",360:"//emp.bbci.co.uk/emp/media/blankv2.mp4",audio:"//emp.bbci.co.uk/emp/media/blank.mp3"},Xl={video:"//emp.bbci.co.uk/emp/media/noise.mp4",360:"//emp.bbci.co.uk/emp/media/noise.mp4",audio:"//emp.bbci.co.uk/emp/media/noise.mp3"},$l=Yl,Jl={autoplay:!1,bitrateFloor:{plain:0},bitrateCeiling:{plain:1200},isBSTime:!1,suppressItemKind:[],suppressType:[],embedPageURL:"",mediatorHref:"",samlMediatorHref:"",counterName:"smp.player.page",enableRdotReporting:!0,enableStatsReporting:!0,loop:!1,startTime:0,customRdotBaseURL:"",supportLiveRewindOnMobile:!0,offlineAllowanceDelay:6e4,hibernationTime:360,tokenTimeout:3e4,guidance:{isGuidanceLocked:!1,hasGuidancePassword:!1,hasGuidancePIN:!1,guidanceSkipped:!1},ui:{}};function Zl(e){var t=e.mediaPlayer.play();t&&t.then&&(e.discardPromise=!1,t.then(function(){e.playCalled=!1},function(){e.discardPromise||(ue.callErrorFunction(e,v.PLAYING_FAILED_PROMISE),e.tryingToPlay&&(e.mediaItem.live?(e.stop(),e.config.oldStartTime&&(e.config.startTime=e.config.oldStartTime),e.mediaItem.subtitleConnections=[],e.Subtitles.clearSubtitles()):(e.dispatch({type:"pause"}),e.playCalled=!1,e._state="",e.tryingToPlay=!1,e.autoPlayNextItem=!1,e.ui.resetGuidance(),e.dispatch({type:"notPlayingState"}),e.ui.showCta(),e.ui.showPoster(),e.ui.hideAllControls())))}))}function eu(e,t,i){e.els[t]&&e.els[t].parentNode&&(i&&e.els[t].pause(),e.els[t].style.left=S),e.threeSixty.hideCanvas(),e.Subtitles&&e.Subtitles.clearSubtitles()}function tu(e,t,i){if(i){if(nu[e.uid])for(var n=0;n<nu[e.uid].length;n++)nu[e.uid][n](t)}else au(e).apply(e,[t])}var iu={},nu={};function au(t){var i=t.uid;if(iu[i]||(iu[i]={}),!iu[i].func){iu[i].func=function(n){var a=!0,o=ku(n.target,t);n._=t,n._queuedActions=n._queuedActions||[];var r=n.type||"unknown";if("unknown"===o||!t.outOfControl||"webkitendfullscreen"==r||"volumechange"==r){var s=[];iu[i].callbacks&&(s=iu[i].callbacks);var l=t.waitingForChange[o]||"unknown"!=o&&(o!=t.elType||ue.eventFieldData[r]&&fu(t));l=(l=(l=l||t.failingOver&&"error"!=n.type&&"showError"!=n.type&&"waiting"!=n.type&&"loadedmetadata"!=n.type&&"canplay"!=n.type&&"beforeErrorDisplay"!=n.type)||"ratechange"==n.type&&(0===t.mediaPlayer.playbackRate||t.mediaPlayer.playbackRate===t.previousPlaybackRate))||"timeupdate"==r&&(!t.isPlaying360&&t.mediaPlayer.style.left==S||t.isPlaying360&&!t.threeSixty.showingCanvas),"volumechange"!=r&&"SonarUserActionEvent"!=r&&"changingsrc"!=r||("volumechange"!=r||t.willAutoplayWhenPlayCalled[ku(t.mediaPlayer,t)]||(a=!1,n.volume=t._volume,n.muted=t._muted),l=!1),n.unwanted=l,t.playbackMightRestartLater[o]&&"play"==r&&(t.willAutoplayWhenPlayCalled[o]=!0,t.autoplayTimeoutRetryAttempted=!1,t.mediaItemIndex=0,t.tryingToPlay=!0,l=!1,t.playbackMightRestartLater={},ue.delayedErrorFunction(t,v.PLAYING_STARTED_AFTER_NO_INTENT));for(var u=s.length,c=0;c<u;c++){var d=s[c]||{};if(!("function"!=typeof d[r]||d.blockUnwanted&&l)){var p=d[r](n);p&&(n=p)}}var h=n._queuedActions;if(delete n._queuedActions,l)e;else{if(a&&(n=ue.annotateEvent(n,t)),nu[t.uid])for(c=0;c<nu[i].length;c++)nu[i][c](n);t.jsapiFunc(n)}if(t.lastEventType=r,h)for(c=0;c<h.length;c++)h[c]()}}}return iu[i].func}function ou(e,t,i){for(var n in t)t.hasOwnProperty(n)&&e.addEventListener(n,i)}function ru(e){e.preventDefault()}function su(e,t){if(!e.willAutoplayWhenPlayCalled[t]){var i=e.els[t];i.src||(e.waitingForChange[t]=!0,i.src=$l[t],i.load&&i.load()),b.requiresFakePlayEvent&&i.play(),e.willAutoplayWhenPlayCalled[t]=!0}}function lu(e){e.pushMediaEventFunctions(Pu);var t=e.config.experimentalDashPercentage;!isNaN(t)&&t>0&&t<1?(Gl=Math.random()<t,zl=!0):Gl=!1,e.config._inExperiment&&(zl=!0),!0===e.config._demiIsUK&&(Ql=".u"),!1===e.config._demiIsUK&&(Ql=".r"),b.init(navigator.userAgent,e.config.supportHls),e.config.allowFakeFullscreenScroll&&b.allowFakeFullscreenScroll&&(document.body.style.position="fixed",document.body.style.width="100%",document.body.style.height="100%");var i=new tt(e);mt.init(e,e.config.customRdotBaseURL),e.qos=new Mt(e);var a=new Qi(e);e.Subtitles=a,e.Chromecast=new st(e),"audio"==e.config.ui.skin?(e.ui=new Vs(e,e.config.ui),ue.className(document.body,"audioUI")):"storykit"==e.config.ui.skin?(e.ui=new jl(e,e.config.ui),ue.className(document.body,"storyKitUI classicUI")):(e.ui=new Rl(e,e.config.ui),ue.className(document.body,"classicUI")),e.thumbScrub=new Zi(e),e.timeHelper=new me(e),n.init(e.ui.config.locale,function(){v.init(),e.dispatch({type:"languageUpdated"})}),v.init(),e.ui.initialise(),e.targetPlaybackRate=1,e.config.threeSixty&&e.threeSixty.create(function(){}),ot.init(e),e.api=new an(e),e.dashEvents={create:function(){e.dashEvents=new Aa(e,Gl,Au)},updatePortalSize:function(){},reset:function(){},resetSrc:function(){},applyQuality:function(){}};var o=[e.qos.eventCallbacks].concat(e.ui.eventArray).concat([a.eventCallbacks,i.eventCallbacks,Ye.eventCallbacks,e.Chromecast.eventCallbacks,e.threeSixtyEventCallbacks]);if(e.ui.config.subtitles.useNarrative){var r=new un(e);o.push(r.eventCallbacks)}if(cn.isSupported){var s=new cn(e);o.push(s.eventCallbacks)}for(var l=0;l<o.length;l++)e.pushMediaEventFunctions(o[l]);var u=au(e);ou(e.els.video,ue.eventFieldData,u),ou(e.els.audio,ue.eventFieldData,u),ou(e.els[360],ue.eventFieldData,u),e.elType="unknown";var c=0===(location.href+"").indexOf("file:")||e.config.intentNotRequired;e.willAutoplayWhenPlayCalled={video:c,audio:c,360:c};var d,p=window.innerHeight,h=window.innerWidth;ue.multiAddEventListener(window,"resize orientationchange",function(){var t=function(){p=window.innerHeight,h=window.innerWidth,e.fixSize(!e.isFullScreen)};clearTimeout(d),Math.abs(p-window.innerHeight)<3&&Math.abs(h-window.innerWidth)<3?d=setTimeout(t,100):t()}),ue.multiAddEventListener(window,"online offline",function(){ue.setOrUnsetClass(document.body,"offline",!navigator.onLine)}),e.els.video.addEventListener("loadedmetadata",function(){e.ui.displayCover()}),e.onlineDetected=function(){e.endOnlineDetection(),(new Date).valueOf()-e.onlineDetectionStart>1e3*e.config.hibernationTime?e.stop():aa.switchMediaConnection(e,!1,!0)},e.startOnlineDetection=function(){e.onlineDetectionStart=(new Date).valueOf(),clearTimeout(e.offlineTimeout),window.addEventListener("online",e.onlineDetected),e.offlineTimeout=setTimeout(function(){e.endOnlineDetection(),ue.delayedErrorFunction(e,v.NETWORK_UNAVAILABLE)},e.config.offlineAllowanceDelay)},e.endOnlineDetection=function(){clearTimeout(e.offlineTimeout),window.removeEventListener("online",e.onlineDetected)},xd.on("jsapi",function(e){return function(t){if(void 0!==t.call){var i=t.call;if(void 0!==t.params)var n=t.params;else n=[];if(n instanceof Array||(n=[n]),"function"==typeof e.api[i])return n.push(!0),void e.api[i].apply(e.api,n);if("function"==typeof e[i])return void e[i].apply(e,n)}}}(e))}function uu(e,t){ue.asyncDelay(function(){t.mediationAttempted=!1,t.mediationRequested=!1,du(e,t,e.consideredMobileConnection,cu(e))})}function cu(t,i,n){var a=function(e){if(t.dispatch(e.infoChangeEvent),e.fake)return eu(t,"audio"),eu(t,"video"),void eu(t,"360");if("360"==e.kind){if(!t.config.deviceSupports360)return void ue.delayedErrorFunction(t,v.DEVICE_NOT_SUPPORTED);if(t.threeSixty.failed)return void ue.delayedErrorFunction(t,v.THREE_SIXTY_FAILED);if(t.threeSixty.fake)return t.elType="360",t.selectMediaPlayer("360"),t.mediaPlayer.autoplay=!0,void t.threeSixty.create(function(){bu(t)})}bu(t)},o=function(e){for(var t=0;t<e.subtitleConnections.length;t++){var i=e.subtitleConnections[t];i.live||-1==i.href.indexOf("$Number$")||(e.subtitleConnections[t]=new Ga(i.href,!1,!1,i))}};return i?function(i){o(i),t.mediaItem!==i?n?function(t,i){var n=new Aa(t,Gl,Au);n._preloadMediaItem=i,n.initialSettings={streaming:{stableBufferTime:6,bufferTimeAtTopQuality:6,bufferTimeAtTopQualityLongForm:6}},n.setSrc(i.connections),e;t.isPlayingDash&&n.setInitialBitrate(gu(t));i.dashEvents=n}(t,i):hu(i,t.mediaItem)&&mu(t,i):a(i)}:function(e){o(e),t.mediaItem==e&&a(e)}}function du(e,t,i,n){t.jwtTokenRequired?(clearTimeout(e.tokenWaitingTimeout),e.tokenWaitingTimeout=setTimeout(function(){t.tokenUpdated=null,t==e.mediaItem&&ue.callErrorFunction(e,v.TIMEOUT_WAITING_TOKEN)},e.config.tokenTimeout),t.tokenUpdated=function(){clearTimeout(e.tokenWaitingTimeout),aa.mediate(t,i,n)},e.dispatch({type:"tokenRequired",vpid:t.identifier})):aa.mediate(t,i,n)}function pu(e,t){if(e.mediaItemIndex+1<e.playlist.items.length){var i=e.playlist.getNextItem(e.mediaItemIndex);i&&!i.mediationAttempted&&du(e,i,e.consideredMobileConnection,cu(e,t))}else if(e.playlist.queuedPlaylist&&e.playlist.queuedPlaylist.items&&e.playlist.queuedPlaylist.items[0]&&"advert"!==e.playlist.queuedPlaylist.items[0].kind){var n=e.playlist.createMediaItem(e.playlist.queuedPlaylist,0,e.config);n.mediationAttempted||(e.playlist.queuedPlaylist.items[0].createdItem=n,n.playStartTime=e.playlist.queuedOptions&&e.playlist.queuedOptions.startTime||e.playlist.queuedPlaylist.items[0].in,du(e,n,e.consideredMobileConnection,cu(e,t)))}}function hu(e,t){if(e&&e.connections.length>0&&!e.live&&!e.noPreload){if(!t||t.type!=e.type)return!1;if(aa.filter(e)&&"dash"===e.connections[0].format)return!0}return!1}function fu(e){var t=ku(e.mediaPlayer,e),i=e.mediaPlayer.src.split("//");return 2==i.length&&"//"+i[1]===$l[t]}function mu(t,i){if(t.duration>0&&!fu(t)&&(!t.preloadDashEvents||t.preloadDashEvents._preloadMediaItem!=i))if(t.preloadDashEvents&&(t.preloadDashEvents.reset(),t.preloadDashEvents=null),t.ended||t.duration-t.time<=15)vu(t,i);else if(!t.preloadCallback){var n=Math.max(t.duration-15,.1);e,t.preloadCallback=t.timeHelper.setPlaybackTimeout(vu.bind(null,t,i),n,!0)}}function yu(e){return e&&e.length>0?e.reduce(function(e,t){return e.bitrate>t.bitrate?e:t}):NaN}function gu(e){var t=yu(e.dashEvents.getBitrateListFor("video")),i=yu(e.dashEvents.getBitrateListFor("audio")),n=e.dashEvents.streamingBitrate.video.rate,a=e.dashEvents.streamingBitrate.audio.rate;return{video:t.bitrate!==n&&0!==n?n:NaN,audio:i.bitrate!==a&&0!==a?a:NaN}}function vu(e,t){e.preloadCallback=null;var i=new Aa(e,Gl,Au);e.preloadDashEvents=i,i._preloadMediaItem=t,i.setSrc(t.connections),e.isPlayingDash&&i.setInitialBitrate(gu(e))}function bu(t){var i=t.mediaItem;if(b.filterDash=t.playlist&&t.playlist.hasAds&&ot.pluginArray.length&&!b.supportsMultipleMediaElements,t.quality||(t.quality=new oa(t.config.quality,t.mediaItem)),function(e){var t=ue.getCookie("ckps_smpSettings");if(t)try{var i=JSON.parse(t);i&&i.quality||!e.config.saveData||(e.updateQuality("low"),e.ui.playbackSettingsPanel&&e.ui.playbackSettingsPanel.updateQualityPanel("low",!1))}catch(ka){}else e.config.saveData&&(e.updateQuality("low"),e.ui.playbackSettingsPanel&&e.ui.playbackSettingsPanel.updateQualityPanel("low",!1))}(t),aa.filter(i)){var n=i.connections[0];n?(function(t,i){"unknown"===t.elType&&(t.elType=t.mediaPlayer.localName||"unknown");if(i!=t.elType&&t.autoPlayNextItem&&!t.willAutoplayWhenPlayCalled[i]&&!b.supportsAutoplay)return t.autoPlayNextItem=!1,t.tryingToPlay=!1,t.autoPlayNextItem=!1,t.mediaItemIndex=-1,t.dispatch({type:"resetUiToPlaylistLoaded"}),!1;if(t.elType=i,t.mediaPlayer.autoplay=!1,t.mediaPlayer.loop=!1,"audio"===i||"video"===i||"360"===i)return t.selectMediaPlayer(i),t.mediaPlayer.autoplay=!b.supportsAutoplay,!0;t.tryingToPlay=!1,t.autoPlayNextItem=!1,e;return eu(t,"audio"),eu(t,"video"),ue.delayedErrorFunction(t,v.CONTENT_NOT_AV),!1}(t,i.type)&&(t.mediaPlayer.currentSrc!==n.href?t.mediaSrc(n.href):t.mediaPlayer.load()),t.failedOver=!1,t.timeHelper.reset(),t.clearFakeTimer(),t.mediaPlayer.loop=t.config.loop,t.mediaPlayer.title=t.playlist.title,ue.asyncDelay(pu,[t,!t.config.disablePreload])):ue.checkNotAvailableReason(t,i)&&uu(t,i)}else ue.checkNotAvailableReason(t,i)&&uu(t,i)}function Cu(e,t,i,n,a){var o={autoplay:t};n&&((o=n).autoplay=t),e.resetStatsObject(),e.updateConfig(o),e.loadPlaylist(i,!0,a),o.webcastData&&e.api.setData({name:"SMP.webcastData",data:o.webcastData})}function Su(e,t){e.playlist.queuedPlaylist&&Cu(e,t,e.playlist.queuedPlaylist,e.playlist.queuedOptions,!0)}function Tu(e,t){e.playlist.previousPlaylist&&Cu(e,t,e.playlist.previousPlaylist,e.playlist.previousOptions,!0)}var Pu={tryingToPlay:function(e){var t=e._;t.playingState="playing",t.dispatch({type:"playingState"})},play:function(e){var t=e._,i=ku(e.target,t);t.waitingForChange[i]||(t.playingState="playing",t.dispatch({type:"playingState"}))},notPlayingState:function(e){e._.playingState="notplaying"},durationchange:function(e){var t=e._,i=ku(e.target,t);if(!t.waitingForChange[i]){var n=t.duration;n>1&&(t._duration=n),t.timeHelper.update(NaN,n)}},canplay:function(e){var t=e._;clearTimeout(t.noCanplayEventTimeout);var i=ku(e.target,t);if(t.failingOver&&(t.failingOver=!1,t.streamFailing=!1),t.needHlsStartTime=!1,t.mediaItem&&(!t.waitingForChange[i]&&t.mediaItem&&(t.mediaItem.live&&t.config.supportLiveRewindOnMobile&&t.mediaItem&&t.ui.config.controls.enableLiveRewind&&(t.isPlayingDash||(b.useStartDateInHls&&t.mediaPlayer.getStartDate&&t.mediaPlayer.getStartDate()?t.mediaItem._startTime||(t.isUsingGetStartDate=!0,t.mediaItem._startTime=new Date(t.mediaPlayer.getStartDate()).valueOf()/1e3,t.timeHelper.setStartTimeAvailable(!0),t.ui.checkIfCanDisplaySeekBar()):(t.needHlsStartTime=!0,t.mediaItem.getRewindWindow(function(){t.timeHelper.setStartTimeAvailable(!0),t.ui.checkIfCanDisplaySeekBar()})))),!t.waitingForStartTime||t.needHlsStartTime||!t.timeHelper.startTimeAvailable&&t.mediaItem.live||(t.isPlayingDash||(t.time=t.waitingForStartTime),t.waitingForStartTime=0,t.config.oldStartTime=t.config.startTime,t.config.startTime=0),b.supportsAutoplay&&t.mediaPlayer.paused&&!t.playCalled&&t.tryingToPlay&&(t.playCalled=!0,t.dispatch({type:"userPlay"}),Zl(t))),!t.autoplayTimeoutRetryAttempted&&!t.config.lowLatencyMode)){var n=1e4*(b.consideredForMobileLiveRewind?2:1),a=function(){if(t.mediaItem)if(t.mediaItem.mediationRequested||t.mediaItem.jwtTokenRequired)t.playingTimer=setTimeout(a,n);else if(t.tryingToPlay&&t.mediaPlayer.paused){if(b.iPhoneOutOfPagePlayback&&t.mediaPlayer.webkitIsFullscreen)return void(t.playingTimer=setTimeout(a,n));ue.delayedErrorFunction(t,v.PLAYING_FAILED_NO_INTENT),t.playbackMightRestartLater[i]=!0,Nu(t)}};clearTimeout(t.playingTimer),t.playingTimer=setTimeout(a,n)}},pause:function(e){var t=e._;t.ended||t.dispatch({type:"notPlayingState"}),e.unwanted||(t.tryingToPlay&&t.dispatch({type:"notPlayingState"}),t.tryingToPlay=!1)},timeupdate:function(e){var t=e._,i=t.time,n=t.duration,a=t.webcastData;if(e.override&&(i=e.time,n=e.duration||n),t.timeHelper.update(i,n),t.mediaPlayer.paused||a&&a.accurateEndTime&&t.timeHelper.time>a.accurateEndTime&&(t.pause(),t.dispatch({type:t.mediaItem.live?"playlistStopped":"ended",fakeEnded:!0}),t.timeHelper.restartedWebcast=!0),b.requiresFakeEnded&&n>1&&i>=n&&t.delayedDispatch({type:"ended",fakeEnded:!0}),!t.paused&&!e.unwanted)for(var o=0;o<t.pauseTimes.length;o++)i>=t.pauseTimes[o]&&i<t.pauseTimes[o]+.33&&(t.mediaPlayer.pause(),t.pauseTimes.splice(o,1))},seeking:function(e){var t=e._,i=t.time,n=t.timeHelper.checkIfTimeIsAvailable(i,!0);i==n||t.mediaItem&&t.mediaItem.live&&0===t.mediaPlayer.played.length||t.mediaItem&&t.mediaItem.live&&t.mediaPlayer.played.length>0&&0===t.mediaPlayer.played.start(0)||(t.time=n),t.timeHelper.update(n,t.duration)},seeked:function(e){var t=e._;b.requiresFakePlayingEventAfterSeekedWhenDash&&t.isPlayingDash&&!t.mediaPlayer.paused&&t.delayedDispatch({type:"playing",fakePlaying:!0})},ratechange:function(e){var t=e._;t.previousPlaybackRate=t.playbackRate},playing:function(e){var t=e._;t.playingState="playing",t.dispatch({type:"playingState"}),t.waiting=!1,t.mediaEnded=!1,t.playCalled=!1,e.fakePlaying||t.isPlayingDash&&t.isAudio&&b.macSafari&&(t.mediaPlayer.currentTime+=.1);var i=ku(e.target,t);t.willAutoplayWhenPlayCalled[i]=!0,t.mediaPlayer.volume=t.volume,t.mediaPlayer.muted=t.muted,t.state="",clearTimeout(t.playingTimer),t.waitingForChange[i]?e.target.pause():(t.mediaItem.hasSeenPlaying=!0,t.mediaPlayer.autoplay=!1,0===t.pauseTimes[0]&&(t.mediaPlayer.pause(),t.pauseTimes.splice(0,1),e.pausedatzero=!0),t.mediaItem.fake||("360"==t.mediaItem.kind?t.threeSixty.showCanvas():"audio"==t.ui.config.skin||"classic"==t.ui.config.skin&&t.ui.miniModeEnabled?t.mediaPlayer.style.left=T:t.mediaPlayer.style.left="0px"))},ended:function(e){var t=e._;if("ended"!=t.lastEventType&&(t.tryingToPlay=!1,t.playCalled=!1,t.discardPromise=!0,t.mediaPlayer.ended||e.fakeEnded)){var i=t.elType;t.cueNextMediaItem()?(t.autoPlayNextItem="unknown"==t.elType||i===t.elType,t.autoPlayNextItem||t.dispatch({type:"notPlayingState"})):(t.dispatch({type:"notPlayingState"}),e.fakeEnded&&(t.reloadToStart=!0)),t.ui.config.video.displayOnEnded||eu(t,t.elType)}},fullscreenEnter:function(e){e._.config.allowFakeFullscreenScroll||b.allowFakeFullscreenScroll||document.documentElement.addEventListener("touchmove",ru,{passive:!1}),e._.isFullScreen=!0},fullscreenExit:function(e){e._.config.allowFakeFullscreenScroll||b.allowFakeFullscreenScroll||document.documentElement.removeEventListener("touchmove",ru,{passive:!1}),e._.isFullScreen=!1},playlistLoading:function(e){var t=e._;t.mediaEnded=!1,t.dispatch({type:"notPlayingState"}),t.webcastData=null,t.ui.markerData=[],t.pauseTimes=[],t.inErrorState=!1,t.threeSixtyLoadingFn=null,t.resetAfterOutOfControl=!1,t.timeHelper.reset()},playlistLoaded:function(e){e._.timeHelper.reset()},playlistEnded:function(e){var t=e._;t.mediaEnded=!0,!t.config.noAutomaticNextQueued&&t.queueNextPlaylist(!0)||t.playlist&&t.mediaItem&&(t.timeHelper.restartedWebcast&&t.webcastData?(t.timeHelper.restartedWebcast=!1,t.reloadToStart=!1,t.time=t.webcastData.accurateStartTime||0):(t.resettingIndexInPlaylistEnd=!0,ue.asyncDelay(function(){if(t.resettingIndexInPlaylistEnd&&t.mediaItem.isIdent&&t.playlist.items.length>1){var e=t.playlist.firstProgramme;t.mediaItemIndex=e-1,t.cueNextMediaItem(!0),t.pauseTimes=[0]}})))},playlistStopped:function(e){e._.tryingToPlay=!1},playerDisconnected:function(e){var t=e._;t.inErrorState=!1,t.dispatch({type:"notPlayingState"})},waiting:function(e){var t=e._;return t.waiting=!0,t.endOnWaiting?(t.endOnWaiting=!1,t.reloadToStart=!0,void t.delayedDispatch({type:"ended",fakeEnded:!0})):t.streamFailing?(t.streamFailing=!1,t.tryingToPlay=!1,t.autoPlayNextItem=!1,void(t.tryReconnect?(t.tryReconnect=!1,!1===navigator.onLine?t.startOnlineDetection():t.onlineDetected()):ue.delayedErrorFunction(t,v.LOAD_FAILED_BUFFERING))):void(t.isLive&&(t.targetPlaybackRate>1?Math.abs(t.timeHelper.time-t.timeHelper.latestSeek)<5&&(t.playbackRate=1):t.targetPlaybackRate<1&&t.timeHelper.time<t.timeHelper.earliestSeek+10&&(t.playbackRate=1)))},loadedmetadata:function(e){var t=e._,i=ku(e.target,t);if(t.playlist&&!t.waitingForChange[i]){var n=t.playlist.items[t.mediaItemIndex+1];n&&!t.config.disablePreload&&hu(n,t.mediaItem)&&mu(t,n)}},error:function(e){var t,i=e._,n=e.target,a=!1;if(e.handled){if(e.nonPlayer)return;if(e.code!=v.PLAYING_FAILED_NO_INTENT&&e.severity==c&&i.continueAfterError)return e.severity="error",e.morphed=!0,void ue.asyncDelay(i.cueNextMediaItem,[],i);var o=!1,r=!1,s=i.failedOver?v.NO_ALTERNATIVE_MEDIA_AFTER_FAILOVER:v.NO_ALTERNATIVE_MEDIA,l=i.mediaConnection?i.mediaConnection.supplier:"";switch(e.code){case v.DOWNLOADS_OFTEN_SLOW:s=v.DOWNLOADS_OFTEN_SLOW_FATAL;case v.MPD_GENERIC:case v.MPD_LOAD_FAIL:case v.MPD_PARSE_ERROR:t=!1,o=!(a=!!aa.getAlternateMediaConnections(i,t,l));break;case v.MPD_NO_STREAMS:case v.PLAYING_DASH_WHEN_NOT_SUPPORTED:case v.DASH_EXCEPTION:t=!0,(o=!(a=!!aa.getAlternateMediaConnections(i,t,l)))&&b.supportedFlash&&(o=!1,e._queuedActions.push(function(){ue.delayedErrorFunction(i,v.FLASH_NO_LONGER_AVAILABLE)}));break;case v.INIT_FRAGMENT_LOAD_FAIL:case v.STREAM_FRAGMENT_LOAD_FAIL:if(!i.streamFailing){var u=i.mediaItem.dashAlternates&&i.dashEvents&&!i.config.disableDashBaseUrlFailover&&i.dashEvents.dashFailoversRemaining()>0,d=i.dashEvents.connections.length<i.mediaItem.originalConnections.length;t=!1;var p=!!aa.getAlternateMediaConnections(i,t,l);a=p&&!u,!1===navigator.onLine&&(p||d)?(r=!0,i.tryReconnect=!0,i.streamFailing=!0,i.onlineDetectionStart=(new Date).valueOf()):(i.tryReconnect=!1,i.streamFailing=!a),(o=i.streamFailing&&(i.mediaPlayer.paused||0===i.mediaPlayer.playbackRate||0===i.buffered))&&r&&(o=!1,r=!1,i.startOnlineDetection()),s=v.LOAD_FAILED_BUFFERING,i.dashEvents&&(i.dashEvents.manuallyFailingOver=!0)}break;case v.INIT_FRAGMENT_DOWNLOAD_INFORMATION:case v.FRAGMENT_DOWNLOAD_INFORMATION:i.dashEvents.removedList&&(i.mediaItem.connections=i.mediaItem.connections.filter(function(e){return i.dashEvents.removedList.indexOf(e)<0}),i.dashEvents.removedList=null);break;case v.NO_ALTERNATIVE_MEDIA:case v.NO_ALTERNATIVE_MEDIA_AFTER_FAILOVER:case v.DOWNLOADS_OFTEN_SLOW_FATAL:i.tryingToPlay=!1,i.dashEvents.reset();break;case v.LOAD_FAILED_BUFFERING:case v.CONTENT_NOT_AVAILABLE_PRE_START:case v.PLAYING_FAILED_NO_INTENT:case v.PLAYING_FAILED_PROMISE:case v.PLAYING_STARTED_AFTER_NO_INTENT:case v.STREAM_FRAGMENT_CONTENT_LENGTH_MISMATCH:case v.FRAGMENT_END_DOWNLOAD_INFORMATION:case v.UNHANDLED_INTERNAL_ERROR:case v.DOWNLOAD_WAS_SLOW:case v.DASH_INIT_TIMEOUT:case v.NO_SUPPORTED_CODECS:case v.NO_SUPPORTED_CODECS_FAILOVER:case v.DASH_MEDIASOURCE_ERROR:case v.NETWORK_UNAVAILABLE:break;default:e.severity==c||e.morphed||ue.delayedErrorFunction(i,v.UNHANDLED_INTERNAL_ERROR,e.code)}if(o&&(i.tryingToPlay=!1,i.autoPlayNextItem=!1,ue.delayedErrorFunction(i,s)),a&&!r){var h=i.mediaConnection;h&&i.mediaItem.addFailedConnection(h.supplier),e._queuedActions.push(function(){aa.switchMediaConnection(i,t)||ue.delayedErrorFunction(i,v.NO_ALTERNATIVE_MEDIA_AFTER_FAILOVER)})}else e.severity==c&&(i.tryingToPlay=!1,i.autoPlayNextItem=!1)}else if(n==i.mediaPlayer){var f=ku(n,i);if(i.waitingForChange[f])return e.code||(e.code=i.mediaPlayer.error&&i.mediaPlayer.error.code,e.extra=f+","+i.mediaPlayer.src+","+i.waitingForChange[f],e.severity="w"),void i.qos.reportError(e);var m=i.mediaPlayer.error;if(void 0===e.code&&!m)return;var y=!0,g="unknown";if(m&&void 0!==m.code){if(e.code=m.code,e.connection=i.mediaConnection,m.code==m.MEDIA_ERR_ABORTED&&(g=v.MEDIA_ERR_ABORTED,t=!1,aa.getAlternateMediaConnections(i,t)&&(a=!0,y=!1)),m.code==m.MEDIA_ERR_NETWORK&&(g=v.MEDIA_ERR_NETWORK,t=!1,aa.getAlternateMediaConnections(i,t)&&(a=!0,y=!1)),m.code==m.MEDIA_ERR_DECODE&&(g=v.FORMAT_NOT_DECODED,t=!1,aa.getAlternateMediaConnections(i,t)&&(a=!0,y=!1)),m.code==m.MEDIA_ERR_SRC_NOT_SUPPORTED){if(""===i.mediaPlayer.src||i.mediaPlayer.src===window.location.href)return void 0;t=!0,b.supportsHls&&i.mediaConnection&&"hls"==i.mediaConnection.format&&(t=!1),g=v.FORMAT_NOT_SUITABLE,aa.getAlternateMediaConnections(i,t)&&(a=!0,y=!1)}}else g=v.MEDIA_ERR_WEIRD,y=!1;y&&(i.continueAfterError||(i.tryingToPlay=!1,i.autoPlayNextItem=!1),ue.delayedErrorFunction(i,v.NO_ALTERNATIVE_MEDIA)),"unknown"==g?y&&(g="unknownCritical"):"video"!=f&&(g+=1);var C=new v(g,{connection:e.connection,playerError:m,networkState:i.mediaPlayer.networkState,mediaItem:i.mediaItem});return a&&(C._queuedActions=[function(){aa.switchMediaConnection(i,t)}]),C}}};function ku(e,t){return e==t.els.video?"video":e==t.els.audio?"audio":e==t.els[360]?"360":"unknown"}function wu(e,t){if(e.playlist){var i=e.playlist.items[e.playlist.firstProgramme];if(i&&"360"==i.kind&&e.config.deviceSupports360&&e.threeSixty.fake&&!e.threeSixty.failed)return void e.threeSixty.create(function(){wu(e,t)})}e.state="",e.autoPlayNextItem=!1,e.mediaItemIndex=-1,e.config.autoplay&&e.guidanceOk&&(e.autoPlayNextItem=!0);try{tu(e,t)}catch(Ou){console.error("%cplaylistLoadEvent errored","color:red;background-color:#ccc")}ue.checkForItemsErrors(e,e.playlist)||(e.autoPlayNextItem?e.tryingToPlay||(e.clearFakeTimer(),e.tryingToPlay=!0,e.waitingForStartTime=e.config.startTime,e.cueNextMediaItem()):e.config.autoplay&&e.config.promptGuidanceWhenAutoplay&&(e.mediaPlayer.autoplay=!1,e.guidanceShow(!1)),e.firstPlaylist&&ue.asyncDelay(mt.collectTiming),e.firstPlaylist=!1)}function Eu(t,i){if(ot.isPluginLoading())t.config.autoplay||t.ui.showPoster(),ot.playlistLoadedEvent=i;else{e;var n=t.playlist;n.loading=!1,i.playlist=n,ue.asyncDelay(wu,[t,i]),ot.playlistLoadedEvent=null}}var _u=0,Iu=function(){var e=this;return e.jsapiFunc=function(){},e.threeSixty={fake:!0,failed:!1,showCompass:function(){},hideCompass:function(){},hideCanvas:function(){},showCanvas:function(){},create:function(t){if(e.threeSixtyLoadingFn=t,!e.threeSixty.loading){var i="https://emp.bbc.co.uk/emp/html360Component/1.2.0/html360Component.min.js";e.threeSixty.loading=!0,e.dispatch({type:"loadingThreeSixty"}),ue.loadWithRequire(function(){require([i],function(){for(var t in clearTimeout(e.threeSixtyTimer),e.threeSixty=new ThreeSixty(e),e.threeSixty.eventCallbacks)e.threeSixty.eventCallbacks.hasOwnProperty(t)&&(e.threeSixtyEventCallbacks[t]=e.threeSixty.eventCallbacks[t]);e.threeSixtyLoadingFn()})}),e.threeSixtyTimer=setTimeout(function(){e.threeSixty.failed=!0,e.threeSixty.loading=!1,ue.delayedErrorFunction(e,v.THREE_SIXTY_FAILED),e.threeSixtyLoadingFn&&e.threeSixtyLoadingFn()},3e4)}}},e.threeSixtyEventCallbacks={},e.mediaItemIndex=-1,e._volume=1,e._muted=!1,e.isSeeking=!1,e._state="",e.config=Jl,e.playlist=null,e.els={},e.pauseTimes=[],e.tryingToPlay=!1,e.isFullScreen=!1,e.waitingForChange={video:!1,360:!1,audio:!1},e.uid="player_"+_u++,e.mediaContainer=document.getElementById("mediaContainer"),e.mediaPlayer=e.els.video=e.mediaContainer.firstChild,e.els.video.id="p_v_"+e.uid,e.els.video.setAttribute("aria-hidden",!0),e.els.video.className="p_transform",e.els.audio=document.createElement("audio"),e.els.audio.id="p_a_"+e.uid,e.els.audio.preload="metadata",e.els.audio.setAttribute("aria-hidden",!0),e.els[360]=document.createElement("video"),e.els[360].tabIndex=-1,e.els[360].id="p_360_"+e.uid,e.els[360].preload="metadata",e.els[360].setAttribute("crossorigin","anonymous"),e.els[360].setAttribute("webkit-playsinline","webkit-playsinline"),e.els[360].setAttribute("playsinline","playsinline"),e.els[360].setAttribute("aria-hidden",!0),e.els[360].style.left=S,e.mediaContainer.insertBefore(e.els[360],e.mediaContainer.firstChild),eu(e,"video"),e.els.video.addEventListener("click",ru,!1),e.els[360].addEventListener("click",ru,!1),ue.defineProperties(e,function(e){return{state:{get:function(){return e._state},set:function(t){var i=e._state;if(i!==t&&(e._state=t,"busy"==i&&""===t&&e.actionFnObjAfterWaiting)){var n=e.actionFnObjAfterWaiting;e.actionFnObjAfterWaiting=null,n.fn.apply(e,n.args||[])}}},mediaItem:{get:function(){return e.playlist&&e.playlist.items?e.playlist.items[e.mediaItemIndex]:null}},isPlayingFake:{get:function(){return e.mediaItem&&e.mediaItem.fake}},isPlaying360:{get:function(){return e.mediaItem&&"360"==e.mediaItem.kind}},isNextItemPlayable:{get:function(){return!!e.playlist&&null!=e.playlist.getNextItem(Math.max(e.mediaItemIndex,0))}},continueAfterError:{get:function(){if(e.playlist){if(null!=e.playlist.getNextItem(Math.max(e.mediaItemIndex,0)))return!0;if(e.playlist.queuedPlaylist&&e.mediaItem&&e.mediaItem.failSilent)return!0}return!1}},shouldReport:{get:function(){return e.mediaItem&&!e.mediaItem.isIdentOrWarning}},mediaConnection:{get:function(){var t=e.mediaItem;return(t&&t.connections?t.connections:[])[0]}},isPlayingDash:{get:function(){var t=e.mediaConnection;return t&&"dash"===t.format}},isPlayingHls:{get:function(){var t=e.mediaConnection;return t&&"hls"===t.format}},ignorePto:{get:function(){var t=e.mediaItem;return!(!t||t.live)}},time:{get:function(){var t=parseFloat(e.mediaPlayer.currentTime+(e.ignorePto?0:e.timeHelper.presentationTimeOffset));return t=e.timeHelper.streamTimeToUnixTime(t),isNaN(t)?0:t},set:function(t){if(!e.outOfControl&&!e.inErrorState)if(e.mediaItem){if(e.timeHelper.canSeek()){var i=function(){t=e.timeHelper.checkIfTimeIsAvailable(t),(t=e.timeHelper.unixTimeToStreamTime(t))==e.timeHelper.latestSeek&&(t-=.001);var i=e.mediaPlayer,n=parseFloat(i.currentTime)||0;if(e.ignorePto||(t-=e.timeHelper.presentationTimeOffset),e.mediaItem&&e.mediaItem.fake)e.dispatch({type:"seekRequested",time:t},!0);else{try{i.currentTime=t}catch(Ou){try{i.currentTime=n}catch(a){}}e.timeHelper.update(e.time,e.duration),e.timeHelper.forcedTime=null}},n=e.timeHelper;!e.Chromecast.isCasting&&e.isPlayingDash&&e.dashEvents.isLiveWebcast&&n.latestSeek-t<90&&t>e.mediaPlayer.currentTime?(e.timeHelper.forcedTime=n.latestSeek,e.dashEvents.refreshManifest(i)):i()}}else e.config.startTime=t}},playbackRate:{get:function(){return e.mediaPlayer.playbackRate},set:function(t){e.targetPlaybackRate=t,e.mediaPlayer.defaultPlaybackRate=t,e.isPlayingDash?e.dashEvents.dashPlayer.setPlaybackRate(e.targetPlaybackRate):e.mediaPlayer.playbackRate=t}},duration:{get:function(){var t=e.mediaItem;if(!t)return 0;var i=0;return t.fake&&(i=t.duration),(i=e.isLive?1/0:parseFloat(e.mediaPlayer.duration))<1&&(i=e._duration),isNaN(i)?0:i}},isLive:{get:function(){var t=e.mediaItem;return!!t&&t.live}},isAudio:{get:function(){var t=e.mediaItem;return!!t&&"audio"==t.type}},isThreeSixty:{get:function(){var t=e.mediaItem;return!!t&&"360"==t.type}},playlistHasAudio:{get:function(){var t=[];e.playlist&&e.playlist.items&&(t=e.playlist.items);for(var i=0;i<t.length;i++)if("audio"==t[i].type)return!0;return!1}},buffered:{get:function(){var t=e.timeHelper.presentationTimeOffset,i=e.mediaPlayer,n=i.buffered;if(!n)return 0;for(var a=0;a<n.length;a++){var o=n.start(a)+t,r=n.end(a)+t;if(o<=i.currentTime+t&&i.currentTime+t<r)return r}return 0}},seekable:{get:function(){var t=e.mediaPlayer.seekable;if(!t)return{start:0,end:0};for(var i=1/0,n=0,a=0;a<t.length;a++)t.start(a)<i&&(i=t.start(a)),t.end(a)>n&&(n=t.end(a));return{start:i,end:n}}},paused:{get:function(){return e.mediaPlayer.paused}},ended:{get:function(){return e.mediaPlayer.ended}},volume:{get:function(){return e._volume},set:function(t){t>1&&(t=1),t<0&&(t=0),0===t?e.muted=!0:e._volume!=t&&(e._volume=t,e.mediaPlayer?(e.mediaPlayer.volume=e._volume,e.mediaPlayer.muted=!1,e._muted=!1):(e._volume=t,e._muted=!1,e.dispatch({type:"volumechange",volume:e._volume,muted:e._muted})))}},muted:{get:function(){return e._muted},set:function(t){!0!==t&&!1!==t||t==e._muted||(e._muted=t,e.mediaPlayer&&e.willAutoplayWhenPlayCalled[ku(e.mediaPlayer,e)]?e.mediaPlayer.muted=e._muted:e.dispatch({type:"volumechange",volume:e._volume,muted:e._muted}))}},guidanceOk:{get:function(){return e.hasGuidancePassed||!e.playlist||""===e.playlist.guidance||!e.ui.config.guidance.pinRequired}},version:{get:function(){return"2.61.3.SMPHTML5"}},build:{get:function(){return"2.61.3"+Ql+(zl?".x":"")}},hasGuidancePassed:{get:function(){var t=e.config.guidance;return(t.guidanceSkipped||t.guidancePINPassed)&&!t.isGuidanceLocked&&(!e.config.under16||e.config.under16&&e.under16permissionConfirmed)}},under16permissionConfirmed:{get:function(){return e.config.guidance.under16permissionConfirmed}},consideredMobileConnection:{get:function(){return!(!e.config.mobileNetwork||navigator.connection&&"4g"==navigator.connection.effectiveType)}},ratio:{get:function(){var t=e.mediaPlayer.videoHeight/e.mediaPlayer.videoWidth;return isNaN(t)&&(t=9/16),t}},quality:{get:function(){return e._quality},set:function(t){e._quality=t,e.dashEvents.applyQuality()}},hasNext:{get:function(){return e.isNextItemPlayable||e.playlist&&e.playlist.queuedPlaylist}},hasPrevious:{get:function(){return e.playlist&&(null!=e.playlist.getPreviousItemIndex(e.mediaItemIndex)||e.playlist.previousPlaylist)}}}}(e)),e};function Au(t,i,n){if(t._preloadMediaItem){var a=v.getError(n);e,t._preloadMediaItem.storedErrors||(t._preloadMediaItem.storedErrors=[]),a.stored=!0,console.log("stored errors pushing:",a),t._preloadMediaItem.storedErrors.push(a),"critical"!==a.severity&&"error"!==a.severity||(t.reset(),i.preloadDashEvents==t?i.preloadDashEvents=null:t._preloadMediaItem.dashEvents=null,t=null)}else ue.callErrorFunction.apply(null,Array.prototype.slice.call(arguments).slice(1))}function Nu(e){e._state="",e.willAutoplayWhenPlayCalled.video=!1,e.willAutoplayWhenPlayCalled.audio=!1,e.willAutoplayWhenPlayCalled[360]=!1,e.tryingToPlay=!1,e.autoPlayNextItem=!1,e.mediaItemIndex=-1,e.autoplayTimeoutRetryAttempted=!0,b.requiresFakePlayEvent=!0,e.dispatch({type:"resetUiToPlaylistLoaded"})}Iu.prototype={init:function(e){var t=e.player.vars,i=e.id;var n=this,a=ue.retrieveCookieConfig(),o=ue.merge(t,a);return n.delayedEmbedFuncs=[],n.playlistCollection={},n.playbackMightRestartLater={},function(e,t){var i;try{i=parent.embeddedMedia.playerInstances[e].getHandleJSAPI()}catch(Ou){i=function(e){xd.fire("jsapi",e)}}t.jsapiFunc=function(e){var t={};for(var n in e){var a=typeof e[n];("object"!=a&&"function"!=a||e.hasOwnProperty(n))&&"_"!=n&&"srcElement"!=n&&"target"!=n&&"currentTarget"!=n&&"path"!=n&&"unwanted"!=n&&(t[n]=e[n])}try{i(t)}catch(Ou){console.error("%cError calling out to page: "+Ou.message,"color:red;background-color:#ccc")}}}(i,n),!o.bitrateCeiling&&(o.mediatorHref+"").indexOf("/mediaset/pc/")>0&&(Jl.bitrateCeiling.plain=1800,n.config.bitrateCeiling.plain=1800),n.updateConfig(o,!0),function(e,t){var i=function(t){e.ignoringFullscreenChanges||(b.isBrowserFullscreen(t)?e.maximise(!0):e.minimise(!0))};e.addedFullscreenListener=!0,b.bindToFullscreenChange(document,i),t&&(b.fullscreenEnabled(document)||(console.log("XXX can't take the iframe fullscreen so disabling button"),e.config.ui.fullscreen={enabled:!1,dblclick:!1}));try{b.bindToFullscreenChange(top.document,i),e.addedFullscreenListenerTop=!0}catch(Ou){}}(n,o.insideIframe),lu(n),n.config.preferPlainOverDash&&b.possiblyPreferPlainOverDash||b.preferHls||!b.supportsAudioDash&&!b.supportsVideoDash||n.config.delayEmbed||n.dashEvents.create(),function(e){if(new RegExp("^((http[s]{0,1}):)?//([^\\?\\&#:/]*)","gi").test(e)){var t=RegExp.$3;if(t){var i=document.createElement("link");i.rel="dns-prefetch",i.href="https://"+t,document.head.appendChild(i)}}}(n.config.mediatorHref),n.throttleAvoider=new ce(n),n.firstPlaylist=!0,tu(n,{type:"initialised",version:n.version}),n},cueNextMediaItem:function(e){var t=this;t.playbackMightRestartLater={},t.mediaItemIndex<0?t.mediaItemIndex=0:t.mediaItemIndex++;var i=t.mediaItem;if(!i){t.mediaItemIndex-=1,t.mediaConnection&&t.mediaPlayer.currentSrc==t.mediaConnection.href&&(t.reloadToStart=!0);var n=!t.config.noAutomaticNextQueued&&t.playlist;return n&&(t.playlist.queuedPlaylist?t.playlist.queuedOptions&&!1===t.playlist.queuedOptions.autoplay&&(n=!1):n=!1),void t.delayedDispatch({type:"playlistEnded",willAutomaticPlayQueuedItem:n})}if("advert"==i.kind)return t.autoPlayNextItem=!0,t.cueNextMediaItem();if(t.reset(!0),t.delayedDispatch(i.changeEvent),t.thumbScrub.newMediaItem(i),t.sentTryingToPlay=!1,e||(t.tryingToPlay=!0,t.delayedDispatch({type:"tryingToPlay"}),t.sentTryingToPlay=!0),"360"!=i.kind||t.config.deviceSupports360){if(!t.Chromecast.isConnected&&!t.Chromecast.loadingMedia)return i.mediationAttempted?(t.autoPlayNextItem=!e,ue.asyncDelay(cu(t),[i]),i):"ad"==i.kind?(t.dispatch({type:"requestAd"}),i):(ue.asyncDelay(du,[t,i,t.consideredMobileConnection,cu(t)]),i);t.Chromecast.loadMedia()}else ue.delayedErrorFunction(t,v.DEVICE_NOT_SUPPORTED)},mediaSrc:function(t){var i,n=this,a=n.mediaItem.connections[0];if(tu(n,{type:"changingsrc",supplier:a.supplier,encoding:a.encoding,format:a.format}),n.streamFailing=!1,n.isPlayingDash)if(n.isAudio?b.supportsAudioDash:b.supportsVideoDash){var o=n.preloadDashEvents||n.mediaItem.dashEvents;if(o){e,n.dashEvents.reset(),n.dashEvents=o;if(o.dashPlayer.updateSettings({streaming:{stableBufferTime:12,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60}}),n.preloadDashEvents=null,n.mediaItem.dashEvents=null,o._preloadMediaItem)var r=o._preloadMediaItem.playStartTime;o._preloadMediaItem=null,n.dashEvents.setErrorHandler(Au),i=ku(n.mediaPlayer,n),n.waitingForChange[i]=!1,n.dashEvents.setMediaElement(n.mediaPlayer),r&&(n.mediaPlayer.currentTime=r)}else n.dashEvents.create(),n.dashEvents.reset(),n.dashEvents.setErrorHandler(Au),n.dashEvents.setMediaElement(n.mediaPlayer),n.dashEvents.setSrc(n.mediaItem.connections);if(n.mediaItem.storedErrors){for(var s=0;s<n.mediaItem.storedErrors.length;s++){var l=n.mediaItem.storedErrors[s];console.log("stored errors sending:",l),n.qos.reportError(l)}n.mediaItem.storedErrors=null}n.dashEvents.applyQuality()}else aa.getAlternateMediaConnections(n,!0)||(n.tryingToPlay=!1,n.autoPlayNextItem=!1,ue.callErrorFunction(n,v.PLAYING_DASH_WHEN_NOT_SUPPORTED));else{if(n.dashEvents.resetSrc(),i=ku(n.mediaPlayer,n),n.waitingForChange[i]=!1,n.mediaPlayer.src=t,n.mediaPlayer.load(),b.cannotDetectAutoplayFailure){e,clearTimeout(n.noCanplayEventTimeout),n.noCanplayEventTimeout=setTimeout(function(){Nu(n)},2e4)}b.requiresFakePlayEvent&&Zl(n),n._duration=0}},startPlayback:function(e){var t=this;if(!t.outOfControl&&!t.inErrorState&&!t.tryingToPlay&&t.playlist){t.clearFakeTimer(),t.tryingToPlay=!0,t.playCalled=!1,t.actionFnObjAfterWaiting=null,t.state="busy";var i=t.playlist;if(e||!i||t.Chromecast.isConnected||su(t,i.mediaType),t.waitingForStartTime=isNaN(t.config.startTime)?0:t.config.startTime,-1==t.mediaItemIndex&&i&&i.items.length>0)t.cueNextMediaItem()&&(t.autoPlayNextItem=!0);else{if(t.mediaItem&&t.mediaItem.fake)return t.state="",eu(t,"audio"),eu(t,"video"),eu(t,"360"),void(t.tryingToPlay=!0);var n=t.mediaPlayer;if(t.reloadToStart)return t.reloadToStart=!1,n.load(),t.mediaItem&&(t.mediaItem.gotWindow=!1),t.mediaItemIndex=t.mediaItemIndex-1,void(t.cueNextMediaItem()&&(t.autoPlayNextItem=!0));if(b.requiresRestartAdjustmentAtEnd&&n.currentTime==n.duration&&(n.currentTime=.1),t.sentTryingToPlay||t.dispatch({type:"tryingToPlay"}),!t.Chromecast.isConnected)return t.mediaConnection?Zl(t):(t.tryingToPlay=!0,t.autoPlayNextItem=!0,ue.asyncDelay(bu,[t])),!0;t.Chromecast.isCasting&&t.Chromecast.isMediaLoaded?t.Chromecast.play():t.Chromecast.loadMedia()}}},previous:function(e){var t=this,i=e||!t.ui.inPrePlayState,n=t.playlist.getPreviousItemIndex(t.mediaItemIndex);null!=n?(t.mediaItemIndex=n-1,t.cueNextMediaItem(!i)):t.queuePreviousPlaylist(i),t.dispatch({type:"previousRequested"})},next:function(e){var t=this,i=e||!t.ui.inPrePlayState;t.isNextItemPlayable?(t.mediaItemIndex<0&&(t.mediaItemIndex=0),t.cueNextMediaItem(!i)):t.queueNextPlaylist(i),t.dispatch({type:"nextRequested"})},pause:function(){var t=this;if("busy"!=t.state){if(t.mediaItem&&t.mediaItem.fake)return console.log("FAKE asked to pause"),t.dispatch({type:"notPlayingState"}),void t.dispatch({type:"pauseRequested"});if(!t.timeHelper.canSeek())return t.dispatch({type:"pause"}),void t.stop();e,(t.tryingToPlay||t.mediaPlayer.paused)&&t.dispatch({type:"notPlayingState"}),t.tryingToPlay=!1,t.autoPlayNextItem=!1,t.mediaPlayer.pause(),t.timeHelper.hasRewindWindow()&&(t.clearFakeTimer(),t.fakeTimeupdateTimer=setInterval(function(){tu(t,{type:"timeupdate",fake:!0})},1e3))}else t.actionFnObjAfterWaiting={fn:t.pause,args:null}},seekToPercent:function(e){var t=this.timeHelper.percentToTime(e);this.time=t},seekForward:function(e){this.time+=e},seekBackward:function(e){this.time-=e},suspend:function(){var e=this;e.mediaItem&&(e.pause(),ue.asyncDelay(e.stop,[],e))},stop:function(){var e=this;e.tryingToPlay=!1,e.autoPlayNextItem=!1,e.waitingForChange[e.elType]=!1,e.reloadToStart=!0,e.clearFakeTimer(),e.timeHelper.reset(),e.timeHelper.setStartTimeAvailable(!1),e.destroying?tu(e,{type:"playerDestroying"}):tu(e,{type:"playerDisconnected"}),eu(e,e.elType,!0),e.dashEvents.reset()},hidePlayer:function(e,t){e||(e=this.elType),eu(this,e,t)},toggleFullscreen:function(){var e=this;e.isFullScreen?e.minimise():e.maximise()},selectMediaPlayer:function(e){var t=this;t.mediaPlayer=t.els[e],t.mediaPlayer.volume=t.volume,t.mediaPlayer.muted=t.muted,t.mediaPlayer.playbackRate=t.targetPlaybackRate,t.mediaPlayer.defaultPlaybackRate=t.targetPlaybackRate,t.els[e].parentNode||t.mediaContainer.insertBefore(t.els[e],t.mediaContainer.firstChild),"video"!==e&&eu(t,"video"),"audio"!==e&&eu(t,"audio"),"360"!==e&&eu(t,"360")},maximise:function(e){var t=this;t.ui.enabled=!1,setTimeout(function(){t.ui.enabled=!0},2e3),t.ignoringFullscreenChanges=!0,setTimeout(function(){t.ignoringFullscreenChanges=!1},400);!t.isFullScreen&&t.ui.config.fullscreen.enabled&&(e?tu(t,{type:"beforeFullscreenEnter"}):b.fullscreenEnabled(document)?(t.pageFullScreenStylesNeeded=b.requiresPageFullScreenStyles,tu(t,{type:"beforeFullscreenEnter",applyPageFullScreen:t.pageFullScreenStylesNeeded}),b.requestFullscreen(document.documentElement),t.iframeFullscreen=!0):(t.pageFullScreenStylesNeeded=!0,tu(t,{type:"beforeFullscreenEnter",applyPageFullScreen:t.pageFullScreenStylesNeeded}),b.requiresFullscreenResizeDelay&&(t.mediaContainer.style.height="0px",t.mediaContainer.style.width="0px"),t.addedFullscreenListenerTop&&b.fullscreenEnabled(top.document)&&b.requestFullscreen(top.document.documentElement)),tu(t,{type:"fullscreenEnter"}))},minimise:function(e){var t=this;if(t.isFullScreen){t.ui.enabled=!1,t.ignoringFullscreenChanges=!0,setTimeout(function(){t.ignoringFullscreenChanges=!1},400);var i=function(){tu(t,{type:"beforeFullscreenExit",applyPageFullScreen:t.pageFullScreenStylesNeeded}),t.pageFullScreenStylesNeeded=!1,t.els.video.style.height="",t.els.video.style.top="",b.requiresFullscreenResizeDelay?(t.mediaContainer.style.height="0px",t.mediaContainer.style.width="0px",clearTimeout(t.fsTimeout),t.fsTimeout=setTimeout(function(){t.mediaContainer.style.height="",t.mediaContainer.style.width=""},500)):(t.mediaContainer.style.height="",t.mediaContainer.style.width="")};e?i():b.fullscreenEnabled(document)?(i(),b.exitFullscreen(document),t.iframeFullscreen=!1):(i(),t.addedFullscreenListenerTop&&b.fullscreenEnabled(top.document)&&b.exitFullscreen(top.document)),tu(t,{type:"fullscreenExit"}),setTimeout(function(){t.ui.enabled=!0,t.ui.pGuidance.nowShowing&&(t.mediaContainer.clientWidth<400||t.mediaContainer.clientHeight<400)&&(t.ui.pGuidance.close(),t.guidanceShow(!1))},500)}},playWithPromise:function(){Zl(this)},requestGuidanceAndPlay:function(e){var t=this;if(t.guidanceOk){for(!e&&t.ui.inPrePlayState&&t.dispatch({type:"userPlay"});t.delayedEmbedFuncs.length>0;)t.delayedEmbedFuncs.pop()();return t.dispatch({type:"playRequested"},!0),void t.startPlayback(e)}t.mediaPlayer.autoplay=!1,t.guidanceShow(!1)},guidanceShow:function(e){var t=this;tu(t,{type:"guidanceShown"});var i={type:"guidanceShow",guidance:t.playlist.guidance,title:t.playlist.title,lockClicked:e};t.mediaContainer.clientWidth<400||t.mediaContainer.clientHeight<400||!t.ui.config.useInPlayerGuidance?(t.iframeFullscreen&&t.minimise(),tu(t,i)):t.ui.pGuidance.showInPlayerGuidance(i,t.mediaContainer)},loadPlaylistUrl:function(e,t){var i=this;ue.isValidUrl(e)?i.loadingPlaylistURL==e&&i.playlist.loading||i.loadPlaylist(e,t):ue.callErrorFunction(i,v.NON_BBC_PLAYLIST)},loadPlaylistObject:function(e,t){this.loadPlaylist(e,t)},loadPlaylist:function(e,t,i){var n=this,a=e,o=null,r=!1;"object"==typeof e?(a="playlist_"+Kl++,o=e,r=!0):(e+"").match(/(^[a-zA-Z]+\:)?\/\//)&&(r=!0),n.loadingPlaylistURL=a,tu(n,{type:"playlistLoading",url:a,statsObject:n.config.statsObject}),n.reset(i),n.actionFnObjAfterWaiting=null,n.state="busy",r?(!function(e,t,i,n){var a,o={type:"playlistLoaded",url:t,fromQueue:n},r=function(t){a.noItemsReason="ErrorLoadingPlaylist",e.playlist.loading=!1,ot.isPluginLoading(o)||tu(e,o),tu(e,t)};a=e.playlist=new oo(t,function(){!a.embedRight&&e.ui&&!0===e.ui.config.embedded.enabled?r(v.getError(v.EMBED_NOT_ALLOWED)):e.loadingPlaylistURL==t&&(e.config.ondemandWebcastData&&function(e,t){if(t.items){var i=t.items[0],n={},a=!1;i&&(i.in&&(n.accurateStartTime=i.in,(!e.config.startTime||e.config.startTime<i.in)&&(e.config.startTime=i.in),a=!0),i.out&&(n.accurateStartTime||(n.accurateStartTime=0),n.accurateStartTime>i.out||(n.accurateEndTime=i.out,a=!0)),a&&e.api.setData({name:"SMP.webcastData",data:n}))}}(e,i),Eu(e,o))},r,i,e.config),e.mediationIndex=0,e._queueOptions&&(e.setQueuedItem(e._queueOptions),e._queueOptions=null)}(n,a,o,i),t?n.willAutoplayWhenPlayCalled[n.playlist.mediaType]||b.notWorthTryingAutoplay&&(n.config.autoplay=!1):n.config.autoplay&&(su(n,n.playlist.mediaType),n.dispatch({type:"playRequested"},!0))):(n.delayedDispatch(v.getError(v.NO_ITEMS)),ue.asyncDelay(function(){n.loadingPlaylistURL===a&&tu(n,{type:"playlistLoaded",url:a,fromQueue:i,playlist:e})})),i||n.unsetGuidanceSkippedIfUnder16()},reset:function(e){var t=this;t.qos.playerUnloading(),t.resettingIndexInPlaylistEnd=!1,t.streamFailing=!1,t.autoplayTimeoutRetryAttempted=!1,t.failingOver=!1,t.failedOver=!1,t.inErrorState=!1,t.reloadToStart=!1,t.endOnWaiting=!1,t.clearFakeTimer(),clearTimeout(t.playingTimer),eu(t,t.elType,!0),t.mediaPlayer.playbackRate=t.targetPlaybackRate,t.dashEvents.reset(),t.elType="unknown",t.tryingToPlay=!1,t.timeHelper.reset(),ue.clearPendingReqs(),e||t.preloadDashEvents&&(t.preloadDashEvents.reset(),t.preloadDashEvents=null),t.preloadCallback&&(t.timeHelper.clearPlaybackTimeout(t.preloadCallback),t.preloadCallback=null),clearTimeout(t.noCanplayEventTimeout)},playWithUserCheck:function(e){var t=this;e&&t.playlist&&!t.willAutoplayWhenPlayCalled[t.playlist.mediaType]&&b.notWorthTryingAutoplay||t.requestGuidanceAndPlay(e)},queueNextPlaylist:function(e){var t=this;return!(!t.playlist||!t.playlist.queuedPlaylist)&&(ue.asyncDelay(Su,[t,e]),!0)},queuePreviousPlaylist:function(e){var t=this;return!(!t.playlist||!t.playlist.previousPlaylist)&&(ue.asyncDelay(Tu,[t,e]),!0)},resetStatsObject:function(){var e=this.config.statsObject;e&&(e.parentPID=void 0,e.parentPIDType=void 0,e.episodePID=void 0,e.clipPID=void 0,e.playlistLabels=void 0)},requestAllEvents:function(e){nu[this.uid]||(nu[this.uid]=[]),nu[this.uid].push(e)},pushMediaEventFunctions:function(e){iu[this.uid]||(iu[this.uid]={}),iu[this.uid].callbacks||(iu[this.uid].callbacks=[]),iu[this.uid].callbacks.push(e)},trackAction:function(e,t,i){this.dispatch({type:"SonarUserActionEvent",controlId:e,actionType:t,labels:i})},dispatch:function(e,t){tu(this,e,t)},delayedDispatch:function(e,t){ue.asyncDelay(tu,[this,e,t])},clearFakeTimer:function(){var e=this;e.fakeTimeupdateTimer&&(clearInterval(e.fakeTimeupdateTimer),e.fakeTimeupdateTimer=null)},onAdsProcessed:function(e){aa.onAdsProcessed(this.mediaItem,e),bu(this)},captureIntent:function(e){"audio"!==e&&(e="video"),su(this,e)},updateConfig:function(e,t,i){var n=this,a=n.config.uiClass,o={};if(e.counterName!==n.config.counterName&&(t||tu(n,{type:"statsConfigChanged",counterName:e.counterName})),void 0===e.continuousPlay||e.continuousPlay===n.config.continuousPlay||t||(this.dispatch({type:"continuousPlayChange",status:e.continuousPlay}),o.continuousPlay=e.continuousPlay),n.config=ue.merge(n.config,e),n.config.suppressItemKind&&n.config.suppressItemKind.length&&"string"==typeof n.config.suppressItemKind&&(n.config.suppressItemKind=n.config.suppressItemKind.replace(/\s+/gim,"").split(",")),n.config.noTracking&&(n.config.enableStatsReporting=!1,n.config.enableRdotReporting=!1),"false"==n.config.autoplay&&(n.config.autoplay=!1),n.config.forceAutoplayAttempt&&(n.willAutoplayWhenPlayCalled={video:!0,audio:!0}),n.config.uiClass&&n.config.uiClass!=a&&ue.className(document.body,n.config.uiClass,a),n.config.startTime=n.config.startTime||0,!n.config.preferProtocol){var r=n.config.preferHttpsPercentage;(isNaN(r)||r<0||r>1)&&(r=0),Math.random()<=r?n.config.preferProtocol="https":n.config.preferProtocol="https:"===(location.protocol+"").toLowerCase()?"https":"http"}aa.setConfig(n.config),$l=n.config.liveEnvironment?Yl:Xl,t||tu(n,{type:"configUpdated"}),t||i||ue.isObjectEmpty(o)||tu(n,{type:"configFromPlayer",config:o})},fixSize:function(e){var t=this,i=document.getElementsByTagName("html")[0];i.style.backgroundColor="black",clearTimeout(t.resizeTimer),!e&&b.requiresFullscreenResizeDelay?(t.ui.enabled=!1,ot.resizeFix(),t.Subtitles.resizeFix(),t.mediaContainer.style.width="0px",t.mediaContainer.style.height="0px",t.resizeTimer=setTimeout(function(){var e=window.innerHeight,n=window.innerWidth;t.ui.enabled=!0,t.mediaContainer.style.height=e+"px",t.mediaContainer.style.width=n+"px",ot.resizeFixEnd(),ue.deleteCssRules(t.ui.stylesheet,[".fullscreen #p_playerControls"]);var a=Math.round(t.ratio*n);if(a>e&&(a=e),n>e&&t.ui.controls){var o=.015625*n,r=Math.round((e-a)/2+a-o),s=t.ui.stylesheet.cssRules.length;t.ui.stylesheet.insertRule(".fullscreen #p_playerControls { top: "+(r-t.ui.controls.clientHeight)+"px; }",s)}t.els.video.style.height=a+"px",t.els.video.style.top=Math.round((window.innerHeight-a)/2)+"px",t.ui.resizeFixEnd(window.innerWidth),ot.resizeFixComplete(),t.dashEvents.updatePortalSize(),i.style.backgroundColor="transparent"},b.requiresShortFullscreenResizeDelay?200:1e3)):(t.ui.enabled=!0,ot.resizeFixEnd(),t.ui.resizeFixEnd(window.innerWidth),t.ui.displayCover(),ot.resizeFixComplete(),t.dashEvents.updatePortalSize(),i.style.backgroundColor="transparent"),t.dispatch({type:"fixSize"})},loadPluginCompleted:function(e){Eu(this,e)},setProtectionData:function(e){var t=this;t.storedProtectionData=e,t.dashEvents&&t.dashEvents.src&&t.dashEvents.dashPlayer&&t.dashEvents.go()},addToPlaylistCollection:function(e){if(e.playlist&&e.playlist.id){var t=e.playlist.id;if(!this.playlistCollection[t])return this.playlistCollection[t]=e,!0}return!1},preloadFromCollection:function(e){var t=this;if(t.playlistCollection[e]){var i=t.playlistCollection[e];if(i.playlist.items&&i.playlist.items[0]&&"advert"!==i.playlist.items[0].kind){if(i.playlist.items[0].createdItem)return!1;var n=oo.prototype.createMediaItem(i.playlist,0,t.config);n.mediationAttempted,i.playlist.items[0].createdItem=n,n.playStartTime=i.options&&i.options.startTime||i.playlist.items[0].in,du(t,n,t.consideredMobileConnection,cu(t,!0,!0))}return!0}return!1},loadPlaylistFromCollection:function(e,t){var i=this;if(i.playlistCollection[e]){var n=i.playlistCollection[e];return Cu(i,t,n.playlist,n.options,!1),n.playlist&&n.playlist.items&&n.playlist.items[0]&&(n.playlist.items[0].createdItem=null),!0}return!1},setQueuedItem:function(e){var t=this;t.playlist.queuedPlaylist=e.playlist,t.playlist.queuedOptions=e.options,(t.ended||t.playing||t.playlist.queuedOptions&&t.playlist.queuedOptions.preloadImmediately)&&ue.asyncDelay(pu,[t,!t.config.disablePreload]),t.dispatch({type:"playlistsChanged"})},setPreviousItem:function(e){var t=this;e||(e={}),t.playlist.previousPlaylist=e.playlist,t.playlist.previousOptions=e.options,t.dispatch({type:"playlistsChanged"})},unsetGuidanceSkippedIfUnder16:function(){var e=this;e.config.under16&&(e.config.guidance.hasGuidancePIN||e.dispatch({type:"setGuidanceSkipped",skipped:!1}),e.dispatch({type:"setUnder16Permission",hasPermission:!1}))},updateQuality:function(e){this.updateConfig(e),e.lowBandwidth&&(e.quality="low"),this.quality=new oa(e.quality)}},window.validDomains="bbc.co.uk,bbc.com,bbcconnectedstudio.co.uk,metabroadcast.com,bbcnewshq.com,twofourstaging.net,codeandtheory.net,thespace.org,plateau.com,bbcstore.com,microbit.co.uk,bbcarchdev.net,acropolis.org.uk,audiencesportal.co.uk,thirteenlostyears.co.uk,bbc-massive.com,britbox.com,bbcomtraining.co.uk,bbcrewind.co.uk,gomolearning.com,newslabs.co,bbcnewslabs.co.uk,bbccreative.co.uk,api.bbci.co.uk,csod.com,bbcmediaactionilearn.com,bbcnitechops.co.uk,bbcnireland.co.uk,bbcverticals.com,gomocentral.com,riddle.com,bbcrussian.com,bbcnewsawards.co.uk,era.org.uk,labs.bbc,bbctest01.uk,bbcx.uicentric.net,bbcx-internal.com,bbc-storyworks.com".split(","),window.validWholeDomains="bbcmediaaction1.sharepoint.com,ne-scorm.365.systems,ne-lms.365.systems,bbcnews.uat.awardsengine.com,era.brightminded.com,era.org.uk,bbcrewind.co.uk".split(",");try{for(var Lu=["bbc.co.uk","bbc.com","britbox.com","bbcrewind.co.uk","bbcconnectedstudio.co.uk","labs.bbc"],Bu=0;Bu<Lu.length;Bu++){var xu=Lu[Bu];-1!==location.host.indexOf(xu)&&(document.domain=xu)}}catch(Ou){}document.addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation()}),document.addEventListener("drop",function(e){e.preventDefault(),e.stopPropagation()}),window.xd=new t,window.bootstrap=function(e){xd.detach("bootstrap"),window.bbcRequireMap=e.requireMap||{},window.publicApi=new Iu,Ye.player(window.publicApi),window.publicApi.init(e)},xd.on("bootstrap",window.bootstrap)}();

</script>
<style></style><link rel="dns-prefetch" href="https://open.live.bbc.co.uk/"></head><body class="font-family-sans nonPointerFocus classicUI svg displayCover video cta" style="cursor: default;">
<div id="p_background"></div>
<div id="p_alert" role="alert"></div>
<div id="mediaContainer" class="mediaContainer controlsFadedOut"><img class="p_holding_image" style="display: block;" srcset="https://ichef.bbci.co.uk/images/ic/320x180/p070k3xn.jpg 320w,https://ichef.bbci.co.uk/images/ic/384x216/p070k3xn.jpg 384w,https://ichef.bbci.co.uk/images/ic/432x243/p070k3xn.jpg 432w,https://ichef.bbci.co.uk/images/ic/480x270/p070k3xn.jpg 480w,https://ichef.bbci.co.uk/images/ic/512x288/p070k3xn.jpg 512w,https://ichef.bbci.co.uk/images/ic/608x342/p070k3xn.jpg 608w,https://ichef.bbci.co.uk/images/ic/640x360/p070k3xn.jpg 640w,https://ichef.bbci.co.uk/images/ic/688x387/p070k3xn.jpg 688w,https://ichef.bbci.co.uk/images/ic/720x405/p070k3xn.jpg 720w,https://ichef.bbci.co.uk/images/ic/768x432/p070k3xn.jpg 768w,https://ichef.bbci.co.uk/images/ic/800x450/p070k3xn.jpg 800w,https://ichef.bbci.co.uk/images/ic/832x468/p070k3xn.jpg 832w,https://ichef.bbci.co.uk/images/ic/976x549/p070k3xn.jpg 976w,https://ichef.bbci.co.uk/images/ic/1024x576/p070k3xn.jpg 1024w,https://ichef.bbci.co.uk/images/ic/1376x774/p070k3xn.jpg 1376w,https://ichef.bbci.co.uk/images/ic/1920x1080/p070k3xn.jpg 1920w" sizes="100vW" src="./p070k3xn.jpg" aria-hidden="true" alt=""><video tabindex="-1" id="p_360_player_0" preload="metadata" crossorigin="anonymous" webkit-playsinline="webkit-playsinline" playsinline="playsinline" aria-hidden="true" style="left: -9999px;"></video><div class="p_gradientLayer"></div><div class="p_gradientBottomfiller"></div><video webkit-playsinline="" playsinline="" preload="metadata" tabindex="-1" id="p_v_player_0" aria-hidden="true" class="p_transform" style="left: -9999px;"></video><ul class="p_contextMenu" style="display: none;"><li><a class="p_contextMenuItem" title="2.61.3">2.61.3</a></li><li><a class="p_contextMenuItem"> <br> </a></li><li><a class="p_contextMenuItem"></a></li><li><a class="p_contextMenuItem"></a></li><li><a class="p_contextMenuItem"></a></li></ul><div aria-live="polite" role="region" class="p_subtitlesContainer" style="width: 0px; height: 0px; margin-left: 0px; margin-top: 0px; opacity: 0.8;"></div><div class="p_spinner" style="display: none; height: 62px; width: 62px; margin-left: -31px; margin-top: -31px; top: 50%; left: 50%;"><canvas height="62" width="62"></canvas></div><button class="p_button p_cta p_hasDuration font-family-sans" style="display: block; visibility: visible;" title="Play GCSE Computer Science - Packet switching" aria-label="Play GCSE Computer Science - Packet switching"><span class="p_hiddenElement">Play</span><span class="p_ctaDuration">03:17</span><div class="p_iconHolder" style="display: block;"><svg focusable="false" viewBox="0 0 44 44" class="p_svg p_ctaIcon p_playIcon"><use xlink:href="#play"></use></svg></div></button><div class="p_accessibleHitArea notInteractiveContent" role="img" aria-hidden="true"></div><div class="p_playerControls" style="display: none; clip: rect(1px, 1px, 1px, 1px);"><div class="p_playerControlBarHolder" style="display: block;"><button class="p_button p_controlBarButton p_playButton" role="button" aria-live="polite" aria-label="Play" title="Play"><span class="p_hiddenElement" aria-hidden="true">Play</span><div class="p_iconHolder" style="display: block;"><svg focusable="false" viewBox="0 0 44 44" class="p_svg  p_playIcon"><use xlink:href="#play"></use></svg></div></button><div class="p_closed p_volumeControls" aria-hidden="false"><div class="p_sliderContainer" tabindex="-1"><div class="p_sliderControls"><div class="p_volumeBarHolder" style="left: 11px;"><div class="p_volumeBar p_beforeVolume"></div></div><div class="p_volumeBarHolder" style="left: 20px;"><div class="p_volumeBar p_beforeVolume"></div></div><div class="p_volumeBarHolder" style="left: 29px;"><div class="p_volumeBar p_beforeVolume"></div></div><div class="p_volumeBarHolder" style="left: 38px;"><div class="p_volumeBar p_beforeVolume"></div></div><div class="p_volumeBarHolder" style="left: 47px;"><div class="p_volumeBar p_beforeVolume"></div></div><div class="p_volumeBarHolder" style="left: 56px;"><div class="p_volumeBar p_beforeVolume"></div></div><div class="p_volumeBarHolder" style="left: 65px;"><div class="p_volumeBar p_beforeVolume"></div></div><div class="p_volumeBarHolder" style="left: 74px;"><div class="p_volumeBar p_selectedVolume"></div></div><div class="p_volumeBarHolder" style="left: 83px;"><div class="p_volumeBar p_afterVolume"></div></div><div class="p_volumeBarHolder" style="left: 92px;"><div class="p_volumeBar p_afterVolume"></div></div><div class="p_volumeBarHolder" style="left: 101px;"><div class="p_volumeBar p_afterVolume"></div></div><div class="p_volumeLevel" aria-hidden="true">8</div></div></div><button class="p_button p_controlBarButton p_volumeButton audio" aria-valuemin="0" aria-valuemax="11" role="slider" aria-valuetext="Volume level 8" aria-valuenow="8" aria-label="Mute" title="Mute"><div class="p_iconHolder" style="display: block;"><svg focusable="false" viewBox="0 0 44 44" class="p_svg  p_audioIcon"><use xlink:href="#audio"></use></svg></div></button></div><div class="p_controlBarFiller" style="width: 733px;"><div class="p_timeDisplay" aria-hidden="true" aria-live="off" aria-role="timer" style="display: block;"><span class="p_time"></span><span class="p_timeSeparator" style="display: none;">/</span><span class="p_time p_duration"></span></div></div><button class="p_button p_controlBarButton p_fullscreenButton" role="button" aria-live="polite" aria-label="Enter full screen" title="Enter full screen"><span class="p_hiddenElement" aria-hidden="true">Enter full screen</span><div class="p_iconHolder"><svg focusable="false" viewBox="0 0 44 44" class="p_svg  p_fullscreen-enterIcon"><use xlink:href="#fullscreen-enter"></use></svg></div></button><button class="p_button p_controlBarButton p_subtitleButton p_dontCloseSettingsPanel" role="button" aria-live="polite" aria-label="Turn subtitles on and open subtitles settings menu" title="Turn subtitles on and open subtitles settings menu"><span class="p_hiddenElement" aria-hidden="true">Turn subtitles on and open subtitles settings menu</span><div class="p_selected_background"><div class="p_selected_indicator"></div></div><div class="p_iconHolder"><svg focusable="false" viewBox="0 0 44 44" class="p_svg  p_accessibilityIcon"><use xlink:href="#accessibility"></use></svg></div></button><div id="p_subtitleSettingsContainer" class="p_dontCloseSettingsPanel"><div class="p_subtitleSettingsMask"></div><div class="p_subtitleSettingsBox"><div class="p_subsToggleLabel">Subtitles</div><div class="p_toggle p_subsToggle" role="checkbox" aria-checked="false" aria-label="Subtitles" tabindex="0"><div class="p_toggleText">OFF</div><div class="p_toggleSlot"><div class="p_toggleSlider"><div class="p_tick"></div></div></div></div><div class="p_sizingButtonsContainer"><button id="p_subtitleSizeButton_useSmallestFontSize" class="p_subtitleSizeButton p_button font-family-sans" disabled="" aria-pressed="false" data-sizename="useSmallestFontSize" aria-label="Use font size: Smallest" data-size="0.5"><div>Aa</div></button><button id="p_subtitleSizeButton_useSmallFontSize" class="p_subtitleSizeButton p_button font-family-sans" disabled="" aria-pressed="false" data-sizename="useSmallFontSize" aria-label="Use font size: Small" data-size="0.6"><div>Aa</div></button><button id="p_subtitleSizeButton_useMediumFontSize" class="p_subtitleSizeButton p_button font-family-sans" disabled="" aria-pressed="true" data-sizename="useMediumFontSize" aria-label="Use font size: Medium" data-size="0.67"><div>Aa</div></button><button id="p_subtitleSizeButton_useLargeFontSize" class="p_subtitleSizeButton p_button font-family-sans" disabled="" aria-pressed="false" data-sizename="useLargeFontSize" aria-label="Use font size: Large" data-size="0.82"><div>Aa</div></button><button id="p_subtitleSizeButton_useLargestFontSize" class="p_subtitleSizeButton p_button font-family-sans" disabled="" aria-pressed="false" data-sizename="useLargestFontSize" aria-label="Use font size: Largest" data-size="1"><div>Aa</div></button></div><div id="p_subtitleSizeIndicator" style="left: 95px; display: block;"></div></div><div class="p_downArrow"></div></div><button class="p_button p_controlBarButton p_playbackSettingsButton p_dontCloseSettingsPanel" role="button" aria-live="polite" aria-label="Open playback settings menu for autoplay and video quality settings" title="Open playback settings menu for autoplay and video quality settings"><span class="p_hiddenElement" aria-hidden="true">Open playback settings menu for autoplay and video quality settings</span><div class="p_iconHolder"><svg focusable="false" viewBox="0 0 44 44" class="p_svg  p_playback-settingsIcon"><use xlink:href="#playback-settings"></use></svg></div></button><div id="p_playbackSettingsContainer" class="p_dontCloseSettingsPanel"><div id="p_playbackSettingsMask"></div><div id="p_playbackSettingsBox"><div id="p_playbackSettingsHeading">Playback settings</div><div id="p_panel1"><div id="p_autoplayRow" class="p_settingsRow"><div id="p_autoplayText" class="p_settingsTextBox"><div id="p_autoplayTitle" class="p_settingsTitle">Autoplay</div><div id="p_autoplaySubtitle" class="p_settingsSubtitle">Play next item automatically</div></div><div id="p_autoplayToggle" class="p_toggle" role="checkbox" aria-checked="false" aria-label="Autoplay. Play next item automatically" tabindex="0"><div class="p_toggleText">OFF</div><div class="p_toggleSlot"><div class="p_toggleSlider"><div class="p_tick"></div></div></div></div></div><div id="p_qualityRow" class="p_settingsRow" aria-label="Video quality. Highest available is currently selected. Open video quality settings" tabindex="0"><div id="p_qualityText" class="p_settingsTextBox"><div id="p_qualityTitle" class="p_settingsTitle"><span>Video quality</span><div id="p_chevronPlaceholder" tabindex="-1"><div class="p_chevronBorder"><div class="p_chevronInside"></div></div></div></div><div id="p_qualitySubtitle" class="p_settingsSubtitle">Highest available</div><div id="p_qualitySubtitleUnavailable" class="p_settingsSubtitleUnavailable">Currently unavailable</div></div></div><ul id="p_qualityListWrap" aria-label="Video quality options"><li id="p_qualityPanelFirstRow" class="p_qualityPanelRow" aria-label="Low quality" tabindex="0"><div id="p_qualityPanelLowRowHeading" class="p_qualityPanelRowHeading"><span>Low</span><div class="p_qualityTick"></div></div></li><li id="p_qualityPanelMediumRow" class="p_qualityPanelRow" aria-label="Medium quality" tabindex="0"><div id="p_qualityPanelMediumRowHeading" class="p_qualityPanelRowHeading"><span>Medium</span><div class="p_qualityTick"></div></div></li><li id="p_qualityPanelHighRow" class="p_qualityPanelRow p_qualitySettingOn" aria-label="Highest quality available selected" tabindex="0"><div id="p_qualityPanelHighRowHeading" class="p_qualityPanelRowHeading"><span>Highest available</span><div class="p_qualityTick"></div></div><div aria-hidden="true" id="p_qualityPanelHighRowSubtitle" class="p_qualityPanelRowSubtitle"><span>Automatically selects the best quality available</span></div></li></ul></div></div><div class="p_downArrow"></div></div><button class="p_button p_controlBarButton p_speedButton p_dontCloseSettingsPanel" role="button" aria-live="polite" aria-label="Open playback speed menu" title="Open playback speed menu"><span class="p_hiddenElement" aria-hidden="true">Open playback speed menu</span><div class="p_selected_background"><div class="p_selected_indicator"></div></div><div class="p_buttonText">1x</div></button><div id="p_speedContainer" class="p_dontCloseSettingsPanel"><div class="p_speedMask"></div><div class="p_speedBox"><div class="p_speedLabel">Playback speed</div><div class="p_sizingButtonsContainer"><button class="p_speedSettingButton p_button font-family-sans" aria-pressed="false" aria-label="Set speed to 0.5 times" title="Set speed to 0.5 times"><div class="p_audioButton_buttonInner">0.5x</div></button><button class="p_speedSettingButton p_button font-family-sans" aria-pressed="false" aria-label="Set speed to 0.8 times" title="Set speed to 0.8 times"><div class="p_audioButton_buttonInner">0.8x</div></button><button class="p_speedSettingButton p_button font-family-sans" aria-pressed="false" aria-label="Set speed to normal" title="Set speed to normal"><div class="p_audioButton_buttonInner">1x</div></button><button class="p_speedSettingButton p_button font-family-sans" aria-pressed="false" aria-label="Set speed to 1.2 times" title="Set speed to 1.2 times"><div class="p_audioButton_buttonInner">1.2x</div></button><button class="p_speedSettingButton p_button font-family-sans" aria-pressed="false" aria-label="Set speed to 1.5 times" title="Set speed to 1.5 times"><div class="p_audioButton_buttonInner">1.5x</div></button><button class="p_speedSettingButton p_button font-family-sans" aria-pressed="false" aria-label="Set speed to 2 times" title="Set speed to 2 times"><div class="p_audioButton_buttonInner">2x</div></button></div><div id="p_speedIndicator"></div></div><div class="p_downArrow"></div></div><button class="p_button p_controlBarButton p_chromecastButton" role="button" aria-live="polite" aria-label="Cast this programme" title="Cast this programme"><span class="p_hiddenElement" aria-hidden="true">Cast this programme</span><div class="p_selected_background"><div class="p_selected_indicator"></div></div><div class="p_iconHolder"><svg focusable="false" viewBox="0 0 44 44" class="p_svg  p_chromecastIcon"><use xlink:href="#chromecast"></use></svg></div></button><button class="p_button p_controlBarButton p_picInPicButton" role="button" aria-live="polite" aria-label="Open Picture in Picture mode" title="Open Picture in Picture mode"><span class="p_hiddenElement" aria-hidden="true">Open Picture in Picture mode</span><div class="p_selected_background"><div class="p_selected_indicator"></div></div><div class="p_iconHolder"><svg focusable="false" viewBox="0 0 44 44" class="p_svg  p_picInPicIcon"><use xlink:href="#picInPic"></use></svg></div></button><button class="p_button p_controlBarButton p_embedButton" role="button" aria-live="polite" aria-label="Get embed code" title="Get embed code"><span class="p_hiddenElement" aria-hidden="true">Get embed code</span><div class="p_iconHolder"><svg focusable="false" viewBox="0 0 44 44" class="p_svg  p_embedIcon"><use xlink:href="#embed"></use></svg></div></button></div><div class="p_chapterMarkersHolder"><div class="p_chapterTip"><span></span><div class="p_timeTipTriangle"></div></div></div><div class="p_playerSeekBarHolder" aria-hidden="false"><div class="p_bar p_seekBar"><div class="p_seekBarPositionLine"></div></div><div class="p_bar p_progressBar p_progressBarAvailable"></div><div class="p_bar p_progressBar"></div><button class="p_button p_seekThumb" title="Seek bar" aria-label="Seek bar" role="slider" aria-control="video" aria-valuemin="0" aria-valuemax="100" aria-valuetext="Playback time is 00:00 of 00:00" style="display: none;"><div class="p_seekThumbLine"></div><div class="p_seekThumbHalo"></div></button></div><div class="p_thumbnail"></div><div class="p_timeTip" aria-hidden="true"><span class="p_timeTipText"></span><div class="p_timeTipTriangle"></div></div></div><div id="p_pluginContainer" class="notInteractiveContent" style="width: 868px; height: 488px;"></div></div>


<div class="p_ctaGuidance p_guidance" style="display: none; visibility: visible;"><div class="p_guidanceContainer"><div class="p_guidanceHolder"><span class="p_guidanceFallback"><span class="p_guidanceFallbackText">G</span></span><div class="p_iconHolder"><svg focusable="false" viewBox="0 0 44 44" class="p_svg  p_guidanceIcon"><use xlink:href="#guidance"></use></svg></div><span class="p_guidanceText" style="margin-left: 25px;"></span></div></div><button style="display: none;"></button><span class="guidanceClose" style="display: none;"><div class="p_iconHolder"><svg focusable="false" viewBox="0 0 44 44" class="p_svg  p_crossIcon"><use xlink:href="#cross"></use></svg></div></span></div><script type="text/javascript" src="./dash.all.min.js"></script><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="176" height="32" viewBox="0 0 176 32" focusable="false">
    <defs>
        <g id="play">
            <polygon points="14.4,33 32.3,22 14.4,11"></polygon>
        </g>
        <g id="play-iplayer">
            <polygon points="19.2,11 13.8,11 13.8,16.5 19.2,16.5 19.2,14.2 28.2,22 19.2,29.8 19.2,19.2 13.8,19.2 13.8,33 19.2,33 31.6,22"></polygon>
        </g>
		<g id="mute">
			<polygon points="22,13.8 17.9,17.9 11,17.9 11,26.1 17.9,26.1 22,30.2"></polygon>
			<rect x="23.7" y="21.3" transform="matrix(0.7072 0.7071 -0.7071 0.7072 23.9848 -13.908)" width="10.2" height="1.4"></rect>
			<rect x="28.1" y="16.9" transform="matrix(0.7072 0.707 -0.707 0.7072 23.9802 -13.9074)" width="1.4" height="10.2"></rect>
		</g>
        <g id="audio">
            <path d="M25.7,14.3l-1,1c1.7,1.7,2.8,4.1,2.8,6.7c0,2.6-1.1,5-2.8,6.7l1,1c2-2,3.2-4.7,3.2-7.7C28.9,19,27.7,16.3,25.7,14.3z"></path>
            <path d="M28.6,11.4l-1,1c2.5,2.5,4,5.9,4,9.7s-1.5,7.2-4,9.7l1,1C31.3,29.9,33,26.1,33,22C33,17.9,31.3,14.1,28.6,11.4z"></path>
            <polygon points="22,13.8 17.9,17.9 11,17.9 11,26.1 17.9,26.1 22,30.2"></polygon>
        </g>
        <g id="play-iplayer-audio">
            <path d="M26,14.5l-1,1c1.7,1.7,2.7,4,2.7,6.6c0,2.6-1,4.9-2.7,6.6l1,1c1.9-1.9,3.1-4.6,3.1-7.5C29.1,19.1,27.9,16.5,26,14.5z"></path>
            <path d="M28.8,11.7l-1,1c2.4,2.4,3.9,5.8,3.9,9.4c0,3.7-1.5,7-3.9,9.4l1,1c2.6-2.7,4.3-6.3,4.3-10.4C33.1,18,31.5,14.3,28.8,11.7z"></path>
            <polygon points="15.4,13.2 11,13.2 11,17.6 15.4,17.6 15.4,15.8 22.5,22 15.4,28.2 15.4,19.8 11,19.8 11,30.8 15.4,30.8 25.3,22"></polygon>
        </g>
        <g id="volume">
            <path d="M25.7,14.3l-1,1c1.7,1.7,2.8,4.1,2.8,6.7s-1.1,5-2.8,6.7l1,1c2-2,3.2-4.7,3.2-7.7C28.9,19,27.7,16.3,25.7,14.3z"></path>
            <path d="M28.6,11.4l-1,1c2.5,2.5,4,5.9,4,9.7c0,3.8-1.5,7.2-4,9.7l1,1C31.3,29.9,33,26.1,33,22C33,17.9,31.3,14.1,28.6,11.4z"></path>
            <polygon points="22,13.8 17.9,17.9 11,17.9 11,26.1 17.9,26.1 22,30.2"></polygon>
        </g>
        <g id="pause">
            <rect x="13.1" y="11" width="6.2" height="22"></rect>
            <rect x="24.8" y="11" width="6.2" height="22"></rect>
        </g>
        <g id="fullscreen-enter">
            <path d="M26.1,19.2v6.9h-8.2v-8.2h8.2 M27.5,16.5h-11v11h11V16.5L27.5,16.5z"></path>
            <polygon points="25.4,11 33,11 33,18.6"></polygon>
            <polygon points="18.6,11 11,11 11,18.6"></polygon>
            <polygon points="25.4,33 33,33 33,25.4"></polygon>
            <polygon points="18.6,33 11,33 11,25.4"></polygon>
        </g>
        <g id="fullscreen-return">
            <polygon points="28,12 20,12 20,4"></polygon>
            <polygon points="4,12 12,12 12,4"></polygon>
            <polygon points="28,20 20,20 20,28"></polygon>
            <polygon points="4,20 12,20 12,28"></polygon>
            <rect x="1" width="30" height="2"></rect>
            <rect x="1" y="30.5" width="30" height="2"></rect>
            <rect width="2" height="32"></rect>
            <rect x="30" width="2" height="32"></rect>
        </g>
        <g id="embed">
            <polygon points="17.9,19.4 17.9,15.1 11,21.9 17.9,28.9 17.9,24.5 15.3,21.9 "></polygon>
            <polygon points="26.1,24.5 26.1,28.9 33,21.9 26.1,15.1 26.1,19.4 28.7,21.9 "></polygon>
            <rect x="18.3" y="21.4" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -9.1427 22.0532)" width="7.5" height="1.4"></rect>
        </g>
        <g id="guidance">
            <circle fill="inherit" cx="22" cy="22" r="11"></circle>
            <path fill="currentColor" d="M27.1,27.5h-1.8L25,26.3c-0.8,1.1-2,1.4-3.1,1.4c-3.3,0-5.5-2.5-5.5-5.7c0-3.2,2.2-5.7,5.5-5.7c2.3,0,4.7,1.2,5,4h-2.9c-0.1-0.9-1-1.5-2.2-1.5c-1.8,0-2.6,1.6-2.6,3.3c0,1.6,0.7,3.3,2.6,3.3c1.4,0,2.4-0.7,2.5-1.7h-2v-2.1h4.6V27.5z"></path>
        </g>
        <g id="padlock-locked">
            <rect x="13.1" y="20.6" width="17.9" height="12.4"></rect>
            <path d="M22,14.4c1.5,0,2.8,1.2,2.8,2.8v8.2c0,1.5-1.2,2.8-2.8,2.8c-1.5,0-2.8-1.2-2.8-2.8v-8.2C19.2,15.7,20.5,14.4,22,14.4M22,11c-3.4,0-6.2,2.8-6.2,6.2v8.2c0,3.4,2.8,6.2,6.2,6.2c3.4,0,6.2-2.8,6.2-6.2v-8.2C28.2,13.8,25.4,11,22,11L22,11z"></path>
        </g>
        <g id="padlock-unlocked">
            <path d="M26.8,11c-3.4,0-6.2,2.8-6.2,6.2v3.4h-4.8h-3.4H11V33h15.8V20.6h-2.1h-0.7v-3.4c0-1.5,1.2-2.8,2.8-2.8c1.5,0,2.8,1.2,2.8,2.8v3.4H33v-3.4C33,13.8,30.2,11,26.8,11z"></path>
        </g>
        <g id="cross">
            <rect x="20.3" y="8.2" transform="matrix(0.7071 0.7071 -0.7071 0.7071 22 -9.1127)" width="3.4" height="27.7"></rect>
            <rect x="20.3" y="8.2" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -9.1127 21.9994)" width="3.4" height="27.7"></rect>
        </g>
        <g id="chromecast">
            <path d="M19.9,30.4H18c-0.5-3.6-3.4-6.5-7-7v-1.9           C15.7,22.1,19.4,25.7,19.9,30.4z M16.6,30.4h-1.9c-0.4-1.8-1.8-3.2-3.7-3.7v-1.9C13.8,25.3,16.1,27.6,16.6,30.4z M13.2,30.4H11           v-2.2C12,28.6,12.8,29.4,13.2,30.4z"></path>
            <path d="M21.5,29.1c-0.1-0.6-0.3-1.2-0.5-1.7h10.3V15.3l-17.3,0v5.1           c-0.6-0.2-1.1-0.4-1.7-0.5v-6.3H33v15.5H21.5z"></path>
        </g>
        <g id="closed-captions">
            <path d="M11,14v16h22V14H11z M21.5,20.9h-1.8v-0.1c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.1-0.2-0.2-0.3-0.3                 c-0.1-0.1-0.2-0.2-0.4-0.2c-0.1,0-0.3,0-0.4,0c-0.3,0-0.5,0.1-0.7,0.2c-0.2,0.1-0.4,0.3-0.5,0.4c-0.1,0.2-0.2,0.4-0.3,0.7                 c-0.1,0.3-0.1,0.5-0.1,0.8c0,0.3,0,0.5,0.1,0.8c0.1,0.2,0.2,0.4,0.3,0.6s0.3,0.3,0.5,0.4c0.2,0.1,0.4,0.2,0.7,0.2                 c0.4,0,0.7-0.1,0.9-0.3c0.2-0.2,0.4-0.3,0.4-0.7h1.7v0.1c0,0.4-0.1,0.7-0.3,1c-0.1,0.2-0.3,0.4-0.6,0.7c-0.3,0.2-0.6,0.4-0.9,0.5                 c-0.4,0.1-0.7,0.2-1.2,0.2s-1-0.1-1.4-0.3c-0.4-0.2-0.8-0.4-1.1-0.8c-0.3-0.3-0.5-0.7-0.7-1.1c-0.2-0.4-0.2-0.9-0.2-1.4                 s0.1-1,0.2-1.4c0.2-0.4,0.4-0.8,0.7-1.2c0.3-0.3,0.7-0.6,1.1-0.8c0.4-0.2,0.9-0.3,1.4-0.3c0.4,0,0.7,0.1,1.1,0.2                 c0.3,0.1,0.6,0.3,0.9,0.5s0.5,0.5,0.7,0.8c0.2,0.3,0.3,0.6,0.3,1V20.9z M28.9,20.9h-1.8v-0.1c0-0.1-0.1-0.2-0.1-0.3                 c-0.1-0.1-0.2-0.2-0.3-0.3c-0.1-0.1-0.2-0.2-0.4-0.2c-0.1,0-0.3,0-0.4,0c-0.3,0-0.5,0.1-0.7,0.2c-0.2,0.1-0.4,0.3-0.5,0.4                 c-0.1,0.2-0.2,0.4-0.3,0.7c-0.1,0.3-0.1,0.5-0.1,0.8c0,0.3,0,0.5,0.1,0.8c0.1,0.2,0.2,0.4,0.3,0.6c0.1,0.2,0.3,0.3,0.5,0.4                 c0.2,0.1,0.4,0.2,0.7,0.2c0.4,0,0.7-0.1,0.9-0.3s0.4-0.3,0.4-0.7h1.7v0.1c0,0.4-0.1,0.7-0.3,1c-0.1,0.2-0.3,0.4-0.6,0.7                 c-0.3,0.2-0.6,0.4-0.9,0.5c-0.4,0.1-0.7,0.2-1.2,0.2s-1-0.1-1.4-0.3s-0.8-0.4-1.1-0.8c-0.3-0.3-0.5-0.7-0.7-1.1                 c-0.2-0.4-0.2-0.9-0.2-1.4s0.1-1,0.2-1.4c0.2-0.4,0.4-0.8,0.7-1.2c0.3-0.3,0.7-0.6,1.1-0.8c0.4-0.2,0.9-0.3,1.4-0.3                 c0.4,0,0.7,0.1,1.1,0.2c0.3,0.1,0.6,0.3,0.9,0.5c0.3,0.2,0.5,0.5,0.7,0.8c0.2,0.3,0.3,0.6,0.3,1V20.9z"></path>
        </g>
        <g id="catcast">
            <path d="M10.4,30.7C10.4,30.8,10.4,30.8,10.4,30.7l1.3,0c0,0,0,0,0,0c0-2.1-1.7-3.7-3.7-3.7v1.3                 C9.3,28.3,10.4,29.4,10.4,30.7z"></path>
            <path d="M9.2,30.8C9.2,30.8,9.2,30.8,9.2,30.8c0-0.7-0.6-1.3-1.2-1.3v1.3H9.2z"></path>
            <path d="M12.9,30.7C12.9,30.8,12.9,30.8,12.9,30.7l1.3,0c0,0,0,0,0,0c0-3.4-2.8-6.2-6.2-6.2v1.3                 C10.7,25.8,12.9,28,12.9,30.7z"></path>
            <path d="M32,26.7l5.8-4.1l-6.4,2.4c-0.1-2.6-1-5.2-2.7-7.2l0.6-4.7l-3.5,2.2c-1.9-1.2-4-1.8-6.2-1.8                 c-2.2,0-4.3,0.6-6.2,1.8L10,13.2l0.6,4.7c-1.1,1.3-1.9,2.8-2.3,4.4l0,0.6l0.5,0c0.2,0,0.4,0,0.7,0c3.5,0,6.3,2.8,6.3,6.3                 c0,0,0,0,0,0c0,0,0,0,0,0l0,0.5h18.8l-2.8-1.5l3.7-0.9L32,26.7z M13.6,20.4c-0.7,0-1.3-0.6-1.3-1.3s0.6-1.3,1.3-1.3                 s1.3,0.6,1.3,1.3S14.3,20.4,13.6,20.4z M21.5,21.7c-0.3,0.2-0.7,0.5-1,0.7c-0.3,0.2-0.6,0.2-0.9,0c-0.3-0.3-0.6-0.5-1-0.7                 c-0.5-0.3-0.4-1.1,0.2-1.3c0.4-0.1,0.8-0.1,1.2-0.1s0.8,0,1.2,0.1C21.9,20.6,22.1,21.4,21.5,21.7z M25.9,20.4                 c-0.7,0-1.3-0.6-1.3-1.3s0.6-1.3,1.3-1.3s1.3,0.6,1.3,1.3S26.6,20.4,25.9,20.4z"></path>
        </g>
        <g id="subtitles">
            <path d="M11,12v22h22V12H11z M22,28.8c-2.5,0-4.8-0.8-4.8-3.8h2.9c0.1,1,0.9,1.6,2.1,1.6c0.9,0,1.8-0.4,1.8-1.2                 c0-1-1.6-1.2-3.2-1.6c-1.6-0.4-3.2-1.2-3.2-3.2c0-2.4,2.4-3.3,4.5-3.3c2.2,0,4.4,0.6,4.4,3.6h-2.9c0-1-0.9-1.4-1.8-1.4                 c-0.6,0-1.4,0.2-1.4,0.9c0,0.8,1.6,1,3.2,1.4c1.6,0.4,3.2,1.2,3.2,3.2C26.8,27.9,24.4,28.8,22,28.8z"></path>
        </g>
        <g id="alert">
            <path d="M0,44h50.3L25.1,0L0,44z M22,14.1h6.3v15.7H22V14.1z M22,33h6.3v6.3H22V33z"></path>
        </g>
        <g id="refresh">
            <path d="M33,1.5h-8h-4v0V5v0.7v7.8h4V8.1c2.4,2.2,4,5.4,4,8.9c0,6.6-5.4,12-12,12v4c8.8,0,16-6.9,16-15.8                 c0-4.8-2.1-9.8-5.4-11.8H33V1.5z"></path>
            <path d="M9,25.9c-2.4-2.2-4-5.4-4-8.9c0-6.6,5.4-12,12-12V1C8.2,1,1,8.4,1,17.2c0,4.8,2.1,9.3,5.4,12.3H1v4h8h4v-1V29              v-0.7v-6.8H9V25.9z"></path>
        </g>
        <g id="picInPic">
            <path d="M29,0v13h-2V2H2v15h11v2H0V0H29z M32,15H15v9h17V15z"></path>
            <polygon points="5.8,4.4 4.4,5.8 9.6,11 6.7,11 6.7,13 13,13 13,6.7 11,6.7 11,9.6"></polygon>
        </g>
        <g id="picInPic-stop">
            <path d="M29,0v13h-2V2H2v15h11v2H0V0H29z M32,15H15v9h17V15z M12.2,13.6l1.4-1.4L8.4,7H11V5H5v6h2V8.4L12.2,13.6z"></path>
        </g>

        <g id="gel-exitLink">
            <path d="M9.8,8l6.2,6.2L14.2,16L8,9.8L1.8,16L0,14.2L6.2,8L0,1.8L1.8,0L8,6.2L14.2,0L16,1.8L9.8,8z"></path>
        </g>

        <g id="guidance-alert">
            <path d="M8,0L0,14h16L8,0z M9,12.5H7v-2h2V12.5z M7,9.5v-5h2v5H7z"></path>
        </g>

        <g id="accessibility">
            <path d="M15.76,23.91h7.5V22.66h-7.5v1.25Zm-2.5-9V26.05h8.13v3.09l3.44-3.09h5.94V14.92ZM32,27.58H25.26L20.14,32V27.58H12V13.75H32V27.58Zm-5-7.5H17v1.25H27Zm-2.5,2.61h3.75v1.14H24.51V22.69Z"></path>
        </g>

        <g id="playback-settings">
            <path d="M22.76522,23.847576 C21.7467559,24.2695688 20.5757973,23.785077 20.1528122,22.7645945 C19.7303271,21.744612 20.21531,20.575132 21.234774,20.1521393 C22.254238,19.7306465 23.4246967,20.2146382 23.8476818,21.2341207 C24.2706668,22.2546033 23.784184,23.4260832 22.76522,23.847576 M29.8439701,23.8605758 L28.0525333,23.1185885 C28.1885285,22.3896009 28.1955283,21.6326139 28.0560332,20.8801268 L29.8439701,20.1396395 C29.9724655,20.0861404 30.0339634,19.9376429 29.9809652,19.8096451 L29.1919931,17.9051777 C29.139495,17.7776799 28.9910002,17.715681 28.8630047,17.7691801 L27.0735679,18.5101674 C26.6400832,17.8791782 26.0996023,17.3481873 25.4891238,16.9286945 L26.2310976,15.1377251 C26.2840957,15.0092273 26.2225979,14.8607299 26.0941025,14.8077308 L24.1906696,14.0192443 C24.0626742,13.9657452 23.9146794,14.0277441 23.8611813,14.1562419 L23.1192075,15.9472113 C22.3902332,15.8122136 21.6327599,15.8047137 20.8807865,15.9442113 L20.1393127,14.1562419 C20.0863145,14.0277441 19.9378198,13.9657452 19.8093243,14.0192443 L17.9058915,14.8077308 C17.777396,14.8617299 17.7153982,15.0102273 17.7693963,15.1377251 L18.5098702,16.9271945 C17.8798924,17.3596871 17.3489112,17.9001778 16.929926,18.5106674 L15.1384892,17.7686801 C15.0104937,17.715681 14.861499,17.7776799 14.8090008,17.9051777 L14.0200287,19.8096451 C13.9670305,19.9376429 14.0280284,20.0861404 14.1570238,20.1396395 L15.9479606,20.8816268 C15.8129654,21.6091143 15.8049657,22.3666013 15.9444607,23.1190885 L14.1560239,23.8605758 C14.0275284,23.9135748 13.9655306,24.0620723 14.0195287,24.1905701 L14.8090008,26.0945375 C14.8619989,26.2225353 15.0104937,26.2845342 15.1384892,26.2315352 L16.927426,25.4900479 C17.3609107,26.121037 17.9008917,26.651528 18.5113701,27.0700208 L17.7698963,28.8619901 C17.7163982,28.9899879 17.777896,29.1384854 17.9063915,29.1919845 L19.8103243,29.980471 C19.9388197,30.03447 20.0868145,29.9724711 20.1398126,29.8439733 L20.8817865,28.052504 C21.6102607,28.1875017 22.367234,28.1955015 23.1207074,28.0555039 L23.8616813,29.8439733 C23.9151794,29.9724711 24.0636741,30.03347 24.1916696,29.980471 L26.0951024,29.1914845 C26.2235979,29.1384854 26.2850957,28.9899879 26.2320976,28.8619901 L25.4901238,27.0730207 C26.1216015,26.6395282 26.6515828,26.0995374 27.071068,25.4890479 L28.8625047,26.2310352 C28.9900002,26.2845342 29.139495,26.2225353 29.1919931,26.0945375 L29.9809652,24.1905701 C30.0339634,24.0620723 29.9724655,23.9130749 29.8439701,23.8605758"></path>
        </g>

        <symbol id="live-pulse" viewBox="0 0 12 12">
            <path id="liveIconRing" d="M5.96681502,10.3410568 C8.38342771,10.3410568 10.3424794,8.38388329 10.3424794,5.96958745 C10.3424794,3.5552916 8.38342771,1.59811812 5.96681502,1.59811812 C3.55020233,1.59811812 1.59115067,3.5552916 1.59115067,5.96958745 C1.59115067,8.38388329 3.55020233,10.3410568 5.96681502,10.3410568 Z M5.96681502,11.930682 C2.67143408,11.930682 0,9.26180906 0,5.96958745 C0,2.67736584 2.67143408,0.00849290887 5.96681502,0.00849290887 C9.26219596,0.00849290887 11.93363,2.67736584 11.93363,5.96958745 C11.93363,9.26180906 9.26219596,11.930682 5.96681502,11.930682 Z"></path>
            <circle id="liveIconCentre" cx="6" cy="6" r="3"></circle>
        </symbol>

    </defs>
</svg></body></html>